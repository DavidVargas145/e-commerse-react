function f0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rm={exports:{}},Ua={},Pm={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),m0=Symbol.for("react.portal"),g0=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),v0=Symbol.for("react.profiler"),_0=Symbol.for("react.provider"),w0=Symbol.for("react.context"),E0=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),I0=Symbol.for("react.memo"),S0=Symbol.for("react.lazy"),mf=Symbol.iterator;function A0(t){return t===null||typeof t!="object"?null:(t=mf&&t[mf]||t["@@iterator"],typeof t=="function"?t:null)}var km={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xm=Object.assign,Nm={};function fi(t,e,n){this.props=t,this.context=e,this.refs=Nm,this.updater=n||km}fi.prototype.isReactComponent={};fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vm(){}Vm.prototype=fi.prototype;function jc(t,e,n){this.props=t,this.context=e,this.refs=Nm,this.updater=n||km}var Uc=jc.prototype=new Vm;Uc.constructor=jc;xm(Uc,fi.prototype);Uc.isPureReactComponent=!0;var gf=Array.isArray,Dm=Object.prototype.hasOwnProperty,Bc={current:null},Om={key:!0,ref:!0,__self:!0,__source:!0};function Mm(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Dm.call(e,r)&&!Om.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:zo,type:t,key:o,ref:s,props:i,_owner:Bc.current}}function C0(t,e){return{$$typeof:zo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zc(t){return typeof t=="object"&&t!==null&&t.$$typeof===zo}function R0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yf=/\/+/g;function Ul(t,e){return typeof t=="object"&&t!==null&&t.key!=null?R0(""+t.key):e.toString(36)}function Us(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zo:case m0:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ul(s,0):r,gf(i)?(n="",t!=null&&(n=t.replace(yf,"$&/")+"/"),Us(i,e,n,"",function(c){return c})):i!=null&&(zc(i)&&(i=C0(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(yf,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",gf(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+Ul(o,l);s+=Us(o,e,n,u,i)}else if(u=A0(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+Ul(o,l++),s+=Us(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function _s(t,e,n){if(t==null)return t;var r=[],i=0;return Us(t,r,"","",function(o){return e.call(n,o,i++)}),r}function P0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},Bs={transition:null},k0={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Bs,ReactCurrentOwner:Bc};function Lm(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:_s,forEach:function(t,e,n){_s(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _s(t,function(){e++}),e},toArray:function(t){return _s(t,function(e){return e})||[]},only:function(t){if(!zc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=fi;J.Fragment=g0;J.Profiler=v0;J.PureComponent=jc;J.StrictMode=y0;J.Suspense=T0;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k0;J.act=Lm;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xm({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Bc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Dm.call(e,u)&&!Om.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:zo,type:t.type,key:i,ref:o,props:r,_owner:s}};J.createContext=function(t){return t={$$typeof:w0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_0,_context:t},t.Consumer=t};J.createElement=Mm;J.createFactory=function(t){var e=Mm.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:E0,render:t}};J.isValidElement=zc;J.lazy=function(t){return{$$typeof:S0,_payload:{_status:-1,_result:t},_init:P0}};J.memo=function(t,e){return{$$typeof:I0,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Bs.transition;Bs.transition={};try{t()}finally{Bs.transition=e}};J.unstable_act=Lm;J.useCallback=function(t,e){return ot.current.useCallback(t,e)};J.useContext=function(t){return ot.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};J.useEffect=function(t,e){return ot.current.useEffect(t,e)};J.useId=function(){return ot.current.useId()};J.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return ot.current.useMemo(t,e)};J.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};J.useRef=function(t){return ot.current.useRef(t)};J.useState=function(t){return ot.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return ot.current.useTransition()};J.version="18.3.1";Pm.exports=J;var U=Pm.exports;const bm=Cm(U),x0=f0({__proto__:null,default:bm},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0=U,V0=Symbol.for("react.element"),D0=Symbol.for("react.fragment"),O0=Object.prototype.hasOwnProperty,M0=N0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L0={key:!0,ref:!0,__self:!0,__source:!0};function Fm(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)O0.call(e,r)&&!L0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:V0,type:t,key:o,ref:s,props:i,_owner:M0.current}}Ua.Fragment=D0;Ua.jsx=Fm;Ua.jsxs=Fm;Rm.exports=Ua;var M=Rm.exports,Eu={},jm={exports:{}},vt={},Um={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Q){var X=z.length;z.push(Q);e:for(;0<X;){var ye=X-1>>>1,ae=z[ye];if(0<i(ae,Q))z[ye]=Q,z[X]=ae,X=ye;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Q=z[0],X=z.pop();if(X!==Q){z[0]=X;e:for(var ye=0,ae=z.length,Se=ae>>>1;ye<Se;){var Kt=2*(ye+1)-1,Qt=z[Kt],Gt=Kt+1,Yt=z[Gt];if(0>i(Qt,X))Gt<ae&&0>i(Yt,Qt)?(z[ye]=Yt,z[Gt]=X,ye=Gt):(z[ye]=Qt,z[Kt]=X,ye=Kt);else if(Gt<ae&&0>i(Yt,X))z[ye]=Yt,z[Gt]=X,ye=Gt;else break e}}return Q}function i(z,Q){var X=z.sortIndex-Q.sortIndex;return X!==0?X:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,p=null,v=3,T=!1,C=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=z)r(c),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(c)}}function x(z){if(P=!1,_(z),!C)if(n(u)!==null)C=!0,Rt(D);else{var Q=n(c);Q!==null&&Pt(x,Q.startTime-z)}}function D(z,Q){C=!1,P&&(P=!1,m(g),g=-1),T=!0;var X=v;try{for(_(Q),p=n(u);p!==null&&(!(p.expirationTime>Q)||z&&!S());){var ye=p.callback;if(typeof ye=="function"){p.callback=null,v=p.priorityLevel;var ae=ye(p.expirationTime<=Q);Q=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(u)&&r(u),_(Q)}else r(u);p=n(u)}if(p!==null)var Se=!0;else{var Kt=n(c);Kt!==null&&Pt(x,Kt.startTime-Q),Se=!1}return Se}finally{p=null,v=X,T=!1}}var j=!1,R=null,g=-1,E=5,I=-1;function S(){return!(t.unstable_now()-I<E)}function N(){if(R!==null){var z=t.unstable_now();I=z;var Q=!0;try{Q=R(!0,z)}finally{Q?A():(j=!1,R=null)}}else j=!1}var A;if(typeof y=="function")A=function(){y(N)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ue=ee.port2;ee.port1.onmessage=N,A=function(){ue.postMessage(null)}}else A=function(){k(N,0)};function Rt(z){R=z,j||(j=!0,A())}function Pt(z,Q){g=k(function(){z(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){C||T||(C=!0,Rt(D))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var X=v;v=Q;try{return z()}finally{v=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=v;v=z;try{return Q()}finally{v=X}},t.unstable_scheduleCallback=function(z,Q,X){var ye=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ye+X:ye):X=ye,z){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=X+ae,z={id:f++,callback:Q,priorityLevel:z,startTime:X,expirationTime:ae,sortIndex:-1},X>ye?(z.sortIndex=X,e(c,z),n(u)===null&&z===n(c)&&(P?(m(g),g=-1):P=!0,Pt(x,X-ye))):(z.sortIndex=ae,e(u,z),C||T||(C=!0,Rt(D))),z},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(z){var Q=v;return function(){var X=v;v=Q;try{return z.apply(this,arguments)}finally{v=X}}}})(Bm);Um.exports=Bm;var b0=Um.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0=U,yt=b0;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zm=new Set,po={};function vr(t,e){Xr(t,e),Xr(t+"Capture",e)}function Xr(t,e){for(po[t]=e,t=0;t<e.length;t++)zm.add(e[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=Object.prototype.hasOwnProperty,j0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vf={},_f={};function U0(t){return Tu.call(_f,t)?!0:Tu.call(vf,t)?!1:j0.test(t)?_f[t]=!0:(vf[t]=!0,!1)}function B0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z0(t,e,n,r){if(e===null||typeof e>"u"||B0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function st(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$e[t]=new st(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$e[e]=new st(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$e[t]=new st(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$e[t]=new st(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$e[t]=new st(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$e[t]=new st(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$e[t]=new st(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$e[t]=new st(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$e[t]=new st(t,5,!1,t.toLowerCase(),null,!1,!1)});var $c=/[\-:]([a-z])/g;function qc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($c,qc);$e[e]=new st(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($c,qc);$e[e]=new st(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($c,qc);$e[e]=new st(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$e[t]=new st(t,1,!1,t.toLowerCase(),null,!1,!1)});$e.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$e[t]=new st(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wc(t,e,n,r){var i=$e.hasOwnProperty(e)?$e[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(z0(e,n,i,r)&&(n=null),r||i===null?U0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fn=F0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ws=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),Vr=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),Iu=Symbol.for("react.profiler"),$m=Symbol.for("react.provider"),qm=Symbol.for("react.context"),Kc=Symbol.for("react.forward_ref"),Su=Symbol.for("react.suspense"),Au=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),Wm=Symbol.for("react.offscreen"),wf=Symbol.iterator;function bi(t){return t===null||typeof t!="object"?null:(t=wf&&t[wf]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,Bl;function Hi(t){if(Bl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bl=e&&e[1]||""}return`
`+Bl+t}var zl=!1;function $l(t,e){if(!t||zl)return"";zl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{zl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hi(t):""}function $0(t){switch(t.tag){case 5:return Hi(t.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 2:case 15:return t=$l(t.type,!1),t;case 11:return t=$l(t.type.render,!1),t;case 1:return t=$l(t.type,!0),t;default:return""}}function Cu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vr:return"Fragment";case Nr:return"Portal";case Iu:return"Profiler";case Hc:return"StrictMode";case Su:return"Suspense";case Au:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qm:return(t.displayName||"Context")+".Consumer";case $m:return(t._context.displayName||"Context")+".Provider";case Kc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qc:return e=t.displayName||null,e!==null?e:Cu(t.type)||"Memo";case vn:e=t._payload,t=t._init;try{return Cu(t(e))}catch{}}return null}function q0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cu(e);case 8:return e===Hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W0(t){var e=Hm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Es(t){t._valueTracker||(t._valueTracker=W0(t))}function Km(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ru(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ef(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qm(t,e){e=e.checked,e!=null&&Wc(t,"checked",e,!1)}function Pu(t,e){Qm(t,e);var n=Fn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ku(t,e.type,n):e.hasOwnProperty("defaultValue")&&ku(t,e.type,Fn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ku(t,e,n){(e!=="number"||ra(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ki=Array.isArray;function $r(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function If(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Ki(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fn(n)}}function Gm(t,e){var n=Fn(e.value),r=Fn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ym(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ym(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ts,Xm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ts.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H0=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(t){H0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eo[e]=eo[t]})});function Jm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eo.hasOwnProperty(t)&&eo[t]?(""+e).trim():e+"px"}function Zm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Jm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var K0=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vu(t,e){if(e){if(K0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Du(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=null;function Gc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mu=null,qr=null,Wr=null;function Af(t){if(t=Wo(t)){if(typeof Mu!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Wa(e),Mu(t.stateNode,t.type,e))}}function eg(t){qr?Wr?Wr.push(t):Wr=[t]:qr=t}function tg(){if(qr){var t=qr,e=Wr;if(Wr=qr=null,Af(t),e)for(t=0;t<e.length;t++)Af(e[t])}}function ng(t,e){return t(e)}function rg(){}var ql=!1;function ig(t,e,n){if(ql)return t(e,n);ql=!0;try{return ng(t,e,n)}finally{ql=!1,(qr!==null||Wr!==null)&&(rg(),tg())}}function go(t,e){var n=t.stateNode;if(n===null)return null;var r=Wa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Lu=!1;if(an)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Lu=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Lu=!1}function Q0(t,e,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var to=!1,ia=null,oa=!1,bu=null,G0={onError:function(t){to=!0,ia=t}};function Y0(t,e,n,r,i,o,s,l,u){to=!1,ia=null,Q0.apply(G0,arguments)}function X0(t,e,n,r,i,o,s,l,u){if(Y0.apply(this,arguments),to){if(to){var c=ia;to=!1,ia=null}else throw Error(F(198));oa||(oa=!0,bu=c)}}function _r(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function og(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cf(t){if(_r(t)!==t)throw Error(F(188))}function J0(t){var e=t.alternate;if(!e){if(e=_r(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Cf(i),t;if(o===r)return Cf(i),e;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function sg(t){return t=J0(t),t!==null?ag(t):null}function ag(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ag(t);if(e!==null)return e;t=t.sibling}return null}var lg=yt.unstable_scheduleCallback,Rf=yt.unstable_cancelCallback,Z0=yt.unstable_shouldYield,ew=yt.unstable_requestPaint,Ae=yt.unstable_now,tw=yt.unstable_getCurrentPriorityLevel,Yc=yt.unstable_ImmediatePriority,ug=yt.unstable_UserBlockingPriority,sa=yt.unstable_NormalPriority,nw=yt.unstable_LowPriority,cg=yt.unstable_IdlePriority,Ba=null,zt=null;function rw(t){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Ba,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:sw,iw=Math.log,ow=Math.LN2;function sw(t){return t>>>=0,t===0?32:31-(iw(t)/ow|0)|0}var Is=64,Ss=4194304;function Qi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function aa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Qi(l):(o&=s,o!==0&&(r=Qi(o)))}else s=n&~i,s!==0?r=Qi(s):o!==0&&(r=Qi(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mt(e),i=1<<n,r|=t[n],e&=~i;return r}function aw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Mt(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=aw(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function Fu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hg(){var t=Is;return Is<<=1,!(Is&4194240)&&(Is=64),t}function Wl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $o(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mt(e),t[e]=n}function uw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Mt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Xc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var se=0;function dg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fg,Jc,pg,mg,gg,ju=!1,As=[],Cn=null,Rn=null,Pn=null,yo=new Map,vo=new Map,wn=[],cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pf(t,e){switch(t){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":yo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(e.pointerId)}}function ji(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Wo(e),e!==null&&Jc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hw(t,e,n,r,i){switch(e){case"focusin":return Cn=ji(Cn,t,e,n,r,i),!0;case"dragenter":return Rn=ji(Rn,t,e,n,r,i),!0;case"mouseover":return Pn=ji(Pn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return yo.set(o,ji(yo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,vo.set(o,ji(vo.get(o)||null,t,e,n,r,i)),!0}return!1}function yg(t){var e=tr(t.target);if(e!==null){var n=_r(e);if(n!==null){if(e=n.tag,e===13){if(e=og(n),e!==null){t.blockedOn=e,gg(t.priority,function(){pg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ou=r,n.target.dispatchEvent(r),Ou=null}else return e=Wo(n),e!==null&&Jc(e),t.blockedOn=n,!1;e.shift()}return!0}function kf(t,e,n){zs(t)&&n.delete(e)}function dw(){ju=!1,Cn!==null&&zs(Cn)&&(Cn=null),Rn!==null&&zs(Rn)&&(Rn=null),Pn!==null&&zs(Pn)&&(Pn=null),yo.forEach(kf),vo.forEach(kf)}function Ui(t,e){t.blockedOn===e&&(t.blockedOn=null,ju||(ju=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,dw)))}function _o(t){function e(i){return Ui(i,t)}if(0<As.length){Ui(As[0],t);for(var n=1;n<As.length;n++){var r=As[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cn!==null&&Ui(Cn,t),Rn!==null&&Ui(Rn,t),Pn!==null&&Ui(Pn,t),yo.forEach(e),vo.forEach(e),n=0;n<wn.length;n++)r=wn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)yg(n),n.blockedOn===null&&wn.shift()}var Hr=fn.ReactCurrentBatchConfig,la=!0;function fw(t,e,n,r){var i=se,o=Hr.transition;Hr.transition=null;try{se=1,Zc(t,e,n,r)}finally{se=i,Hr.transition=o}}function pw(t,e,n,r){var i=se,o=Hr.transition;Hr.transition=null;try{se=4,Zc(t,e,n,r)}finally{se=i,Hr.transition=o}}function Zc(t,e,n,r){if(la){var i=Uu(t,e,n,r);if(i===null)tu(t,e,r,ua,n),Pf(t,r);else if(hw(i,t,e,n,r))r.stopPropagation();else if(Pf(t,r),e&4&&-1<cw.indexOf(t)){for(;i!==null;){var o=Wo(i);if(o!==null&&fg(o),o=Uu(t,e,n,r),o===null&&tu(t,e,r,ua,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else tu(t,e,r,null,n)}}var ua=null;function Uu(t,e,n,r){if(ua=null,t=Gc(r),t=tr(t),t!==null)if(e=_r(t),e===null)t=null;else if(n=e.tag,n===13){if(t=og(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ua=t,null}function vg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tw()){case Yc:return 1;case ug:return 4;case sa:case nw:return 16;case cg:return 536870912;default:return 16}default:return 16}}var Tn=null,eh=null,$s=null;function _g(){if($s)return $s;var t,e=eh,n=e.length,r,i="value"in Tn?Tn.value:Tn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return $s=i.slice(t,1<r?1-r:void 0)}function qs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cs(){return!0}function xf(){return!1}function _t(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cs:xf,this.isPropagationStopped=xf,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),e}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},th=_t(pi),qo=we({},pi,{view:0,detail:0}),mw=_t(qo),Hl,Kl,Bi,za=we({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bi&&(Bi&&t.type==="mousemove"?(Hl=t.screenX-Bi.screenX,Kl=t.screenY-Bi.screenY):Kl=Hl=0,Bi=t),Hl)},movementY:function(t){return"movementY"in t?t.movementY:Kl}}),Nf=_t(za),gw=we({},za,{dataTransfer:0}),yw=_t(gw),vw=we({},qo,{relatedTarget:0}),Ql=_t(vw),_w=we({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),ww=_t(_w),Ew=we({},pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tw=_t(Ew),Iw=we({},pi,{data:0}),Vf=_t(Iw),Sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Cw[t])?!!e[t]:!1}function nh(){return Rw}var Pw=we({},qo,{key:function(t){if(t.key){var e=Sw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Aw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nh,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kw=_t(Pw),xw=we({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Df=_t(xw),Nw=we({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nh}),Vw=_t(Nw),Dw=we({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ow=_t(Dw),Mw=we({},za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lw=_t(Mw),bw=[9,13,27,32],rh=an&&"CompositionEvent"in window,no=null;an&&"documentMode"in document&&(no=document.documentMode);var Fw=an&&"TextEvent"in window&&!no,wg=an&&(!rh||no&&8<no&&11>=no),Of=" ",Mf=!1;function Eg(t,e){switch(t){case"keyup":return bw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function jw(t,e){switch(t){case"compositionend":return Tg(e);case"keypress":return e.which!==32?null:(Mf=!0,Of);case"textInput":return t=e.data,t===Of&&Mf?null:t;default:return null}}function Uw(t,e){if(Dr)return t==="compositionend"||!rh&&Eg(t,e)?(t=_g(),$s=eh=Tn=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wg&&e.locale!=="ko"?null:e.data;default:return null}}var Bw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bw[t.type]:e==="textarea"}function Ig(t,e,n,r){eg(r),e=ca(e,"onChange"),0<e.length&&(n=new th("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ro=null,wo=null;function zw(t){Og(t,0)}function $a(t){var e=Lr(t);if(Km(e))return t}function $w(t,e){if(t==="change")return e}var Sg=!1;if(an){var Gl;if(an){var Yl="oninput"in document;if(!Yl){var bf=document.createElement("div");bf.setAttribute("oninput","return;"),Yl=typeof bf.oninput=="function"}Gl=Yl}else Gl=!1;Sg=Gl&&(!document.documentMode||9<document.documentMode)}function Ff(){ro&&(ro.detachEvent("onpropertychange",Ag),wo=ro=null)}function Ag(t){if(t.propertyName==="value"&&$a(wo)){var e=[];Ig(e,wo,t,Gc(t)),ig(zw,e)}}function qw(t,e,n){t==="focusin"?(Ff(),ro=e,wo=n,ro.attachEvent("onpropertychange",Ag)):t==="focusout"&&Ff()}function Ww(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $a(wo)}function Hw(t,e){if(t==="click")return $a(e)}function Kw(t,e){if(t==="input"||t==="change")return $a(e)}function Qw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bt=typeof Object.is=="function"?Object.is:Qw;function Eo(t,e){if(bt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Tu.call(e,i)||!bt(t[i],e[i]))return!1}return!0}function jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uf(t,e){var n=jf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jf(n)}}function Cg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rg(){for(var t=window,e=ra();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ra(t.document)}return e}function ih(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Gw(t){var e=Rg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Cg(n.ownerDocument.documentElement,n)){if(r!==null&&ih(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Uf(n,o);var s=Uf(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yw=an&&"documentMode"in document&&11>=document.documentMode,Or=null,Bu=null,io=null,zu=!1;function Bf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zu||Or==null||Or!==ra(r)||(r=Or,"selectionStart"in r&&ih(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),io&&Eo(io,r)||(io=r,r=ca(Bu,"onSelect"),0<r.length&&(e=new th("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Or)))}function Rs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},Xl={},Pg={};an&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function qa(t){if(Xl[t])return Xl[t];if(!Mr[t])return t;var e=Mr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Pg)return Xl[t]=e[n];return t}var kg=qa("animationend"),xg=qa("animationiteration"),Ng=qa("animationstart"),Vg=qa("transitionend"),Dg=new Map,zf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(t,e){Dg.set(t,e),vr(e,[t])}for(var Jl=0;Jl<zf.length;Jl++){var Zl=zf[Jl],Xw=Zl.toLowerCase(),Jw=Zl[0].toUpperCase()+Zl.slice(1);$n(Xw,"on"+Jw)}$n(kg,"onAnimationEnd");$n(xg,"onAnimationIteration");$n(Ng,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(Vg,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function $f(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,X0(r,e,void 0,t),t.currentTarget=null}function Og(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;$f(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;$f(i,l,c),o=u}}}if(oa)throw t=bu,oa=!1,bu=null,t}function fe(t,e){var n=e[Ku];n===void 0&&(n=e[Ku]=new Set);var r=t+"__bubble";n.has(r)||(Mg(e,t,2,!1),n.add(r))}function eu(t,e,n){var r=0;e&&(r|=4),Mg(n,t,r,e)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[Ps]){t[Ps]=!0,zm.forEach(function(n){n!=="selectionchange"&&(Zw.has(n)||eu(n,!1,t),eu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ps]||(e[Ps]=!0,eu("selectionchange",!1,e))}}function Mg(t,e,n,r){switch(vg(e)){case 1:var i=fw;break;case 4:i=pw;break;default:i=Zc}n=i.bind(null,e,n,t),i=void 0,!Lu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=tr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}ig(function(){var c=o,f=Gc(n),p=[];e:{var v=Dg.get(t);if(v!==void 0){var T=th,C=t;switch(t){case"keypress":if(qs(n)===0)break e;case"keydown":case"keyup":T=kw;break;case"focusin":C="focus",T=Ql;break;case"focusout":C="blur",T=Ql;break;case"beforeblur":case"afterblur":T=Ql;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=Vw;break;case kg:case xg:case Ng:T=ww;break;case Vg:T=Ow;break;case"scroll":T=mw;break;case"wheel":T=Lw;break;case"copy":case"cut":case"paste":T=Tw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Df}var P=(e&4)!==0,k=!P&&t==="scroll",m=P?v!==null?v+"Capture":null:v;P=[];for(var y=c,_;y!==null;){_=y;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,m!==null&&(x=go(y,m),x!=null&&P.push(Io(y,x,_)))),k)break;y=y.return}0<P.length&&(v=new T(v,C,null,n,f),p.push({event:v,listeners:P}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",v&&n!==Ou&&(C=n.relatedTarget||n.fromElement)&&(tr(C)||C[ln]))break e;if((T||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,T?(C=n.relatedTarget||n.toElement,T=c,C=C?tr(C):null,C!==null&&(k=_r(C),C!==k||C.tag!==5&&C.tag!==6)&&(C=null)):(T=null,C=c),T!==C)){if(P=Nf,x="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(P=Df,x="onPointerLeave",m="onPointerEnter",y="pointer"),k=T==null?v:Lr(T),_=C==null?v:Lr(C),v=new P(x,y+"leave",T,n,f),v.target=k,v.relatedTarget=_,x=null,tr(f)===c&&(P=new P(m,y+"enter",C,n,f),P.target=_,P.relatedTarget=k,x=P),k=x,T&&C)t:{for(P=T,m=C,y=0,_=P;_;_=Rr(_))y++;for(_=0,x=m;x;x=Rr(x))_++;for(;0<y-_;)P=Rr(P),y--;for(;0<_-y;)m=Rr(m),_--;for(;y--;){if(P===m||m!==null&&P===m.alternate)break t;P=Rr(P),m=Rr(m)}P=null}else P=null;T!==null&&qf(p,v,T,P,!1),C!==null&&k!==null&&qf(p,k,C,P,!0)}}e:{if(v=c?Lr(c):window,T=v.nodeName&&v.nodeName.toLowerCase(),T==="select"||T==="input"&&v.type==="file")var D=$w;else if(Lf(v))if(Sg)D=Kw;else{D=Ww;var j=qw}else(T=v.nodeName)&&T.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(D=Hw);if(D&&(D=D(t,c))){Ig(p,D,n,f);break e}j&&j(t,v,c),t==="focusout"&&(j=v._wrapperState)&&j.controlled&&v.type==="number"&&ku(v,"number",v.value)}switch(j=c?Lr(c):window,t){case"focusin":(Lf(j)||j.contentEditable==="true")&&(Or=j,Bu=c,io=null);break;case"focusout":io=Bu=Or=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,Bf(p,n,f);break;case"selectionchange":if(Yw)break;case"keydown":case"keyup":Bf(p,n,f)}var R;if(rh)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Dr?Eg(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(wg&&n.locale!=="ko"&&(Dr||g!=="onCompositionStart"?g==="onCompositionEnd"&&Dr&&(R=_g()):(Tn=f,eh="value"in Tn?Tn.value:Tn.textContent,Dr=!0)),j=ca(c,g),0<j.length&&(g=new Vf(g,t,null,n,f),p.push({event:g,listeners:j}),R?g.data=R:(R=Tg(n),R!==null&&(g.data=R)))),(R=Fw?jw(t,n):Uw(t,n))&&(c=ca(c,"onBeforeInput"),0<c.length&&(f=new Vf("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=R))}Og(p,e)})}function Io(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ca(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=go(t,n),o!=null&&r.unshift(Io(t,o,i)),o=go(t,e),o!=null&&r.push(Io(t,o,i))),t=t.return}return r}function Rr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qf(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=go(n,o),u!=null&&s.unshift(Io(n,u,l))):i||(u=go(n,o),u!=null&&s.push(Io(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var eE=/\r\n?/g,tE=/\u0000|\uFFFD/g;function Wf(t){return(typeof t=="string"?t:""+t).replace(eE,`
`).replace(tE,"")}function ks(t,e,n){if(e=Wf(e),Wf(t)!==e&&n)throw Error(F(425))}function ha(){}var $u=null,qu=null;function Wu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,nE=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,rE=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(t){return Hf.resolve(null).then(t).catch(iE)}:Hu;function iE(t){setTimeout(function(){throw t})}function nu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_o(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_o(e)}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mi=Math.random().toString(36).slice(2),Bt="__reactFiber$"+mi,So="__reactProps$"+mi,ln="__reactContainer$"+mi,Ku="__reactEvents$"+mi,oE="__reactListeners$"+mi,sE="__reactHandles$"+mi;function tr(t){var e=t[Bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ln]||n[Bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kf(t);t!==null;){if(n=t[Bt])return n;t=Kf(t)}return e}t=n,n=t.parentNode}return null}function Wo(t){return t=t[Bt]||t[ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Wa(t){return t[So]||null}var Qu=[],br=-1;function qn(t){return{current:t}}function me(t){0>br||(t.current=Qu[br],Qu[br]=null,br--)}function ce(t,e){br++,Qu[br]=t.current,t.current=e}var jn={},Ze=qn(jn),ut=qn(!1),ur=jn;function Jr(t,e){var n=t.type.contextTypes;if(!n)return jn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ct(t){return t=t.childContextTypes,t!=null}function da(){me(ut),me(Ze)}function Qf(t,e,n){if(Ze.current!==jn)throw Error(F(168));ce(Ze,e),ce(ut,n)}function Lg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,q0(t)||"Unknown",i));return we({},n,r)}function fa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jn,ur=Ze.current,ce(Ze,t),ce(ut,ut.current),!0}function Gf(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Lg(t,e,ur),r.__reactInternalMemoizedMergedChildContext=t,me(ut),me(Ze),ce(Ze,t)):me(ut),ce(ut,n)}var en=null,Ha=!1,ru=!1;function bg(t){en===null?en=[t]:en.push(t)}function aE(t){Ha=!0,bg(t)}function Wn(){if(!ru&&en!==null){ru=!0;var t=0,e=se;try{var n=en;for(se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}en=null,Ha=!1}catch(i){throw en!==null&&(en=en.slice(t+1)),lg(Yc,Wn),i}finally{se=e,ru=!1}}return null}var Fr=[],jr=0,pa=null,ma=0,wt=[],Et=0,cr=null,tn=1,nn="";function Xn(t,e){Fr[jr++]=ma,Fr[jr++]=pa,pa=t,ma=e}function Fg(t,e,n){wt[Et++]=tn,wt[Et++]=nn,wt[Et++]=cr,cr=t;var r=tn;t=nn;var i=32-Mt(r)-1;r&=~(1<<i),n+=1;var o=32-Mt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,tn=1<<32-Mt(e)+i|n<<i|r,nn=o+t}else tn=1<<o|n<<i|r,nn=t}function oh(t){t.return!==null&&(Xn(t,1),Fg(t,1,0))}function sh(t){for(;t===pa;)pa=Fr[--jr],Fr[jr]=null,ma=Fr[--jr],Fr[jr]=null;for(;t===cr;)cr=wt[--Et],wt[Et]=null,nn=wt[--Et],wt[Et]=null,tn=wt[--Et],wt[Et]=null}var mt=null,pt=null,ge=!1,Dt=null;function jg(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Yf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mt=t,pt=kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cr!==null?{id:tn,overflow:nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mt=t,pt=null,!0):!1;default:return!1}}function Gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yu(t){if(ge){var e=pt;if(e){var n=e;if(!Yf(t,e)){if(Gu(t))throw Error(F(418));e=kn(n.nextSibling);var r=mt;e&&Yf(t,e)?jg(r,n):(t.flags=t.flags&-4097|2,ge=!1,mt=t)}}else{if(Gu(t))throw Error(F(418));t.flags=t.flags&-4097|2,ge=!1,mt=t}}}function Xf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function xs(t){if(t!==mt)return!1;if(!ge)return Xf(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wu(t.type,t.memoizedProps)),e&&(e=pt)){if(Gu(t))throw Ug(),Error(F(418));for(;e;)jg(t,e),e=kn(e.nextSibling)}if(Xf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pt=kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=mt?kn(t.stateNode.nextSibling):null;return!0}function Ug(){for(var t=pt;t;)t=kn(t.nextSibling)}function Zr(){pt=mt=null,ge=!1}function ah(t){Dt===null?Dt=[t]:Dt.push(t)}var lE=fn.ReactCurrentBatchConfig;function zi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Ns(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jf(t){var e=t._init;return e(t._payload)}function Bg(t){function e(m,y){if(t){var _=m.deletions;_===null?(m.deletions=[y],m.flags|=16):_.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Dn(m,y),m.index=0,m.sibling=null,m}function o(m,y,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<y?(m.flags|=2,y):_):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,y,_,x){return y===null||y.tag!==6?(y=cu(_,m.mode,x),y.return=m,y):(y=i(y,_),y.return=m,y)}function u(m,y,_,x){var D=_.type;return D===Vr?f(m,y,_.props.children,x,_.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===vn&&Jf(D)===y.type)?(x=i(y,_.props),x.ref=zi(m,y,_),x.return=m,x):(x=Xs(_.type,_.key,_.props,null,m.mode,x),x.ref=zi(m,y,_),x.return=m,x)}function c(m,y,_,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=hu(_,m.mode,x),y.return=m,y):(y=i(y,_.children||[]),y.return=m,y)}function f(m,y,_,x,D){return y===null||y.tag!==7?(y=ar(_,m.mode,x,D),y.return=m,y):(y=i(y,_),y.return=m,y)}function p(m,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=cu(""+y,m.mode,_),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ws:return _=Xs(y.type,y.key,y.props,null,m.mode,_),_.ref=zi(m,null,y),_.return=m,_;case Nr:return y=hu(y,m.mode,_),y.return=m,y;case vn:var x=y._init;return p(m,x(y._payload),_)}if(Ki(y)||bi(y))return y=ar(y,m.mode,_,null),y.return=m,y;Ns(m,y)}return null}function v(m,y,_,x){var D=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return D!==null?null:l(m,y,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ws:return _.key===D?u(m,y,_,x):null;case Nr:return _.key===D?c(m,y,_,x):null;case vn:return D=_._init,v(m,y,D(_._payload),x)}if(Ki(_)||bi(_))return D!==null?null:f(m,y,_,x,null);Ns(m,_)}return null}function T(m,y,_,x,D){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(_)||null,l(y,m,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ws:return m=m.get(x.key===null?_:x.key)||null,u(y,m,x,D);case Nr:return m=m.get(x.key===null?_:x.key)||null,c(y,m,x,D);case vn:var j=x._init;return T(m,y,_,j(x._payload),D)}if(Ki(x)||bi(x))return m=m.get(_)||null,f(y,m,x,D,null);Ns(y,x)}return null}function C(m,y,_,x){for(var D=null,j=null,R=y,g=y=0,E=null;R!==null&&g<_.length;g++){R.index>g?(E=R,R=null):E=R.sibling;var I=v(m,R,_[g],x);if(I===null){R===null&&(R=E);break}t&&R&&I.alternate===null&&e(m,R),y=o(I,y,g),j===null?D=I:j.sibling=I,j=I,R=E}if(g===_.length)return n(m,R),ge&&Xn(m,g),D;if(R===null){for(;g<_.length;g++)R=p(m,_[g],x),R!==null&&(y=o(R,y,g),j===null?D=R:j.sibling=R,j=R);return ge&&Xn(m,g),D}for(R=r(m,R);g<_.length;g++)E=T(R,m,g,_[g],x),E!==null&&(t&&E.alternate!==null&&R.delete(E.key===null?g:E.key),y=o(E,y,g),j===null?D=E:j.sibling=E,j=E);return t&&R.forEach(function(S){return e(m,S)}),ge&&Xn(m,g),D}function P(m,y,_,x){var D=bi(_);if(typeof D!="function")throw Error(F(150));if(_=D.call(_),_==null)throw Error(F(151));for(var j=D=null,R=y,g=y=0,E=null,I=_.next();R!==null&&!I.done;g++,I=_.next()){R.index>g?(E=R,R=null):E=R.sibling;var S=v(m,R,I.value,x);if(S===null){R===null&&(R=E);break}t&&R&&S.alternate===null&&e(m,R),y=o(S,y,g),j===null?D=S:j.sibling=S,j=S,R=E}if(I.done)return n(m,R),ge&&Xn(m,g),D;if(R===null){for(;!I.done;g++,I=_.next())I=p(m,I.value,x),I!==null&&(y=o(I,y,g),j===null?D=I:j.sibling=I,j=I);return ge&&Xn(m,g),D}for(R=r(m,R);!I.done;g++,I=_.next())I=T(R,m,g,I.value,x),I!==null&&(t&&I.alternate!==null&&R.delete(I.key===null?g:I.key),y=o(I,y,g),j===null?D=I:j.sibling=I,j=I);return t&&R.forEach(function(N){return e(m,N)}),ge&&Xn(m,g),D}function k(m,y,_,x){if(typeof _=="object"&&_!==null&&_.type===Vr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ws:e:{for(var D=_.key,j=y;j!==null;){if(j.key===D){if(D=_.type,D===Vr){if(j.tag===7){n(m,j.sibling),y=i(j,_.props.children),y.return=m,m=y;break e}}else if(j.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===vn&&Jf(D)===j.type){n(m,j.sibling),y=i(j,_.props),y.ref=zi(m,j,_),y.return=m,m=y;break e}n(m,j);break}else e(m,j);j=j.sibling}_.type===Vr?(y=ar(_.props.children,m.mode,x,_.key),y.return=m,m=y):(x=Xs(_.type,_.key,_.props,null,m.mode,x),x.ref=zi(m,y,_),x.return=m,m=x)}return s(m);case Nr:e:{for(j=_.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(m,y.sibling),y=i(y,_.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=hu(_,m.mode,x),y.return=m,m=y}return s(m);case vn:return j=_._init,k(m,y,j(_._payload),x)}if(Ki(_))return C(m,y,_,x);if(bi(_))return P(m,y,_,x);Ns(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,_),y.return=m,m=y):(n(m,y),y=cu(_,m.mode,x),y.return=m,m=y),s(m)):n(m,y)}return k}var ei=Bg(!0),zg=Bg(!1),ga=qn(null),ya=null,Ur=null,lh=null;function uh(){lh=Ur=ya=null}function ch(t){var e=ga.current;me(ga),t._currentValue=e}function Xu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Kr(t,e){ya=t,lh=Ur=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lt=!0),t.firstContext=null)}function At(t){var e=t._currentValue;if(lh!==t)if(t={context:t,memoizedValue:e,next:null},Ur===null){if(ya===null)throw Error(F(308));Ur=t,ya.dependencies={lanes:0,firstContext:t}}else Ur=Ur.next=t;return e}var nr=null;function hh(t){nr===null?nr=[t]:nr.push(t)}function $g(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hh(e)):(n.next=i.next,i.next=n),e.interleaved=n,un(t,r)}function un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _n=!1;function dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,un(t,n)}return i=r.interleaved,i===null?(e.next=e,hh(r)):(e.next=i.next,i.next=e),r.interleaved=e,un(t,n)}function Ws(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xc(t,n)}}function Zf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function va(t,e,n,r){var i=t.updateQueue;_n=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,f=c=u=null,l=o;do{var v=l.lane,T=l.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:T,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,P=l;switch(v=e,T=n,P.tag){case 1:if(C=P.payload,typeof C=="function"){p=C.call(T,p,v);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=P.payload,v=typeof C=="function"?C.call(T,p,v):C,v==null)break e;p=we({},p,v);break e;case 2:_n=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[l]:v.push(l))}else T={eventTime:T,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=T,u=p):f=f.next=T,s|=v;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;v=l,l=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);dr|=s,t.lanes=s,t.memoizedState=p}}function ep(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Ho={},$t=qn(Ho),Ao=qn(Ho),Co=qn(Ho);function rr(t){if(t===Ho)throw Error(F(174));return t}function fh(t,e){switch(ce(Co,e),ce(Ao,t),ce($t,Ho),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nu(e,t)}me($t),ce($t,e)}function ti(){me($t),me(Ao),me(Co)}function Wg(t){rr(Co.current);var e=rr($t.current),n=Nu(e,t.type);e!==n&&(ce(Ao,t),ce($t,n))}function ph(t){Ao.current===t&&(me($t),me(Ao))}var ve=qn(0);function _a(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iu=[];function mh(){for(var t=0;t<iu.length;t++)iu[t]._workInProgressVersionPrimary=null;iu.length=0}var Hs=fn.ReactCurrentDispatcher,ou=fn.ReactCurrentBatchConfig,hr=0,_e=null,Ne=null,Me=null,wa=!1,oo=!1,Ro=0,uE=0;function Ke(){throw Error(F(321))}function gh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bt(t[n],e[n]))return!1;return!0}function yh(t,e,n,r,i,o){if(hr=o,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hs.current=t===null||t.memoizedState===null?fE:pE,t=n(r,i),oo){o=0;do{if(oo=!1,Ro=0,25<=o)throw Error(F(301));o+=1,Me=Ne=null,e.updateQueue=null,Hs.current=mE,t=n(r,i)}while(oo)}if(Hs.current=Ea,e=Ne!==null&&Ne.next!==null,hr=0,Me=Ne=_e=null,wa=!1,e)throw Error(F(300));return t}function vh(){var t=Ro!==0;return Ro=0,t}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?_e.memoizedState=Me=t:Me=Me.next=t,Me}function Ct(){if(Ne===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=Me===null?_e.memoizedState:Me.next;if(e!==null)Me=e,Ne=t;else{if(t===null)throw Error(F(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Me===null?_e.memoizedState=Me=t:Me=Me.next=t}return Me}function Po(t,e){return typeof e=="function"?e(t):e}function su(t){var e=Ct(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Ne,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var f=c.lane;if((hr&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,_e.lanes|=f,dr|=f}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,bt(r,e.memoizedState)||(lt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_e.lanes|=o,dr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function au(t){var e=Ct(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);bt(o,e.memoizedState)||(lt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Hg(){}function Kg(t,e){var n=_e,r=Ct(),i=e(),o=!bt(r.memoizedState,i);if(o&&(r.memoizedState=i,lt=!0),r=r.queue,_h(Yg.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,ko(9,Gg.bind(null,n,r,i,e),void 0,null),Le===null)throw Error(F(349));hr&30||Qg(n,e,i)}return i}function Qg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gg(t,e,n,r){e.value=n,e.getSnapshot=r,Xg(e)&&Jg(t)}function Yg(t,e,n){return n(function(){Xg(e)&&Jg(t)})}function Xg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bt(t,n)}catch{return!0}}function Jg(t){var e=un(t,1);e!==null&&Lt(e,t,1,-1)}function tp(t){var e=Ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},e.queue=t,t=t.dispatch=dE.bind(null,_e,t),[e.memoizedState,t]}function ko(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zg(){return Ct().memoizedState}function Ks(t,e,n,r){var i=Ut();_e.flags|=t,i.memoizedState=ko(1|e,n,void 0,r===void 0?null:r)}function Ka(t,e,n,r){var i=Ct();r=r===void 0?null:r;var o=void 0;if(Ne!==null){var s=Ne.memoizedState;if(o=s.destroy,r!==null&&gh(r,s.deps)){i.memoizedState=ko(e,n,o,r);return}}_e.flags|=t,i.memoizedState=ko(1|e,n,o,r)}function np(t,e){return Ks(8390656,8,t,e)}function _h(t,e){return Ka(2048,8,t,e)}function ey(t,e){return Ka(4,2,t,e)}function ty(t,e){return Ka(4,4,t,e)}function ny(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ry(t,e,n){return n=n!=null?n.concat([t]):null,Ka(4,4,ny.bind(null,e,t),n)}function wh(){}function iy(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oy(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sy(t,e,n){return hr&21?(bt(n,e)||(n=hg(),_e.lanes|=n,dr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lt=!0),t.memoizedState=n)}function cE(t,e){var n=se;se=n!==0&&4>n?n:4,t(!0);var r=ou.transition;ou.transition={};try{t(!1),e()}finally{se=n,ou.transition=r}}function ay(){return Ct().memoizedState}function hE(t,e,n){var r=Vn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ly(t))uy(e,n);else if(n=$g(t,e,n,r),n!==null){var i=it();Lt(n,t,r,i),cy(n,e,r)}}function dE(t,e,n){var r=Vn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ly(t))uy(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,bt(l,s)){var u=e.interleaved;u===null?(i.next=i,hh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=$g(t,e,i,r),n!==null&&(i=it(),Lt(n,t,r,i),cy(n,e,r))}}function ly(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function uy(t,e){oo=wa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xc(t,n)}}var Ea={readContext:At,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},fE={readContext:At,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:At,useEffect:np,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ks(4194308,4,ny.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ks(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ks(4,2,t,e)},useMemo:function(t,e){var n=Ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ut();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hE.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:tp,useDebugValue:wh,useDeferredValue:function(t){return Ut().memoizedState=t},useTransition:function(){var t=tp(!1),e=t[0];return t=cE.bind(null,t[1]),Ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_e,i=Ut();if(ge){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Le===null)throw Error(F(349));hr&30||Qg(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,np(Yg.bind(null,r,o,t),[t]),r.flags|=2048,ko(9,Gg.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ut(),e=Le.identifierPrefix;if(ge){var n=nn,r=tn;n=(r&~(1<<32-Mt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ro++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pE={readContext:At,useCallback:iy,useContext:At,useEffect:_h,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:oy,useReducer:su,useRef:Zg,useState:function(){return su(Po)},useDebugValue:wh,useDeferredValue:function(t){var e=Ct();return sy(e,Ne.memoizedState,t)},useTransition:function(){var t=su(Po)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Hg,useSyncExternalStore:Kg,useId:ay,unstable_isNewReconciler:!1},mE={readContext:At,useCallback:iy,useContext:At,useEffect:_h,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:oy,useReducer:au,useRef:Zg,useState:function(){return au(Po)},useDebugValue:wh,useDeferredValue:function(t){var e=Ct();return Ne===null?e.memoizedState=t:sy(e,Ne.memoizedState,t)},useTransition:function(){var t=au(Po)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Hg,useSyncExternalStore:Kg,useId:ay,unstable_isNewReconciler:!1};function Nt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ju(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qa={isMounted:function(t){return(t=t._reactInternals)?_r(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=it(),i=Vn(t),o=rn(r,i);o.payload=e,n!=null&&(o.callback=n),e=xn(t,o,i),e!==null&&(Lt(e,t,i,r),Ws(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=it(),i=Vn(t),o=rn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=xn(t,o,i),e!==null&&(Lt(e,t,i,r),Ws(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),r=Vn(t),i=rn(n,r);i.tag=2,e!=null&&(i.callback=e),e=xn(t,i,r),e!==null&&(Lt(e,t,r,n),Ws(e,t,r))}};function rp(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Eo(n,r)||!Eo(i,o):!0}function hy(t,e,n){var r=!1,i=jn,o=e.contextType;return typeof o=="object"&&o!==null?o=At(o):(i=ct(e)?ur:Ze.current,r=e.contextTypes,o=(r=r!=null)?Jr(t,i):jn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ip(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qa.enqueueReplaceState(e,e.state,null)}function Zu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},dh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=At(o):(o=ct(e)?ur:Ze.current,i.context=Jr(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ju(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qa.enqueueReplaceState(i,i.state,null),va(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ni(t,e){try{var n="",r=e;do n+=$0(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function lu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ec(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gE=typeof WeakMap=="function"?WeakMap:Map;function dy(t,e,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ia||(Ia=!0,cc=r),ec(t,e)},n}function fy(t,e,n){n=rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ec(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ec(t,e),typeof r!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function op(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xE.bind(null,t,e,n),e.then(t,t))}function sp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ap(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rn(-1,1),e.tag=2,xn(n,e,1))),n.lanes|=1),t)}var yE=fn.ReactCurrentOwner,lt=!1;function rt(t,e,n,r){e.child=t===null?zg(e,null,n,r):ei(e,t.child,n,r)}function lp(t,e,n,r,i){n=n.render;var o=e.ref;return Kr(e,i),r=yh(t,e,n,r,o,i),n=vh(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cn(t,e,i)):(ge&&n&&oh(e),e.flags|=1,rt(t,e,r,i),e.child)}function up(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ph(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,py(t,e,o,r,i)):(t=Xs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Eo,n(s,r)&&t.ref===e.ref)return cn(t,e,i)}return e.flags|=1,t=Dn(o,r),t.ref=e.ref,t.return=e,e.child=t}function py(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Eo(o,r)&&t.ref===e.ref)if(lt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(lt=!0);else return e.lanes=t.lanes,cn(t,e,i)}return tc(t,e,n,r,i)}function my(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(zr,ft),ft|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(zr,ft),ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ce(zr,ft),ft|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ce(zr,ft),ft|=r;return rt(t,e,i,n),e.child}function gy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tc(t,e,n,r,i){var o=ct(n)?ur:Ze.current;return o=Jr(e,o),Kr(e,i),n=yh(t,e,n,r,o,i),r=vh(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cn(t,e,i)):(ge&&r&&oh(e),e.flags|=1,rt(t,e,n,i),e.child)}function cp(t,e,n,r,i){if(ct(n)){var o=!0;fa(e)}else o=!1;if(Kr(e,i),e.stateNode===null)Qs(t,e),hy(e,n,r),Zu(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=At(c):(c=ct(n)?ur:Ze.current,c=Jr(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&ip(e,s,r,c),_n=!1;var v=e.memoizedState;s.state=v,va(e,r,s,i),u=e.memoizedState,l!==r||v!==u||ut.current||_n?(typeof f=="function"&&(Ju(e,n,f,r),u=e.memoizedState),(l=_n||rp(e,n,l,r,v,u,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,qg(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Nt(e.type,l),s.props=c,p=e.pendingProps,v=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=At(u):(u=ct(n)?ur:Ze.current,u=Jr(e,u));var T=n.getDerivedStateFromProps;(f=typeof T=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||v!==u)&&ip(e,s,r,u),_n=!1,v=e.memoizedState,s.state=v,va(e,r,s,i);var C=e.memoizedState;l!==p||v!==C||ut.current||_n?(typeof T=="function"&&(Ju(e,n,T,r),C=e.memoizedState),(c=_n||rp(e,n,c,r,v,C,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),s.props=r,s.state=C,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return nc(t,e,n,r,o,i)}function nc(t,e,n,r,i,o){gy(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Gf(e,n,!1),cn(t,e,o);r=e.stateNode,yE.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ei(e,t.child,null,o),e.child=ei(e,null,l,o)):rt(t,e,l,o),e.memoizedState=r.state,i&&Gf(e,n,!0),e.child}function yy(t){var e=t.stateNode;e.pendingContext?Qf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qf(t,e.context,!1),fh(t,e.containerInfo)}function hp(t,e,n,r,i){return Zr(),ah(i),e.flags|=256,rt(t,e,n,r),e.child}var rc={dehydrated:null,treeContext:null,retryLane:0};function ic(t){return{baseLanes:t,cachePool:null,transitions:null}}function vy(t,e,n){var r=e.pendingProps,i=ve.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(ve,i&1),t===null)return Yu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Xa(s,r,0,null),t=ar(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ic(n),e.memoizedState=rc,t):Eh(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return vE(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Dn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Dn(l,o):(o=ar(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ic(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=rc,r}return o=t.child,t=o.sibling,r=Dn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Eh(t,e){return e=Xa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vs(t,e,n,r){return r!==null&&ah(r),ei(e,t.child,null,n),t=Eh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vE(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=lu(Error(F(422))),Vs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Xa({mode:"visible",children:r.children},i,0,null),o=ar(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ei(e,t.child,null,s),e.child.memoizedState=ic(s),e.memoizedState=rc,o);if(!(e.mode&1))return Vs(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(F(419)),r=lu(o,r,void 0),Vs(t,e,s,r)}if(l=(s&t.childLanes)!==0,lt||l){if(r=Le,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,un(t,i),Lt(r,t,i,-1))}return Rh(),r=lu(Error(F(421))),Vs(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=NE.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,pt=kn(i.nextSibling),mt=e,ge=!0,Dt=null,t!==null&&(wt[Et++]=tn,wt[Et++]=nn,wt[Et++]=cr,tn=t.id,nn=t.overflow,cr=e),e=Eh(e,r.children),e.flags|=4096,e)}function dp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xu(t.return,e,n)}function uu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _y(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(rt(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dp(t,n,e);else if(t.tag===19)dp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_a(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),uu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_a(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}uu(e,!0,n,null,o);break;case"together":uu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Dn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _E(t,e,n){switch(e.tag){case 3:yy(e),Zr();break;case 5:Wg(e);break;case 1:ct(e.type)&&fa(e);break;case 4:fh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(ga,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?vy(t,e,n):(ce(ve,ve.current&1),t=cn(t,e,n),t!==null?t.sibling:null);ce(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _y(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,my(t,e,n)}return cn(t,e,n)}var wy,oc,Ey,Ty;wy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oc=function(){};Ey=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rr($t.current);var o=null;switch(n){case"input":i=Ru(t,i),r=Ru(t,r),o=[];break;case"select":i=we({},i,{value:void 0}),r=we({},r,{value:void 0}),o=[];break;case"textarea":i=xu(t,i),r=xu(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ha)}Vu(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(po.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(po.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&fe("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Ty=function(t,e,n,r){n!==r&&(e.flags|=4)};function $i(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wE(t,e,n){var r=e.pendingProps;switch(sh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return ct(e.type)&&da(),Qe(e),null;case 3:return r=e.stateNode,ti(),me(ut),me(Ze),mh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dt!==null&&(fc(Dt),Dt=null))),oc(t,e),Qe(e),null;case 5:ph(e);var i=rr(Co.current);if(n=e.type,t!==null&&e.stateNode!=null)Ey(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Qe(e),null}if(t=rr($t.current),xs(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Bt]=e,r[So]=o,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(i=0;i<Gi.length;i++)fe(Gi[i],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Ef(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":If(r,o),fe("invalid",r)}Vu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ks(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ks(r.textContent,l,t),i=["children",""+l]):po.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&fe("scroll",r)}switch(n){case"input":Es(r),Tf(r,o,!0);break;case"textarea":Es(r),Sf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ha)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ym(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Bt]=e,t[So]=r,wy(t,e,!1,!1),e.stateNode=t;e:{switch(s=Du(n,r),n){case"dialog":fe("cancel",t),fe("close",t),i=r;break;case"iframe":case"object":case"embed":fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Gi.length;i++)fe(Gi[i],t);i=r;break;case"source":fe("error",t),i=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),i=r;break;case"details":fe("toggle",t),i=r;break;case"input":Ef(t,r),i=Ru(t,r),fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=we({},r,{value:void 0}),fe("invalid",t);break;case"textarea":If(t,r),i=xu(t,r),fe("invalid",t);break;default:i=r}Vu(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Zm(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Xm(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&mo(t,u):typeof u=="number"&&mo(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(po.hasOwnProperty(o)?u!=null&&o==="onScroll"&&fe("scroll",t):u!=null&&Wc(t,o,u,s))}switch(n){case"input":Es(t),Tf(t,r,!1);break;case"textarea":Es(t),Sf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?$r(t,!!r.multiple,o,!1):r.defaultValue!=null&&$r(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ha)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)Ty(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=rr(Co.current),rr($t.current),xs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bt]=e,(o=r.nodeValue!==n)&&(t=mt,t!==null))switch(t.tag){case 3:ks(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ks(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bt]=e,e.stateNode=r}return Qe(e),null;case 13:if(me(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&pt!==null&&e.mode&1&&!(e.flags&128))Ug(),Zr(),e.flags|=98560,o=!1;else if(o=xs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(F(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[Bt]=e}else Zr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),o=!1}else Dt!==null&&(fc(Dt),Dt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?Ve===0&&(Ve=3):Rh())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return ti(),oc(t,e),t===null&&To(e.stateNode.containerInfo),Qe(e),null;case 10:return ch(e.type._context),Qe(e),null;case 17:return ct(e.type)&&da(),Qe(e),null;case 19:if(me(ve),o=e.memoizedState,o===null)return Qe(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)$i(o,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=_a(t),s!==null){for(e.flags|=128,$i(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(ve,ve.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ae()>ri&&(e.flags|=128,r=!0,$i(o,!1),e.lanes=4194304)}else{if(!r)if(t=_a(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$i(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ge)return Qe(e),null}else 2*Ae()-o.renderingStartTime>ri&&n!==1073741824&&(e.flags|=128,r=!0,$i(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ae(),e.sibling=null,n=ve.current,ce(ve,r?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return Ch(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ft&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function EE(t,e){switch(sh(e),e.tag){case 1:return ct(e.type)&&da(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ti(),me(ut),me(Ze),mh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ph(e),null;case 13:if(me(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Zr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(ve),null;case 4:return ti(),null;case 10:return ch(e.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var Ds=!1,Xe=!1,TE=typeof WeakSet=="function"?WeakSet:Set,$=null;function Br(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function sc(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var fp=!1;function IE(t,e){if($u=la,t=Rg(),ih(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,p=t,v=null;t:for(;;){for(var T;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(T=p.firstChild)!==null;)v=p,p=T;for(;;){if(p===t)break t;if(v===n&&++c===i&&(l=s),v===o&&++f===r&&(u=s),(T=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=T}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(qu={focusedElem:t,selectionRange:n},la=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var P=C.memoizedProps,k=C.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?P:Nt(e.type,P),k);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(x){Ie(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return C=fp,fp=!1,C}function so(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&sc(e,n,o)}i=i.next}while(i!==r)}}function Ga(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ac(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Iy(t){var e=t.alternate;e!==null&&(t.alternate=null,Iy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bt],delete e[So],delete e[Ku],delete e[oE],delete e[sE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sy(t){return t.tag===5||t.tag===3||t.tag===4}function pp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ha));else if(r!==4&&(t=t.child,t!==null))for(lc(t,e,n),t=t.sibling;t!==null;)lc(t,e,n),t=t.sibling}function uc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uc(t,e,n),t=t.sibling;t!==null;)uc(t,e,n),t=t.sibling}var Fe=null,Vt=!1;function yn(t,e,n){for(n=n.child;n!==null;)Ay(t,e,n),n=n.sibling}function Ay(t,e,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Ba,n)}catch{}switch(n.tag){case 5:Xe||Br(n,e);case 6:var r=Fe,i=Vt;Fe=null,yn(t,e,n),Fe=r,Vt=i,Fe!==null&&(Vt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Vt?(t=Fe,n=n.stateNode,t.nodeType===8?nu(t.parentNode,n):t.nodeType===1&&nu(t,n),_o(t)):nu(Fe,n.stateNode));break;case 4:r=Fe,i=Vt,Fe=n.stateNode.containerInfo,Vt=!0,yn(t,e,n),Fe=r,Vt=i;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&sc(n,e,s),i=i.next}while(i!==r)}yn(t,e,n);break;case 1:if(!Xe&&(Br(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ie(n,e,l)}yn(t,e,n);break;case 21:yn(t,e,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,yn(t,e,n),Xe=r):yn(t,e,n);break;default:yn(t,e,n)}}function mp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TE),e.forEach(function(r){var i=VE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Fe=l.stateNode,Vt=!1;break e;case 3:Fe=l.stateNode.containerInfo,Vt=!0;break e;case 4:Fe=l.stateNode.containerInfo,Vt=!0;break e}l=l.return}if(Fe===null)throw Error(F(160));Ay(o,s,i),Fe=null,Vt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ie(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cy(e,t),e=e.sibling}function Cy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(e,t),jt(t),r&4){try{so(3,t,t.return),Ga(3,t)}catch(P){Ie(t,t.return,P)}try{so(5,t,t.return)}catch(P){Ie(t,t.return,P)}}break;case 1:xt(e,t),jt(t),r&512&&n!==null&&Br(n,n.return);break;case 5:if(xt(e,t),jt(t),r&512&&n!==null&&Br(n,n.return),t.flags&32){var i=t.stateNode;try{mo(i,"")}catch(P){Ie(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Qm(i,o),Du(l,s);var c=Du(l,o);for(s=0;s<u.length;s+=2){var f=u[s],p=u[s+1];f==="style"?Zm(i,p):f==="dangerouslySetInnerHTML"?Xm(i,p):f==="children"?mo(i,p):Wc(i,f,p,c)}switch(l){case"input":Pu(i,o);break;case"textarea":Gm(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var T=o.value;T!=null?$r(i,!!o.multiple,T,!1):v!==!!o.multiple&&(o.defaultValue!=null?$r(i,!!o.multiple,o.defaultValue,!0):$r(i,!!o.multiple,o.multiple?[]:"",!1))}i[So]=o}catch(P){Ie(t,t.return,P)}}break;case 6:if(xt(e,t),jt(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(P){Ie(t,t.return,P)}}break;case 3:if(xt(e,t),jt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_o(e.containerInfo)}catch(P){Ie(t,t.return,P)}break;case 4:xt(e,t),jt(t);break;case 13:xt(e,t),jt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Sh=Ae())),r&4&&mp(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Xe=(c=Xe)||f,xt(e,t),Xe=c):xt(e,t),jt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for($=t,f=t.child;f!==null;){for(p=$=f;$!==null;){switch(v=$,T=v.child,v.tag){case 0:case 11:case 14:case 15:so(4,v,v.return);break;case 1:Br(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(P){Ie(r,n,P)}}break;case 5:Br(v,v.return);break;case 22:if(v.memoizedState!==null){yp(p);continue}}T!==null?(T.return=v,$=T):yp(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Jm("display",s))}catch(P){Ie(t,t.return,P)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(P){Ie(t,t.return,P)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:xt(e,t),jt(t),r&4&&mp(t);break;case 21:break;default:xt(e,t),jt(t)}}function jt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sy(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mo(i,""),r.flags&=-33);var o=pp(t);uc(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=pp(t);lc(t,l,s);break;default:throw Error(F(161))}}catch(u){Ie(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SE(t,e,n){$=t,Ry(t)}function Ry(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ds;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Xe;l=Ds;var c=Xe;if(Ds=s,(Xe=u)&&!c)for($=i;$!==null;)s=$,u=s.child,s.tag===22&&s.memoizedState!==null?vp(i):u!==null?(u.return=s,$=u):vp(i);for(;o!==null;)$=o,Ry(o),o=o.sibling;$=i,Ds=l,Xe=c}gp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,$=o):gp(t)}}function gp(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xe||Ga(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&ep(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ep(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&_o(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Xe||e.flags&512&&ac(e)}catch(v){Ie(e,e.return,v)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function yp(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function vp(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ga(4,e)}catch(u){Ie(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ie(e,i,u)}}var o=e.return;try{ac(e)}catch(u){Ie(e,o,u)}break;case 5:var s=e.return;try{ac(e)}catch(u){Ie(e,s,u)}}}catch(u){Ie(e,e.return,u)}if(e===t){$=null;break}var l=e.sibling;if(l!==null){l.return=e.return,$=l;break}$=e.return}}var AE=Math.ceil,Ta=fn.ReactCurrentDispatcher,Th=fn.ReactCurrentOwner,St=fn.ReactCurrentBatchConfig,re=0,Le=null,Pe=null,Be=0,ft=0,zr=qn(0),Ve=0,xo=null,dr=0,Ya=0,Ih=0,ao=null,at=null,Sh=0,ri=1/0,Zt=null,Ia=!1,cc=null,Nn=null,Os=!1,In=null,Sa=0,lo=0,hc=null,Gs=-1,Ys=0;function it(){return re&6?Ae():Gs!==-1?Gs:Gs=Ae()}function Vn(t){return t.mode&1?re&2&&Be!==0?Be&-Be:lE.transition!==null?(Ys===0&&(Ys=hg()),Ys):(t=se,t!==0||(t=window.event,t=t===void 0?16:vg(t.type)),t):1}function Lt(t,e,n,r){if(50<lo)throw lo=0,hc=null,Error(F(185));$o(t,n,r),(!(re&2)||t!==Le)&&(t===Le&&(!(re&2)&&(Ya|=n),Ve===4&&En(t,Be)),ht(t,r),n===1&&re===0&&!(e.mode&1)&&(ri=Ae()+500,Ha&&Wn()))}function ht(t,e){var n=t.callbackNode;lw(t,e);var r=aa(t,t===Le?Be:0);if(r===0)n!==null&&Rf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rf(n),e===1)t.tag===0?aE(_p.bind(null,t)):bg(_p.bind(null,t)),rE(function(){!(re&6)&&Wn()}),n=null;else{switch(dg(r)){case 1:n=Yc;break;case 4:n=ug;break;case 16:n=sa;break;case 536870912:n=cg;break;default:n=sa}n=My(n,Py.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Py(t,e){if(Gs=-1,Ys=0,re&6)throw Error(F(327));var n=t.callbackNode;if(Qr()&&t.callbackNode!==n)return null;var r=aa(t,t===Le?Be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Aa(t,r);else{e=r;var i=re;re|=2;var o=xy();(Le!==t||Be!==e)&&(Zt=null,ri=Ae()+500,sr(t,e));do try{PE();break}catch(l){ky(t,l)}while(!0);uh(),Ta.current=o,re=i,Pe!==null?e=0:(Le=null,Be=0,e=Ve)}if(e!==0){if(e===2&&(i=Fu(t),i!==0&&(r=i,e=dc(t,i))),e===1)throw n=xo,sr(t,0),En(t,r),ht(t,Ae()),n;if(e===6)En(t,r);else{if(i=t.current.alternate,!(r&30)&&!CE(i)&&(e=Aa(t,r),e===2&&(o=Fu(t),o!==0&&(r=o,e=dc(t,o))),e===1))throw n=xo,sr(t,0),En(t,r),ht(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Jn(t,at,Zt);break;case 3:if(En(t,r),(r&130023424)===r&&(e=Sh+500-Ae(),10<e)){if(aa(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){it(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hu(Jn.bind(null,t,at,Zt),e);break}Jn(t,at,Zt);break;case 4:if(En(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Mt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AE(r/1960))-r,10<r){t.timeoutHandle=Hu(Jn.bind(null,t,at,Zt),r);break}Jn(t,at,Zt);break;case 5:Jn(t,at,Zt);break;default:throw Error(F(329))}}}return ht(t,Ae()),t.callbackNode===n?Py.bind(null,t):null}function dc(t,e){var n=ao;return t.current.memoizedState.isDehydrated&&(sr(t,e).flags|=256),t=Aa(t,e),t!==2&&(e=at,at=n,e!==null&&fc(e)),t}function fc(t){at===null?at=t:at.push.apply(at,t)}function CE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!bt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function En(t,e){for(e&=~Ih,e&=~Ya,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mt(e),r=1<<n;t[n]=-1,e&=~r}}function _p(t){if(re&6)throw Error(F(327));Qr();var e=aa(t,0);if(!(e&1))return ht(t,Ae()),null;var n=Aa(t,e);if(t.tag!==0&&n===2){var r=Fu(t);r!==0&&(e=r,n=dc(t,r))}if(n===1)throw n=xo,sr(t,0),En(t,e),ht(t,Ae()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jn(t,at,Zt),ht(t,Ae()),null}function Ah(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(ri=Ae()+500,Ha&&Wn())}}function fr(t){In!==null&&In.tag===0&&!(re&6)&&Qr();var e=re;re|=1;var n=St.transition,r=se;try{if(St.transition=null,se=1,t)return t()}finally{se=r,St.transition=n,re=e,!(re&6)&&Wn()}}function Ch(){ft=zr.current,me(zr)}function sr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nE(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(sh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&da();break;case 3:ti(),me(ut),me(Ze),mh();break;case 5:ph(r);break;case 4:ti();break;case 13:me(ve);break;case 19:me(ve);break;case 10:ch(r.type._context);break;case 22:case 23:Ch()}n=n.return}if(Le=t,Pe=t=Dn(t.current,null),Be=ft=e,Ve=0,xo=null,Ih=Ya=dr=0,at=ao=null,nr!==null){for(e=0;e<nr.length;e++)if(n=nr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}nr=null}return t}function ky(t,e){do{var n=Pe;try{if(uh(),Hs.current=Ea,wa){for(var r=_e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wa=!1}if(hr=0,Me=Ne=_e=null,oo=!1,Ro=0,Th.current=null,n===null||n.return===null){Ve=1,xo=e,Pe=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=Be,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var T=sp(s);if(T!==null){T.flags&=-257,ap(T,s,l,o,e),T.mode&1&&op(o,c,e),e=T,u=c;var C=e.updateQueue;if(C===null){var P=new Set;P.add(u),e.updateQueue=P}else C.add(u);break e}else{if(!(e&1)){op(o,c,e),Rh();break e}u=Error(F(426))}}else if(ge&&l.mode&1){var k=sp(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),ap(k,s,l,o,e),ah(ni(u,l));break e}}o=u=ni(u,l),Ve!==4&&(Ve=2),ao===null?ao=[o]:ao.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=dy(o,u,e);Zf(o,m);break e;case 1:l=u;var y=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Nn===null||!Nn.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=fy(o,l,e);Zf(o,x);break e}}o=o.return}while(o!==null)}Vy(n)}catch(D){e=D,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function xy(){var t=Ta.current;return Ta.current=Ea,t===null?Ea:t}function Rh(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Le===null||!(dr&268435455)&&!(Ya&268435455)||En(Le,Be)}function Aa(t,e){var n=re;re|=2;var r=xy();(Le!==t||Be!==e)&&(Zt=null,sr(t,e));do try{RE();break}catch(i){ky(t,i)}while(!0);if(uh(),re=n,Ta.current=r,Pe!==null)throw Error(F(261));return Le=null,Be=0,Ve}function RE(){for(;Pe!==null;)Ny(Pe)}function PE(){for(;Pe!==null&&!Z0();)Ny(Pe)}function Ny(t){var e=Oy(t.alternate,t,ft);t.memoizedProps=t.pendingProps,e===null?Vy(t):Pe=e,Th.current=null}function Vy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EE(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,Pe=null;return}}else if(n=wE(n,e,ft),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Ve===0&&(Ve=5)}function Jn(t,e,n){var r=se,i=St.transition;try{St.transition=null,se=1,kE(t,e,n,r)}finally{St.transition=i,se=r}return null}function kE(t,e,n,r){do Qr();while(In!==null);if(re&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(uw(t,o),t===Le&&(Pe=Le=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Os||(Os=!0,My(sa,function(){return Qr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=St.transition,St.transition=null;var s=se;se=1;var l=re;re|=4,Th.current=null,IE(t,n),Cy(n,t),Gw(qu),la=!!$u,qu=$u=null,t.current=n,SE(n),ew(),re=l,se=s,St.transition=o}else t.current=n;if(Os&&(Os=!1,In=t,Sa=i),o=t.pendingLanes,o===0&&(Nn=null),rw(n.stateNode),ht(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ia)throw Ia=!1,t=cc,cc=null,t;return Sa&1&&t.tag!==0&&Qr(),o=t.pendingLanes,o&1?t===hc?lo++:(lo=0,hc=t):lo=0,Wn(),null}function Qr(){if(In!==null){var t=dg(Sa),e=St.transition,n=se;try{if(St.transition=null,se=16>t?16:t,In===null)var r=!1;else{if(t=In,In=null,Sa=0,re&6)throw Error(F(331));var i=re;for(re|=4,$=t.current;$!==null;){var o=$,s=o.child;if($.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for($=c;$!==null;){var f=$;switch(f.tag){case 0:case 11:case 15:so(8,f,o)}var p=f.child;if(p!==null)p.return=f,$=p;else for(;$!==null;){f=$;var v=f.sibling,T=f.return;if(Iy(f),f===c){$=null;break}if(v!==null){v.return=T,$=v;break}$=T}}}var C=o.alternate;if(C!==null){var P=C.child;if(P!==null){C.child=null;do{var k=P.sibling;P.sibling=null,P=k}while(P!==null)}}$=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,$=s;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:so(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,$=m;break e}$=o.return}}var y=t.current;for($=y;$!==null;){s=$;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,$=_;else e:for(s=y;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ga(9,l)}}catch(D){Ie(l,l.return,D)}if(l===s){$=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,$=x;break e}$=l.return}}if(re=i,Wn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Ba,t)}catch{}r=!0}return r}finally{se=n,St.transition=e}}return!1}function wp(t,e,n){e=ni(n,e),e=dy(t,e,1),t=xn(t,e,1),e=it(),t!==null&&($o(t,1,e),ht(t,e))}function Ie(t,e,n){if(t.tag===3)wp(t,t,n);else for(;e!==null;){if(e.tag===3){wp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nn===null||!Nn.has(r))){t=ni(n,t),t=fy(e,t,1),e=xn(e,t,1),t=it(),e!==null&&($o(e,1,t),ht(e,t));break}}e=e.return}}function xE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(Be&n)===n&&(Ve===4||Ve===3&&(Be&130023424)===Be&&500>Ae()-Sh?sr(t,0):Ih|=n),ht(t,e)}function Dy(t,e){e===0&&(t.mode&1?(e=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):e=1);var n=it();t=un(t,e),t!==null&&($o(t,e,n),ht(t,n))}function NE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dy(t,n)}function VE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),Dy(t,n)}var Oy;Oy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ut.current)lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lt=!1,_E(t,e,n);lt=!!(t.flags&131072)}else lt=!1,ge&&e.flags&1048576&&Fg(e,ma,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qs(t,e),t=e.pendingProps;var i=Jr(e,Ze.current);Kr(e,n),i=yh(null,e,r,t,i,n);var o=vh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ct(r)?(o=!0,fa(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dh(e),i.updater=Qa,e.stateNode=i,i._reactInternals=e,Zu(e,r,t,n),e=nc(null,e,r,!0,o,n)):(e.tag=0,ge&&o&&oh(e),rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qs(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OE(r),t=Nt(r,t),i){case 0:e=tc(null,e,r,t,n);break e;case 1:e=cp(null,e,r,t,n);break e;case 11:e=lp(null,e,r,t,n);break e;case 14:e=up(null,e,r,Nt(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),tc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),cp(t,e,r,i,n);case 3:e:{if(yy(e),t===null)throw Error(F(387));r=e.pendingProps,o=e.memoizedState,i=o.element,qg(t,e),va(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ni(Error(F(423)),e),e=hp(t,e,r,n,i);break e}else if(r!==i){i=ni(Error(F(424)),e),e=hp(t,e,r,n,i);break e}else for(pt=kn(e.stateNode.containerInfo.firstChild),mt=e,ge=!0,Dt=null,n=zg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zr(),r===i){e=cn(t,e,n);break e}rt(t,e,r,n)}e=e.child}return e;case 5:return Wg(e),t===null&&Yu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Wu(r,i)?s=null:o!==null&&Wu(r,o)&&(e.flags|=32),gy(t,e),rt(t,e,s,n),e.child;case 6:return t===null&&Yu(e),null;case 13:return vy(t,e,n);case 4:return fh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ei(e,null,r,n):rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),lp(t,e,r,i,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ce(ga,r._currentValue),r._currentValue=s,o!==null)if(bt(o.value,s)){if(o.children===i.children&&!ut.current){e=cn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=rn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Xu(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(F(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xu(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Kr(e,n),i=At(i),r=r(i),e.flags|=1,rt(t,e,r,n),e.child;case 14:return r=e.type,i=Nt(r,e.pendingProps),i=Nt(r.type,i),up(t,e,r,i,n);case 15:return py(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),Qs(t,e),e.tag=1,ct(r)?(t=!0,fa(e)):t=!1,Kr(e,n),hy(e,r,i),Zu(e,r,i,n),nc(null,e,r,!0,t,n);case 19:return _y(t,e,n);case 22:return my(t,e,n)}throw Error(F(156,e.tag))};function My(t,e){return lg(t,e)}function DE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new DE(t,e,n,r)}function Ph(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OE(t){if(typeof t=="function")return Ph(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kc)return 11;if(t===Qc)return 14}return 2}function Dn(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xs(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Ph(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Vr:return ar(n.children,i,o,e);case Hc:s=8,i|=8;break;case Iu:return t=It(12,n,e,i|2),t.elementType=Iu,t.lanes=o,t;case Su:return t=It(13,n,e,i),t.elementType=Su,t.lanes=o,t;case Au:return t=It(19,n,e,i),t.elementType=Au,t.lanes=o,t;case Wm:return Xa(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $m:s=10;break e;case qm:s=9;break e;case Kc:s=11;break e;case Qc:s=14;break e;case vn:s=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=It(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ar(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function Xa(t,e,n,r){return t=It(22,t,r,e),t.elementType=Wm,t.lanes=n,t.stateNode={isHidden:!1},t}function cu(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function hu(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ME(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kh(t,e,n,r,i,o,s,l,u){return t=new ME(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=It(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dh(o),t}function LE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ly(t){if(!t)return jn;t=t._reactInternals;e:{if(_r(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(ct(n))return Lg(t,n,e)}return e}function by(t,e,n,r,i,o,s,l,u){return t=kh(n,r,!0,t,i,o,s,l,u),t.context=Ly(null),n=t.current,r=it(),i=Vn(n),o=rn(r,i),o.callback=e??null,xn(n,o,i),t.current.lanes=i,$o(t,i,r),ht(t,r),t}function Ja(t,e,n,r){var i=e.current,o=it(),s=Vn(i);return n=Ly(n),e.context===null?e.context=n:e.pendingContext=n,e=rn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xn(i,e,s),t!==null&&(Lt(t,i,s,o),Ws(t,i,s)),s}function Ca(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ep(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xh(t,e){Ep(t,e),(t=t.alternate)&&Ep(t,e)}function bE(){return null}var Fy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nh(t){this._internalRoot=t}Za.prototype.render=Nh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Ja(t,e,null,null)};Za.prototype.unmount=Nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){Ja(null,t,null,null)}),e[ln]=null}};function Za(t){this._internalRoot=t}Za.prototype.unstable_scheduleHydration=function(t){if(t){var e=mg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wn.length&&e!==0&&e<wn[n].priority;n++);wn.splice(n,0,t),n===0&&yg(t)}};function Vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function el(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tp(){}function FE(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Ca(s);o.call(c)}}var s=by(e,r,t,0,null,!1,!1,"",Tp);return t._reactRootContainer=s,t[ln]=s.current,To(t.nodeType===8?t.parentNode:t),fr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Ca(u);l.call(c)}}var u=kh(t,0,!1,null,null,!1,!1,"",Tp);return t._reactRootContainer=u,t[ln]=u.current,To(t.nodeType===8?t.parentNode:t),fr(function(){Ja(e,u,n,r)}),u}function tl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Ca(s);l.call(u)}}Ja(e,s,t,i)}else s=FE(n,e,t,i,r);return Ca(s)}fg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qi(e.pendingLanes);n!==0&&(Xc(e,n|1),ht(e,Ae()),!(re&6)&&(ri=Ae()+500,Wn()))}break;case 13:fr(function(){var r=un(t,1);if(r!==null){var i=it();Lt(r,t,1,i)}}),xh(t,1)}};Jc=function(t){if(t.tag===13){var e=un(t,134217728);if(e!==null){var n=it();Lt(e,t,134217728,n)}xh(t,134217728)}};pg=function(t){if(t.tag===13){var e=Vn(t),n=un(t,e);if(n!==null){var r=it();Lt(n,t,e,r)}xh(t,e)}};mg=function(){return se};gg=function(t,e){var n=se;try{return se=t,e()}finally{se=n}};Mu=function(t,e,n){switch(e){case"input":if(Pu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wa(r);if(!i)throw Error(F(90));Km(r),Pu(r,i)}}}break;case"textarea":Gm(t,n);break;case"select":e=n.value,e!=null&&$r(t,!!n.multiple,e,!1)}};ng=Ah;rg=fr;var jE={usingClientEntryPoint:!1,Events:[Wo,Lr,Wa,eg,tg,Ah]},qi={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UE={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sg(t),t===null?null:t.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||bE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{Ba=Ms.inject(UE),zt=Ms}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jE;vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vh(e))throw Error(F(200));return LE(t,e,null,n)};vt.createRoot=function(t,e){if(!Vh(t))throw Error(F(299));var n=!1,r="",i=Fy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kh(t,1,!1,null,null,n,!1,r,i),t[ln]=e.current,To(t.nodeType===8?t.parentNode:t),new Nh(e)};vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=sg(e),t=t===null?null:t.stateNode,t};vt.flushSync=function(t){return fr(t)};vt.hydrate=function(t,e,n){if(!el(e))throw Error(F(200));return tl(null,t,e,!0,n)};vt.hydrateRoot=function(t,e,n){if(!Vh(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Fy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=by(e,null,t,1,n??null,i,!1,o,s),t[ln]=e.current,To(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Za(e)};vt.render=function(t,e,n){if(!el(e))throw Error(F(200));return tl(null,t,e,!1,n)};vt.unmountComponentAtNode=function(t){if(!el(t))throw Error(F(40));return t._reactRootContainer?(fr(function(){tl(null,null,t,!1,function(){t._reactRootContainer=null,t[ln]=null})}),!0):!1};vt.unstable_batchedUpdates=Ah;vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!el(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return tl(t,e,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jy)}catch(t){console.error(t)}}jy(),jm.exports=vt;var BE=jm.exports,Ip=BE;Eu.createRoot=Ip.createRoot,Eu.hydrateRoot=Ip.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function No(){return No=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},No.apply(this,arguments)}var Sn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sn||(Sn={}));const Sp="popstate";function zE(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return pc("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ra(i)}return qE(e,n,null,t)}function xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Uy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $E(){return Math.random().toString(36).substr(2,8)}function Ap(t,e){return{usr:t.state,key:t.key,idx:e}}function pc(t,e,n,r){return n===void 0&&(n=null),No({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gi(e):e,{state:n,key:e&&e.key||r||$E()})}function Ra(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qE(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Sn.Pop,u=null,c=f();c==null&&(c=0,s.replaceState(No({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function p(){l=Sn.Pop;let k=f(),m=k==null?null:k-c;c=k,u&&u({action:l,location:P.location,delta:m})}function v(k,m){l=Sn.Push;let y=pc(P.location,k,m);c=f()+1;let _=Ap(y,c),x=P.createHref(y);try{s.pushState(_,"",x)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(x)}o&&u&&u({action:l,location:P.location,delta:1})}function T(k,m){l=Sn.Replace;let y=pc(P.location,k,m);c=f();let _=Ap(y,c),x=P.createHref(y);s.replaceState(_,"",x),o&&u&&u({action:l,location:P.location,delta:0})}function C(k){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof k=="string"?k:Ra(k);return y=y.replace(/ $/,"%20"),xe(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let P={get action(){return l},get location(){return t(i,s)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Sp,p),u=k,()=>{i.removeEventListener(Sp,p),u=null}},createHref(k){return e(i,k)},createURL:C,encodeLocation(k){let m=C(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:v,replace:T,go(k){return s.go(k)}};return P}var Cp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cp||(Cp={}));function WE(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?gi(e):e,i=Dh(r.pathname||"/",n);if(i==null)return null;let o=By(t);HE(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=i1(i);s=t1(o[l],u)}return s}function By(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(xe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=On([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(xe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),By(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:ZE(c,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of zy(o.path))i(o,s,u)}),e}function zy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=zy(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function HE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:e1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KE=/^:[\w-]+$/,QE=3,GE=2,YE=1,XE=10,JE=-2,Rp=t=>t==="*";function ZE(t,e){let n=t.split("/"),r=n.length;return n.some(Rp)&&(r+=JE),e&&(r+=GE),n.filter(i=>!Rp(i)).reduce((i,o)=>i+(KE.test(o)?QE:o===""?YE:XE),r)}function e1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function t1(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=n1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c);if(!f)return null;Object.assign(r,f.params);let p=l.route;o.push({params:r,pathname:On([i,f.pathname]),pathnameBase:l1(On([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=On([i,f.pathnameBase]))}return o}function n1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=r1(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:v,isOptional:T}=f;if(v==="*"){let P=l[p]||"";s=o.slice(0,o.length-P.length).replace(/(.)\/+$/,"$1")}const C=l[p];return T&&!C?c[v]=void 0:c[v]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function r1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Uy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function i1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Uy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Dh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function o1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gi(t):t;return{pathname:n?n.startsWith("/")?n:s1(n,e):e,search:u1(r),hash:c1(i)}}function s1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function du(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $y(t,e){let n=a1(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=gi(t):(i=No({},t),xe(!i.pathname||!i.pathname.includes("?"),du("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),du("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),du("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}l=p>=0?e[p]:"/"}let u=o1(i,l),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const On=t=>t.join("/").replace(/\/\/+/g,"/"),l1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function h1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Wy=["post","put","patch","delete"];new Set(Wy);const d1=["get",...Wy];new Set(d1);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vo.apply(this,arguments)}const Oh=U.createContext(null),f1=U.createContext(null),wr=U.createContext(null),nl=U.createContext(null),Hn=U.createContext({outlet:null,matches:[],isDataRoute:!1}),Hy=U.createContext(null);function p1(t,e){let{relative:n}=e===void 0?{}:e;Ko()||xe(!1);let{basename:r,navigator:i}=U.useContext(wr),{hash:o,pathname:s,search:l}=Gy(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:On([r,s])),i.createHref({pathname:u,search:l,hash:o})}function Ko(){return U.useContext(nl)!=null}function rl(){return Ko()||xe(!1),U.useContext(nl).location}function Ky(t){U.useContext(wr).static||U.useLayoutEffect(t)}function m1(){let{isDataRoute:t}=U.useContext(Hn);return t?P1():g1()}function g1(){Ko()||xe(!1);let t=U.useContext(Oh),{basename:e,future:n,navigator:r}=U.useContext(wr),{matches:i}=U.useContext(Hn),{pathname:o}=rl(),s=JSON.stringify($y(i,n.v7_relativeSplatPath)),l=U.useRef(!1);return Ky(()=>{l.current=!0}),U.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=qy(c,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:On([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,s,o,t])}function Qy(){let{matches:t}=U.useContext(Hn),e=t[t.length-1];return e?e.params:{}}function Gy(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(wr),{matches:i}=U.useContext(Hn),{pathname:o}=rl(),s=JSON.stringify($y(i,r.v7_relativeSplatPath));return U.useMemo(()=>qy(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function y1(t,e){return v1(t,e)}function v1(t,e,n,r){Ko()||xe(!1);let{navigator:i}=U.useContext(wr),{matches:o}=U.useContext(Hn),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=rl(),f;if(e){var p;let k=typeof e=="string"?gi(e):e;u==="/"||(p=k.pathname)!=null&&p.startsWith(u)||xe(!1),f=k}else f=c;let v=f.pathname||"/",T=v;if(u!=="/"){let k=u.replace(/^\//,"").split("/");T="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=WE(t,{pathname:T}),P=I1(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:On([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:On([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r);return e&&P?U.createElement(nl.Provider,{value:{location:Vo({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Sn.Pop}},P):P}function _1(){let t=R1(),e=h1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const w1=U.createElement(_1,null);class E1 extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Hn.Provider,{value:this.props.routeContext},U.createElement(Hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T1(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(Oh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Hn.Provider,{value:e},r)}function I1(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||xe(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:v,errors:T}=n,C=p.route.loader&&v[p.route.id]===void 0&&(!T||T[p.route.id]===void 0);if(p.route.lazy||C){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,p,v)=>{let T,C=!1,P=null,k=null;n&&(T=l&&p.route.id?l[p.route.id]:void 0,P=p.route.errorElement||w1,u&&(c<0&&v===0?(C=!0,k=null):c===v&&(C=!0,k=p.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,v+1)),y=()=>{let _;return T?_=P:C?_=k:p.route.Component?_=U.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=f,U.createElement(T1,{match:p,routeContext:{outlet:f,matches:m,isDataRoute:n!=null},children:_})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?U.createElement(E1,{location:n.location,revalidation:n.revalidation,component:P,error:T,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var Yy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Yy||{}),Pa=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pa||{});function S1(t){let e=U.useContext(Oh);return e||xe(!1),e}function A1(t){let e=U.useContext(f1);return e||xe(!1),e}function C1(t){let e=U.useContext(Hn);return e||xe(!1),e}function Xy(t){let e=C1(),n=e.matches[e.matches.length-1];return n.route.id||xe(!1),n.route.id}function R1(){var t;let e=U.useContext(Hy),n=A1(Pa.UseRouteError),r=Xy(Pa.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function P1(){let{router:t}=S1(Yy.UseNavigateStable),e=Xy(Pa.UseNavigateStable),n=U.useRef(!1);return Ky(()=>{n.current=!0}),U.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vo({fromRouteId:e},o)))},[t,e])}function Zn(t){xe(!1)}function k1(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Sn.Pop,navigator:o,static:s=!1,future:l}=t;Ko()&&xe(!1);let u=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:u,navigator:o,static:s,future:Vo({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=gi(r));let{pathname:f="/",search:p="",hash:v="",state:T=null,key:C="default"}=r,P=U.useMemo(()=>{let k=Dh(f,u);return k==null?null:{location:{pathname:k,search:p,hash:v,state:T,key:C},navigationType:i}},[u,f,p,v,T,C,i]);return P==null?null:U.createElement(wr.Provider,{value:c},U.createElement(nl.Provider,{children:n,value:P}))}function x1(t){let{children:e,location:n}=t;return y1(mc(e),n)}new Promise(()=>{});function mc(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let o=[...e,i];if(r.type===U.Fragment){n.push.apply(n,mc(r.props.children,o));return}r.type!==Zn&&xe(!1),!r.props.index||!r.props.children||xe(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=mc(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function N1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function V1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D1(t,e){return t.button===0&&(!e||e==="_self")&&!V1(t)}const O1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],M1="6";try{window.__reactRouterVersion=M1}catch{}const L1="startTransition",Pp=x0[L1];function b1(t){let{basename:e,children:n,future:r,window:i}=t,o=U.useRef();o.current==null&&(o.current=zE({window:i,v5Compat:!0}));let s=o.current,[l,u]=U.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},f=U.useCallback(p=>{c&&Pp?Pp(()=>u(p)):u(p)},[u,c]);return U.useLayoutEffect(()=>s.listen(f),[s,f]),U.createElement(k1,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const F1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ir=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:f,unstable_viewTransition:p}=e,v=N1(e,O1),{basename:T}=U.useContext(wr),C,P=!1;if(typeof c=="string"&&j1.test(c)&&(C=c,F1))try{let _=new URL(window.location.href),x=c.startsWith("//")?new URL(_.protocol+c):new URL(c),D=Dh(x.pathname,T);x.origin===_.origin&&D!=null?c=D+x.search+x.hash:P=!0}catch{}let k=p1(c,{relative:i}),m=U1(c,{replace:s,state:l,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:p});function y(_){r&&r(_),_.defaultPrevented||m(_)}return U.createElement("a",gc({},v,{href:C||k,onClick:P||o?r:y,ref:n,target:u}))});var kp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kp||(kp={}));var xp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xp||(xp={}));function U1(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l}=e===void 0?{}:e,u=m1(),c=rl(),f=Gy(t,{relative:s});return U.useCallback(p=>{if(D1(p,n)){p.preventDefault();let v=r!==void 0?r:Ra(c)===Ra(f);u(t,{replace:v,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[c,u,f,r,i,n,t,o,s,l])}const Qo=U.createContext(null),B1=({children:t})=>{const[e,n]=U.useState([]),[r,i]=U.useState(0),[o,s]=U.useState(0),l=(T,C)=>{const P=[...e],k=P.findIndex(m=>m.id===T.id);if(k!=-1)P[k].quantity=P[k].quantity+C,P[k].subtotal=P[k].price*P[k].quantity,n(P);else{const m={...T,quantity:C,subtotal:T.price*C};n([...e,m])}},u=T=>{const C=e.filter(P=>P.id!==T);n(C)},c=()=>{n([])},f=()=>{const T=e.reduce((C,P)=>C+P.quantity,0);i(T)},p=()=>{const T=e.reduce((C,P)=>C+P.subtotal,0);s(T)};U.useEffect(()=>{f(),p()},[e]);const v={cart:e,totalItems:r,totalPrice:o,addItem:l,removeItem:u,clearCart:c};return M.jsx(Qo.Provider,{value:v,children:t})},z1=()=>{const{totalItems:t}=U.useContext(Qo);return M.jsxs(ir,{to:"/cart",className:"cart",children:[M.jsx("i",{className:"fas fa-shopping-cart"}),M.jsx("span",{className:"dot",children:t})]})},$1=()=>M.jsxs("header",{children:[M.jsx(ir,{to:"/",className:"logo",children:M.jsx("img",{src:"https://scontent.fclo1-4.fna.fbcdn.net/v/t1.18169-9/3521_331621733606691_795428481_n.jpg?_nc_cat=107&ccb=1-7&_nc_sid=1d70fc&_nc_ohc=q-17zoAD89UQ7kNvgF0kNun&_nc_ht=scontent.fclo1-4.fna&oh=00_AYBb9XA8bdHh0FQRfEmZZPfSRoWwh-PqmGIVYJAJhwIN4w&oe=66A62201",alt:"Logo"})}),M.jsxs("nav",{className:"navbar",children:[M.jsx(ir,{to:"/category/hombre",children:"Hombre"}),M.jsx(ir,{to:"/category/mujer",children:"Mujer"}),M.jsx(ir,{to:"/category/ninos",children:"Nios"}),M.jsx(z1,{})]})]});var Jy={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(p0,function(){return function(n){function r(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var i={};return r.m=n,r.c=i,r.d=function(o,s,l){r.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:l})},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=8)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o="swal-button";r.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:o,CONFIRM_BUTTON:o+"--confirm",CANCEL_BUTTON:o+"--cancel",DANGER_BUTTON:o+"--danger",BUTTON_LOADING:o+"--loading",BUTTON_LOADER:o+"__loader"},r.default=r.CLASS_NAMES},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getNode=function(o){var s="."+o;return document.querySelector(s)},r.stringToNode=function(o){var s=document.createElement("div");return s.innerHTML=o.trim(),s.firstChild},r.insertAfter=function(o,s){var l=s.nextSibling;s.parentNode.insertBefore(o,l)},r.removeNode=function(o){o.parentElement.removeChild(o)},r.throwErr=function(o){throw o=o.replace(/ +(?= )/g,""),"SweetAlert: "+(o=o.trim())},r.isPlainObject=function(o){if(Object.prototype.toString.call(o)!=="[object Object]")return!1;var s=Object.getPrototypeOf(o);return s===null||s===Object.prototype},r.ordinalSuffixOf=function(o){var s=o%10,l=o%100;return s===1&&l!==11?o+"st":s===2&&l!==12?o+"nd":s===3&&l!==13?o+"rd":o+"th"}},function(n,r,i){function o(v){for(var T in v)r.hasOwnProperty(T)||(r[T]=v[T])}Object.defineProperty(r,"__esModule",{value:!0}),o(i(25));var s=i(26);r.overlayMarkup=s.default,o(i(27)),o(i(28)),o(i(29));var l=i(0),u=l.default.MODAL_TITLE,c=l.default.MODAL_TEXT,f=l.default.ICON,p=l.default.FOOTER;r.iconMarkup=`
  <div class="`+f+'"></div>',r.titleMarkup=`
  <div class="`+u+`"></div>
`,r.textMarkup=`
  <div class="`+c+'"></div>',r.footerMarkup=`
  <div class="`+p+`"></div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1);r.CONFIRM_KEY="confirm",r.CANCEL_KEY="cancel";var s={visible:!0,text:null,value:null,className:"",closeModal:!0},l=Object.assign({},s,{visible:!1,text:"Cancel",value:null}),u=Object.assign({},s,{text:"OK",value:!0});r.defaultButtonList={cancel:l,confirm:u};var c=function(T){switch(T){case r.CONFIRM_KEY:return u;case r.CANCEL_KEY:return l;default:var C=T.charAt(0).toUpperCase()+T.slice(1);return Object.assign({},s,{text:C,value:T})}},f=function(T,C){var P=c(T);return C===!0?Object.assign({},P,{visible:!0}):typeof C=="string"?Object.assign({},P,{visible:!0,text:C}):o.isPlainObject(C)?Object.assign({visible:!0},P,C):Object.assign({},P,{visible:!1})},p=function(T){for(var C={},P=0,k=Object.keys(T);P<k.length;P++){var m=k[P],y=T[m],_=f(m,y);C[m]=_}return C.cancel||(C.cancel=l),C},v=function(T){var C={};switch(T.length){case 1:C[r.CANCEL_KEY]=Object.assign({},l,{visible:!1});break;case 2:C[r.CANCEL_KEY]=f(r.CANCEL_KEY,T[0]),C[r.CONFIRM_KEY]=f(r.CONFIRM_KEY,T[1]);break;default:o.throwErr("Invalid number of 'buttons' in array ("+T.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return C};r.getButtonListOpts=function(T){var C=r.defaultButtonList;return typeof T=="string"?C[r.CONFIRM_KEY]=f(r.CONFIRM_KEY,T):Array.isArray(T)?C=v(T):o.isPlainObject(T)?C=p(T):T===!0?C=v([!0,!0]):T===!1?C=v([!1,!1]):T===void 0&&(C=r.defaultButtonList),C}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(2),l=i(0),u=l.default.MODAL,c=l.default.OVERLAY,f=i(30),p=i(31),v=i(32),T=i(33);r.injectElIntoModal=function(m){var y=o.getNode(u),_=o.stringToNode(m);return y.appendChild(_),_};var C=function(m){m.className=u,m.textContent=""},P=function(m,y){C(m);var _=y.className;_&&m.classList.add(_)};r.initModalContent=function(m){var y=o.getNode(u);P(y,m),f.default(m.icon),p.initTitle(m.title),p.initText(m.text),T.default(m.content),v.default(m.buttons,m.dangerMode)};var k=function(){var m=o.getNode(c),y=o.stringToNode(s.modalMarkup);m.appendChild(y)};r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(3),s={isOpen:!1,promise:null,actions:{},timer:null},l=Object.assign({},s);r.resetState=function(){l=Object.assign({},s)},r.setActionValue=function(c){if(typeof c=="string")return u(o.CONFIRM_KEY,c);for(var f in c)u(f,c[f])};var u=function(c,f){l.actions[c]||(l.actions[c]={}),Object.assign(l.actions[c],{value:f})};r.setActionOptionsFor=function(c,f){var p=(f===void 0?{}:f).closeModal,v=p===void 0||p;Object.assign(l.actions[c],{closeModal:v})},r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(3),l=i(0),u=l.default.OVERLAY,c=l.default.SHOW_MODAL,f=l.default.BUTTON,p=l.default.BUTTON_LOADING,v=i(5);r.openModal=function(){o.getNode(u).classList.add(c),v.default.isOpen=!0};var T=function(){o.getNode(u).classList.remove(c),v.default.isOpen=!1};r.onAction=function(C){C===void 0&&(C=s.CANCEL_KEY);var P=v.default.actions[C],k=P.value;if(P.closeModal===!1){var m=f+"--"+C;o.getNode(m).classList.add(p)}else T();v.default.promise.resolve(k)},r.getState=function(){var C=Object.assign({},v.default);return delete C.promise,delete C.timer,C},r.stopLoading=function(){for(var C=document.querySelectorAll("."+f),P=0;P<C.length;P++)C[P].classList.remove(p)}},function(n,r){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){(function(o){n.exports=o.sweetAlert=i(9)}).call(r,i(7))},function(n,r,i){(function(o){n.exports=o.swal=i(10)}).call(r,i(7))},function(n,r,i){typeof window<"u"&&i(11),i(16);var o=i(23).default;n.exports=o},function(n,r,i){var o=i(12);typeof o=="string"&&(o=[[n.i,o,""]]);var s={insertAt:"top"};s.transform=void 0,i(14)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){r=n.exports=i(13)(void 0),r.push([n.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(n,r){function i(s,l){var u=s[1]||"",c=s[3];if(!c)return u;if(l&&typeof btoa=="function"){var f=o(c);return[u].concat(c.sources.map(function(p){return"/*# sourceURL="+c.sourceRoot+p+" */"})).concat([f]).join(`
`)}return[u].join(`
`)}function o(s){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"}n.exports=function(s){var l=[];return l.toString=function(){return this.map(function(u){var c=i(u,s);return u[2]?"@media "+u[2]+"{"+c+"}":c}).join("")},l.i=function(u,c){typeof u=="string"&&(u=[[null,u,""]]);for(var f={},p=0;p<this.length;p++){var v=this[p][0];typeof v=="number"&&(f[v]=!0)}for(p=0;p<u.length;p++){var T=u[p];typeof T[0]=="number"&&f[T[0]]||(c&&!T[2]?T[2]=c:c&&(T[2]="("+T[2]+") and ("+c+")"),l.push(T))}},l}},function(n,r,i){function o(g,E){for(var I=0;I<g.length;I++){var S=g[I],N=k[S.id];if(N){N.refs++;for(var A=0;A<N.parts.length;A++)N.parts[A](S.parts[A]);for(;A<S.parts.length;A++)N.parts.push(v(S.parts[A],E))}else{for(var ee=[],A=0;A<S.parts.length;A++)ee.push(v(S.parts[A],E));k[S.id]={id:S.id,refs:1,parts:ee}}}}function s(g,E){for(var I=[],S={},N=0;N<g.length;N++){var A=g[N],ee=E.base?A[0]+E.base:A[0],ue=A[1],Rt=A[2],Pt=A[3],z={css:ue,media:Rt,sourceMap:Pt};S[ee]?S[ee].parts.push(z):I.push(S[ee]={id:ee,parts:[z]})}return I}function l(g,E){var I=y(g.insertInto);if(!I)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var S=D[D.length-1];if(g.insertAt==="top")S?S.nextSibling?I.insertBefore(E,S.nextSibling):I.appendChild(E):I.insertBefore(E,I.firstChild),D.push(E);else{if(g.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");I.appendChild(E)}}function u(g){if(g.parentNode===null)return!1;g.parentNode.removeChild(g);var E=D.indexOf(g);E>=0&&D.splice(E,1)}function c(g){var E=document.createElement("style");return g.attrs.type="text/css",p(E,g.attrs),l(g,E),E}function f(g){var E=document.createElement("link");return g.attrs.type="text/css",g.attrs.rel="stylesheet",p(E,g.attrs),l(g,E),E}function p(g,E){Object.keys(E).forEach(function(I){g.setAttribute(I,E[I])})}function v(g,E){var I,S,N,A;if(E.transform&&g.css){if(!(A=E.transform(g.css)))return function(){};g.css=A}if(E.singleton){var ee=x++;I=_||(_=c(E)),S=T.bind(null,I,ee,!1),N=T.bind(null,I,ee,!0)}else g.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(I=f(E),S=P.bind(null,I,E),N=function(){u(I),I.href&&URL.revokeObjectURL(I.href)}):(I=c(E),S=C.bind(null,I),N=function(){u(I)});return S(g),function(ue){if(ue){if(ue.css===g.css&&ue.media===g.media&&ue.sourceMap===g.sourceMap)return;S(g=ue)}else N()}}function T(g,E,I,S){var N=I?"":S.css;if(g.styleSheet)g.styleSheet.cssText=R(E,N);else{var A=document.createTextNode(N),ee=g.childNodes;ee[E]&&g.removeChild(ee[E]),ee.length?g.insertBefore(A,ee[E]):g.appendChild(A)}}function C(g,E){var I=E.css,S=E.media;if(S&&g.setAttribute("media",S),g.styleSheet)g.styleSheet.cssText=I;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(I))}}function P(g,E,I){var S=I.css,N=I.sourceMap,A=E.convertToAbsoluteUrls===void 0&&N;(E.convertToAbsoluteUrls||A)&&(S=j(S)),N&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(N))))+" */");var ee=new Blob([S],{type:"text/css"}),ue=g.href;g.href=URL.createObjectURL(ee),ue&&URL.revokeObjectURL(ue)}var k={},m=function(g){var E;return function(){return E===void 0&&(E=g.apply(this,arguments)),E}}(function(){return window&&document&&document.all&&!window.atob}),y=function(g){var E={};return function(I){return E[I]===void 0&&(E[I]=g.call(this,I)),E[I]}}(function(g){return document.querySelector(g)}),_=null,x=0,D=[],j=i(15);n.exports=function(g,E){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");E=E||{},E.attrs=typeof E.attrs=="object"?E.attrs:{},E.singleton||(E.singleton=m()),E.insertInto||(E.insertInto="head"),E.insertAt||(E.insertAt="bottom");var I=s(g,E);return o(I,E),function(S){for(var N=[],A=0;A<I.length;A++){var ee=I[A],ue=k[ee.id];ue.refs--,N.push(ue)}S&&o(s(S,E),E);for(var A=0;A<N.length;A++){var ue=N[A];if(ue.refs===0){for(var Rt=0;Rt<ue.parts.length;Rt++)ue.parts[Rt]();delete k[ue.id]}}}};var R=function(){var g=[];return function(E,I){return g[E]=I,g.filter(Boolean).join(`
`)}}()},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(u,c){var f=c.trim().replace(/^"(.*)"$/,function(v,T){return T}).replace(/^'(.*)'$/,function(v,T){return T});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(f))return u;var p;return p=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:l+f.replace(/^\.\//,""),"url("+JSON.stringify(p)+")"})}},function(n,r,i){var o=i(17);typeof window>"u"||window.Promise||(window.Promise=o),i(21),String.prototype.includes||(String.prototype.includes=function(s,l){return typeof l!="number"&&(l=0),!(l+s.length>this.length)&&this.indexOf(s,l)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,l){if(this==null)throw new TypeError('"this" is null or not defined');var u=Object(this),c=u.length>>>0;if(c===0)return!1;for(var f=0|l,p=Math.max(f>=0?f:c-Math.abs(f),0);p<c;){if(function(v,T){return v===T||typeof v=="number"&&typeof T=="number"&&isNaN(v)&&isNaN(T)}(u[p],s))return!0;p++}return!1}}),typeof window<"u"&&function(s){s.forEach(function(l){l.hasOwnProperty("remove")||Object.defineProperty(l,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(n,r,i){(function(o){(function(s){function l(){}function u(m,y){return function(){m.apply(y,arguments)}}function c(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof m!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],P(m,this)}function f(m,y){for(;m._state===3;)m=m._value;if(m._state===0)return void m._deferreds.push(y);m._handled=!0,c._immediateFn(function(){var _=m._state===1?y.onFulfilled:y.onRejected;if(_===null)return void(m._state===1?p:v)(y.promise,m._value);var x;try{x=_(m._value)}catch(D){return void v(y.promise,D)}p(y.promise,x)})}function p(m,y){try{if(y===m)throw new TypeError("A promise cannot be resolved with itself.");if(y&&(typeof y=="object"||typeof y=="function")){var _=y.then;if(y instanceof c)return m._state=3,m._value=y,void T(m);if(typeof _=="function")return void P(u(_,y),m)}m._state=1,m._value=y,T(m)}catch(x){v(m,x)}}function v(m,y){m._state=2,m._value=y,T(m)}function T(m){m._state===2&&m._deferreds.length===0&&c._immediateFn(function(){m._handled||c._unhandledRejectionFn(m._value)});for(var y=0,_=m._deferreds.length;y<_;y++)f(m,m._deferreds[y]);m._deferreds=null}function C(m,y,_){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof y=="function"?y:null,this.promise=_}function P(m,y){var _=!1;try{m(function(x){_||(_=!0,p(y,x))},function(x){_||(_=!0,v(y,x))})}catch(x){if(_)return;_=!0,v(y,x)}}var k=setTimeout;c.prototype.catch=function(m){return this.then(null,m)},c.prototype.then=function(m,y){var _=new this.constructor(l);return f(this,new C(m,y,_)),_},c.all=function(m){var y=Array.prototype.slice.call(m);return new c(function(_,x){function D(g,E){try{if(E&&(typeof E=="object"||typeof E=="function")){var I=E.then;if(typeof I=="function")return void I.call(E,function(S){D(g,S)},x)}y[g]=E,--j==0&&_(y)}catch(S){x(S)}}if(y.length===0)return _([]);for(var j=y.length,R=0;R<y.length;R++)D(R,y[R])})},c.resolve=function(m){return m&&typeof m=="object"&&m.constructor===c?m:new c(function(y){y(m)})},c.reject=function(m){return new c(function(y,_){_(m)})},c.race=function(m){return new c(function(y,_){for(var x=0,D=m.length;x<D;x++)m[x].then(y,_)})},c._immediateFn=typeof o=="function"&&function(m){o(m)}||function(m){k(m,0)},c._unhandledRejectionFn=function(m){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",m)},c._setImmediateFn=function(m){c._immediateFn=m},c._setUnhandledRejectionFn=function(m){c._unhandledRejectionFn=m},n!==void 0&&n.exports?n.exports=c:s.Promise||(s.Promise=c)})(this)}).call(r,i(18).setImmediate)},function(n,r,i){function o(l,u){this._id=l,this._clearFn=u}var s=Function.prototype.apply;r.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(l){l&&l.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(l,u){clearTimeout(l._idleTimeoutId),l._idleTimeout=u},r.unenroll=function(l){clearTimeout(l._idleTimeoutId),l._idleTimeout=-1},r._unrefActive=r.active=function(l){clearTimeout(l._idleTimeoutId);var u=l._idleTimeout;u>=0&&(l._idleTimeoutId=setTimeout(function(){l._onTimeout&&l._onTimeout()},u))},i(19),r.setImmediate=setImmediate,r.clearImmediate=clearImmediate},function(n,r,i){(function(o,s){(function(l,u){function c(_){typeof _!="function"&&(_=new Function(""+_));for(var x=new Array(arguments.length-1),D=0;D<x.length;D++)x[D]=arguments[D+1];var j={callback:_,args:x};return P[C]=j,T(C),C++}function f(_){delete P[_]}function p(_){var x=_.callback,D=_.args;switch(D.length){case 0:x();break;case 1:x(D[0]);break;case 2:x(D[0],D[1]);break;case 3:x(D[0],D[1],D[2]);break;default:x.apply(u,D)}}function v(_){if(k)setTimeout(v,0,_);else{var x=P[_];if(x){k=!0;try{p(x)}finally{f(_),k=!1}}}}if(!l.setImmediate){var T,C=1,P={},k=!1,m=l.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(l);y=y&&y.setTimeout?y:l,{}.toString.call(l.process)==="[object process]"?function(){T=function(_){s.nextTick(function(){v(_)})}}():function(){if(l.postMessage&&!l.importScripts){var _=!0,x=l.onmessage;return l.onmessage=function(){_=!1},l.postMessage("","*"),l.onmessage=x,_}}()?function(){var _="setImmediate$"+Math.random()+"$",x=function(D){D.source===l&&typeof D.data=="string"&&D.data.indexOf(_)===0&&v(+D.data.slice(_.length))};l.addEventListener?l.addEventListener("message",x,!1):l.attachEvent("onmessage",x),T=function(D){l.postMessage(_+D,"*")}}():l.MessageChannel?function(){var _=new MessageChannel;_.port1.onmessage=function(x){v(x.data)},T=function(x){_.port2.postMessage(x)}}():m&&"onreadystatechange"in m.createElement("script")?function(){var _=m.documentElement;T=function(x){var D=m.createElement("script");D.onreadystatechange=function(){v(x),D.onreadystatechange=null,_.removeChild(D),D=null},_.appendChild(D)}}():function(){T=function(_){setTimeout(v,0,_)}}(),y.setImmediate=c,y.clearImmediate=f}})(typeof self>"u"?o===void 0?this:o:self)}).call(r,i(7),i(20))},function(n,r){function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(_){if(v===setTimeout)return setTimeout(_,0);if((v===i||!v)&&setTimeout)return v=setTimeout,setTimeout(_,0);try{return v(_,0)}catch{try{return v.call(null,_,0)}catch{return v.call(this,_,0)}}}function l(_){if(T===clearTimeout)return clearTimeout(_);if((T===o||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(_);try{return T(_)}catch{try{return T.call(null,_)}catch{return T.call(this,_)}}}function u(){m&&P&&(m=!1,P.length?k=P.concat(k):y=-1,k.length&&c())}function c(){if(!m){var _=s(u);m=!0;for(var x=k.length;x;){for(P=k,k=[];++y<x;)P&&P[y].run();y=-1,x=k.length}P=null,m=!1,l(_)}}function f(_,x){this.fun=_,this.array=x}function p(){}var v,T,C=n.exports={};(function(){try{v=typeof setTimeout=="function"?setTimeout:i}catch{v=i}try{T=typeof clearTimeout=="function"?clearTimeout:o}catch{T=o}})();var P,k=[],m=!1,y=-1;C.nextTick=function(_){var x=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)x[D-1]=arguments[D];k.push(new f(_,x)),k.length!==1||m||s(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=p,C.addListener=p,C.once=p,C.off=p,C.removeListener=p,C.removeAllListeners=p,C.emit=p,C.prependListener=p,C.prependOnceListener=p,C.listeners=function(_){return[]},C.binding=function(_){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(_){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},function(n,r,i){i(22).polyfill()},function(n,r,i){function o(l,u){if(l==null)throw new TypeError("Cannot convert first argument to object");for(var c=Object(l),f=1;f<arguments.length;f++){var p=arguments[f];if(p!=null)for(var v=Object.keys(Object(p)),T=0,C=v.length;T<C;T++){var P=v[T],k=Object.getOwnPropertyDescriptor(p,P);k!==void 0&&k.enumerable&&(c[P]=p[P])}}return c}function s(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}n.exports={assign:o,polyfill:s}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(24),s=i(6),l=i(5),u=i(36),c=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];if(typeof window<"u"){var v=u.getOpts.apply(void 0,f);return new Promise(function(T,C){l.default.promise={resolve:T,reject:C},o.default(v),setTimeout(function(){s.openModal()})})}};c.close=s.onAction,c.getState=s.getState,c.setActionValue=l.setActionValue,c.stopLoading=s.stopLoading,c.setDefaults=u.setDefaults,r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(0),l=s.default.MODAL,u=i(4),c=i(34),f=i(35),p=i(1);r.init=function(v){o.getNode(l)||(document.body||p.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),c.default(),u.default()),u.initModalContent(v),f.default(v)},r.default=r.init},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.MODAL;r.modalMarkup=`
  <div class="`+s+'" role="dialog" aria-modal="true"></div>',r.default=r.modalMarkup},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.OVERLAY,l=`<div 
    class="`+s+`"
    tabIndex="-1">
  </div>`;r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.ICON;r.errorIconMarkup=function(){var l=s+"--error",u=l+"__line";return`
    <div class="`+l+`__x-mark">
      <span class="`+u+" "+u+`--left"></span>
      <span class="`+u+" "+u+`--right"></span>
    </div>
  `},r.warningIconMarkup=function(){var l=s+"--warning";return`
    <span class="`+l+`__body">
      <span class="`+l+`__dot"></span>
    </span>
  `},r.successIconMarkup=function(){var l=s+"--success";return`
    <span class="`+l+"__line "+l+`__line--long"></span>
    <span class="`+l+"__line "+l+`__line--tip"></span>

    <div class="`+l+`__ring"></div>
    <div class="`+l+`__hide-corners"></div>
  `}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.CONTENT;r.contentMarkup=`
  <div class="`+s+`">

  </div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.BUTTON_CONTAINER,l=o.default.BUTTON,u=o.default.BUTTON_LOADER;r.buttonMarkup=`
  <div class="`+s+`">

    <button
      class="`+l+`"
    ></button>

    <div class="`+u+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=i(2),l=i(0),u=l.default.ICON,c=l.default.ICON_CUSTOM,f=["error","warning","success","info"],p={error:s.errorIconMarkup(),warning:s.warningIconMarkup(),success:s.successIconMarkup()},v=function(P,k){var m=u+"--"+P;k.classList.add(m);var y=p[P];y&&(k.innerHTML=y)},T=function(P,k){k.classList.add(c);var m=document.createElement("img");m.src=P,k.appendChild(m)},C=function(P){if(P){var k=o.injectElIntoModal(s.iconMarkup);f.includes(P)?v(P,k):T(P,k)}};r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),s=i(4),l=function(u){navigator.userAgent.includes("AppleWebKit")&&(u.style.display="none",u.offsetHeight,u.style.display="")};r.initTitle=function(u){if(u){var c=s.injectElIntoModal(o.titleMarkup);c.textContent=u,l(c)}},r.initText=function(u){if(u){var c=document.createDocumentFragment();u.split(`
`).forEach(function(p,v,T){c.appendChild(document.createTextNode(p)),v<T.length-1&&c.appendChild(document.createElement("br"))});var f=s.injectElIntoModal(o.textMarkup);f.appendChild(c),l(f)}}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(4),l=i(0),u=l.default.BUTTON,c=l.default.DANGER_BUTTON,f=i(3),p=i(2),v=i(6),T=i(5),C=function(k,m,y){var _=m.text,x=m.value,D=m.className,j=m.closeModal,R=o.stringToNode(p.buttonMarkup),g=R.querySelector("."+u),E=u+"--"+k;g.classList.add(E),D&&(Array.isArray(D)?D:D.split(" ")).filter(function(S){return S.length>0}).forEach(function(S){g.classList.add(S)}),y&&k===f.CONFIRM_KEY&&g.classList.add(c),g.textContent=_;var I={};return I[k]=x,T.setActionValue(I),T.setActionOptionsFor(k,{closeModal:j}),g.addEventListener("click",function(){return v.onAction(k)}),R},P=function(k,m){var y=s.injectElIntoModal(p.footerMarkup);for(var _ in k){var x=k[_],D=C(_,x,m);x.visible&&y.appendChild(D)}y.children.length===0&&y.remove()};r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(3),s=i(4),l=i(2),u=i(5),c=i(6),f=i(0),p=f.default.CONTENT,v=function(P){P.addEventListener("input",function(k){var m=k.target,y=m.value;u.setActionValue(y)}),P.addEventListener("keyup",function(k){if(k.key==="Enter")return c.onAction(o.CONFIRM_KEY)}),setTimeout(function(){P.focus(),u.setActionValue("")},0)},T=function(P,k,m){var y=document.createElement(k),_=p+"__"+k;y.classList.add(_);for(var x in m){var D=m[x];y[x]=D}k==="input"&&v(y),P.appendChild(y)},C=function(P){if(P){var k=s.injectElIntoModal(l.contentMarkup),m=P.element,y=P.attributes;typeof m=="string"?T(k,m,y):k.appendChild(m)}};r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(2),l=function(){var u=o.stringToNode(s.overlayMarkup);document.body.appendChild(u)};r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(5),s=i(6),l=i(1),u=i(3),c=i(0),f=c.default.MODAL,p=c.default.BUTTON,v=c.default.OVERLAY,T=function(S){S.preventDefault(),y()},C=function(S){S.preventDefault(),_()},P=function(S){if(o.default.isOpen)switch(S.key){case"Escape":return s.onAction(u.CANCEL_KEY)}},k=function(S){if(o.default.isOpen)switch(S.key){case"Tab":return T(S)}},m=function(S){if(o.default.isOpen)return S.key==="Tab"&&S.shiftKey?C(S):void 0},y=function(){var S=l.getNode(p);S&&(S.tabIndex=0,S.focus())},_=function(){var S=l.getNode(f),N=S.querySelectorAll("."+p),A=N.length-1,ee=N[A];ee&&ee.focus()},x=function(S){S[S.length-1].addEventListener("keydown",k)},D=function(S){S[0].addEventListener("keydown",m)},j=function(){var S=l.getNode(f),N=S.querySelectorAll("."+p);N.length&&(x(N),D(N))},R=function(S){if(l.getNode(v)===S.target)return s.onAction(u.CANCEL_KEY)},g=function(S){var N=l.getNode(v);N.removeEventListener("click",R),S&&N.addEventListener("click",R)},E=function(S){o.default.timer&&clearTimeout(o.default.timer),S&&(o.default.timer=window.setTimeout(function(){return s.onAction(u.CANCEL_KEY)},S))},I=function(S){S.closeOnEsc?document.addEventListener("keyup",P):document.removeEventListener("keyup",P),S.dangerMode?y():_(),j(),g(S.closeOnClickOutside),E(S.timer)};r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(3),l=i(37),u=i(38),c={title:null,text:null,icon:null,buttons:s.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},f=Object.assign({},c);r.setDefaults=function(m){f=Object.assign({},c,m)};var p=function(m){var y=m&&m.button,_=m&&m.buttons;return y!==void 0&&_!==void 0&&o.throwErr("Cannot set both 'button' and 'buttons' options!"),y!==void 0?{confirm:y}:_},v=function(m){return o.ordinalSuffixOf(m+1)},T=function(m,y){o.throwErr(v(y)+" argument ('"+m+"') is invalid")},C=function(m,y){var _=m+1,x=y[_];o.isPlainObject(x)||x===void 0||o.throwErr("Expected "+v(_)+" argument ('"+x+"') to be a plain object")},P=function(m,y){var _=m+1,x=y[_];x!==void 0&&o.throwErr("Unexpected "+v(_)+" argument ("+x+")")},k=function(m,y,_,x){var D=typeof y,j=D==="string",R=y instanceof Element;if(j){if(_===0)return{text:y};if(_===1)return{text:y,title:x[0]};if(_===2)return C(_,x),{icon:y};T(y,_)}else{if(R&&_===0)return C(_,x),{content:y};if(o.isPlainObject(y))return P(_,x),y;T(y,_)}};r.getOpts=function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];var _={};m.forEach(function(j,R){var g=k(0,j,R,m);Object.assign(_,g)});var x=p(_);_.buttons=s.getButtonListOpts(x),delete _.button,_.content=l.getContentOpts(_.content);var D=Object.assign({},c,f,_);return Object.keys(D).forEach(function(j){u.DEPRECATED_OPTS[j]&&u.logDeprecation(j)}),D}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s={element:"input",attributes:{placeholder:""}};r.getContentOpts=function(l){var u={};return o.isPlainObject(l)?Object.assign(u,l):l instanceof Element?{element:l}:l==="input"?s:null}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.logDeprecation=function(o){var s=r.DEPRECATED_OPTS[o],l=s.onlyRename,u=s.replacement,c=s.subOption,f=s.link,p=l?"renamed":"deprecated",v='SweetAlert warning: "'+o+'" option has been '+p+".";u&&(v+=" Please use"+(c?' "'+c+'" in ':" ")+'"'+u+'" instead.');var T="https://sweetalert.js.org";v+=f?" More details: "+T+f:" More details: "+T+"/guides/#upgrading-from-1x",console.warn(v)},r.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(Jy);var q1=Jy.exports;const yc=Cm(q1),W1=()=>{const{cart:t,cleaCart:e,removeItem:n,totalPrice:r}=U.useContext(Qo),i=o=>{yc.fire({icon:"question",title:`Estas seguro que deseas eliminar ${o.name} del carrito? `,showCancelButton:!0,showConfirmButton:!0}).then(s=>{s.isConfirmed&&(n(o.id),yc.fire({icon:"success",title:"Producto eliminado"}))})};return M.jsxs(M.Fragment,{children:[r>0&&M.jsx(M.Fragment,{children:M.jsxs("div",{className:"detalle",children:[M.jsx("div",{className:"encabezado",children:"Artculo"}),M.jsx("div",{className:"encabezado",children:"Cantidad"}),M.jsx("div",{className:"encabezado",children:"Precio Unitario"}),M.jsx("div",{className:"encabezado",children:"Subtotal"}),M.jsx("div",{className:"encabezado",children:"(borrar)"})]})}),t.map(o=>M.jsxs("div",{class:"detalle",children:[M.jsx("div",{class:"dato",children:o.name}),M.jsx("div",{class:"dato",children:o.quantity}),M.jsxs("div",{class:"dato",children:["$",o.price]}),M.jsxs("div",{class:"dato",children:["$",o.subtotal]}),M.jsx("div",{class:"dato",children:M.jsx("button",{className:"btn btn-danger",onClick:()=>i(o),children:"Eliminar"})})]},o.id)),r>0?M.jsxs(M.Fragment,{children:[M.jsxs("div",{class:"detalle",children:[M.jsx("div",{class:"dato",children:" "}),M.jsx("div",{class:"dato",children:" "}),M.jsx("div",{class:"dato",children:M.jsx("h2",{children:"Total: "})}),M.jsx("div",{class:"dato",children:M.jsxs("h2",{children:["$",r]})}),M.jsx("div",{class:"dato",children:M.jsx(ir,{to:"/checkout",children:M.jsx("button",{className:"ms-2 btn btn-success",children:"Comprar"})})})]}),M.jsxs("div",{class:"detalle",children:[M.jsx("div",{class:"dato",children:" "}),M.jsx("div",{class:"dato",children:" "}),M.jsx("div",{class:"dato",children:" "}),M.jsx("div",{class:"dato",children:" "}),M.jsx("div",{class:"dato",children:M.jsx("button",{className:"btn btn-outline-success",onClick:e,children:"Vaciar carrito"})})]})]}):M.jsx("h2",{children:"( Carrito Vacio )"})]})},H1=({id:t,name:e,img:n,description:r,price:i})=>M.jsx(M.Fragment,{children:M.jsxs("div",{className:"item",children:[M.jsx("img",{src:n,alt:e}),M.jsxs("h5",{children:[" ",e," "]}),M.jsxs("div",{children:[M.jsxs("p",{children:["Precio: $",i]}),M.jsx(ir,{to:`/item/${t}`,children:M.jsx("button",{className:"btn btn-dark ",style:{width:"100%"},children:"Detalles"})})]})]})}),K1=({products:t})=>M.jsx(M.Fragment,{children:t.map(e=>M.jsx(H1,{...e},e.id))});var Np={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Q1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|l>>4;let v=(l&15)<<2|c>>6,T=c&63;u||(T=64,s||(v=64)),r.push(n[f],n[p],n[v],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||c==null||p==null)throw new G1;const v=o<<2|l>>4;if(r.push(v),c!==64){const T=l<<4&240|c>>2;if(r.push(T),p!==64){const C=c<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y1=function(t){const e=Zy(t);return ev.encodeByteArray(e,!0)},ka=function(t){return Y1(t).replace(/\./g,"")},X1=function(t){try{return ev.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=()=>J1().__FIREBASE_DEFAULTS__,eT=()=>{if(typeof process>"u"||typeof Np>"u")return;const t=Np.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X1(t[1]);return e&&JSON.parse(e)},Mh=()=>{try{return Z1()||eT()||tT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nT=t=>{var e,n;return(n=(e=Mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rT=t=>{const e=nT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tv=()=>{var t;return(t=Mh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ka(JSON.stringify(n)),ka(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aT(){var t;const e=(t=Mh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lT(){return!aT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hT,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nv.prototype.create)}}class nv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?dT(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new yi(i,l,r)}}function dT(t,e){return t.replace(fT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fT=/\{\$([^}]+)}/g;function vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Vp(o)&&Vp(s)){if(!vc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t){return t&&t._delegate?t._delegate:t}class Do{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gT(e))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=er){return this.instances.has(e)}getOptions(e=er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=er){return this.component?this.component.multipleInstances?e:er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mT(t){return t===er?void 0:t}function gT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const vT={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},_T=ne.INFO,wT={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ET=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rv{constructor(e){this.name=e,this._logLevel=_T,this._logHandler=ET,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const TT=(t,e)=>e.some(n=>t instanceof n);let Dp,Op;function IT(){return Dp||(Dp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ST(){return Op||(Op=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iv=new WeakMap,_c=new WeakMap,ov=new WeakMap,fu=new WeakMap,Lh=new WeakMap;function AT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Mn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&iv.set(n,t)}).catch(()=>{}),Lh.set(e,t),e}function CT(t){if(_c.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});_c.set(t,e)}let wc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _c.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ov.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RT(t){wc=t(wc)}function PT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pu(this),e,...n);return ov.set(r,e.sort?e.sort():[e]),Mn(r)}:ST().includes(t)?function(...e){return t.apply(pu(this),e),Mn(iv.get(this))}:function(...e){return Mn(t.apply(pu(this),e))}}function kT(t){return typeof t=="function"?PT(t):(t instanceof IDBTransaction&&CT(t),TT(t,IT())?new Proxy(t,wc):t)}function Mn(t){if(t instanceof IDBRequest)return AT(t);if(fu.has(t))return fu.get(t);const e=kT(t);return e!==t&&(fu.set(t,e),Lh.set(e,t)),e}const pu=t=>Lh.get(t);function xT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Mn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Mn(s.result),u.oldVersion,u.newVersion,Mn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const NT=["get","getKey","getAll","getAllKeys","count"],VT=["put","add","delete","clear"],mu=new Map;function Mp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mu.get(e))return mu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NT.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return mu.set(e,o),o}RT(t=>({...t,get:(e,n,r)=>Mp(e,n)||t.get(e,n,r),has:(e,n)=>!!Mp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ec="@firebase/app",Lp="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new rv("@firebase/app"),MT="@firebase/app-compat",LT="@firebase/analytics-compat",bT="@firebase/analytics",FT="@firebase/app-check-compat",jT="@firebase/app-check",UT="@firebase/auth",BT="@firebase/auth-compat",zT="@firebase/database",$T="@firebase/database-compat",qT="@firebase/functions",WT="@firebase/functions-compat",HT="@firebase/installations",KT="@firebase/installations-compat",QT="@firebase/messaging",GT="@firebase/messaging-compat",YT="@firebase/performance",XT="@firebase/performance-compat",JT="@firebase/remote-config",ZT="@firebase/remote-config-compat",eI="@firebase/storage",tI="@firebase/storage-compat",nI="@firebase/firestore",rI="@firebase/vertexai-preview",iI="@firebase/firestore-compat",oI="firebase",sI="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="[DEFAULT]",aI={[Ec]:"fire-core",[MT]:"fire-core-compat",[bT]:"fire-analytics",[LT]:"fire-analytics-compat",[jT]:"fire-app-check",[FT]:"fire-app-check-compat",[UT]:"fire-auth",[BT]:"fire-auth-compat",[zT]:"fire-rtdb",[$T]:"fire-rtdb-compat",[qT]:"fire-fn",[WT]:"fire-fn-compat",[HT]:"fire-iid",[KT]:"fire-iid-compat",[QT]:"fire-fcm",[GT]:"fire-fcm-compat",[YT]:"fire-perf",[XT]:"fire-perf-compat",[JT]:"fire-rc",[ZT]:"fire-rc-compat",[eI]:"fire-gcs",[tI]:"fire-gcs-compat",[nI]:"fire-fst",[iI]:"fire-fst-compat",[rI]:"fire-vertex","fire-js":"fire-js",[oI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Map,lI=new Map,Ic=new Map;function bp(t,e){try{t.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Na(t){const e=t.name;if(Ic.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;Ic.set(e,t);for(const n of xa.values())bp(n,t);for(const n of lI.values())bp(n,t);return!0}function uI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ln=new nv("app","Firebase",cI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=sI;function sv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ln.create("bad-app-name",{appName:String(i)});if(n||(n=tv()),!n)throw Ln.create("no-options");const o=xa.get(i);if(o){if(vc(n,o.options)&&vc(r,o.config))return o;throw Ln.create("duplicate-app",{appName:i})}const s=new yT(i);for(const u of Ic.values())s.addComponent(u);const l=new hI(n,r,s);return xa.set(i,l),l}function fI(t=Tc){const e=xa.get(t);if(!e&&t===Tc&&tv())return sv();if(!e)throw Ln.create("no-app",{appName:t});return e}function Gr(t,e,n){var r;let i=(r=aI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(l.join(" "));return}Na(new Do(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firebase-heartbeat-database",mI=1,Oo="firebase-heartbeat-store";let gu=null;function av(){return gu||(gu=xT(pI,mI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ln.create("idb-open",{originalErrorMessage:t.message})})),gu}async function gI(t){try{const n=(await av()).transaction(Oo),r=await n.objectStore(Oo).get(lv(t));return await n.done,r}catch(e){if(e instanceof yi)pr.warn(e.message);else{const n=Ln.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(n.message)}}}async function Fp(t,e){try{const r=(await av()).transaction(Oo,"readwrite");await r.objectStore(Oo).put(e,lv(t)),await r.done}catch(n){if(n instanceof yi)pr.warn(n.message);else{const r=Ln.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pr.warn(r.message)}}}function lv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=1024,vI=30*24*60*60*1e3;class _I{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jp();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=vI}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jp(),{heartbeatsToSend:r,unsentEntries:i}=wI(this._heartbeatsCache.heartbeats),o=ka(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function jp(){return new Date().toISOString().substring(0,10)}function wI(t,e=yI){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Up(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Up(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Up(t){return ka(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){Na(new Do("platform-logger",e=>new DT(e),"PRIVATE")),Na(new Do("heartbeat",e=>new _I(e),"PRIVATE")),Gr(Ec,Lp,t),Gr(Ec,Lp,"esm2017"),Gr("fire-js","")}TI("");var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lr,uv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,g){function E(){}E.prototype=g.prototype,R.D=g.prototype,R.prototype=new E,R.prototype.constructor=R,R.C=function(I,S,N){for(var A=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)A[ee-2]=arguments[ee];return g.prototype[S].apply(I,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,g,E){E||(E=0);var I=Array(16);if(typeof g=="string")for(var S=0;16>S;++S)I[S]=g.charCodeAt(E++)|g.charCodeAt(E++)<<8|g.charCodeAt(E++)<<16|g.charCodeAt(E++)<<24;else for(S=0;16>S;++S)I[S]=g[E++]|g[E++]<<8|g[E++]<<16|g[E++]<<24;g=R.g[0],E=R.g[1],S=R.g[2];var N=R.g[3],A=g+(N^E&(S^N))+I[0]+3614090360&4294967295;g=E+(A<<7&4294967295|A>>>25),A=N+(S^g&(E^S))+I[1]+3905402710&4294967295,N=g+(A<<12&4294967295|A>>>20),A=S+(E^N&(g^E))+I[2]+606105819&4294967295,S=N+(A<<17&4294967295|A>>>15),A=E+(g^S&(N^g))+I[3]+3250441966&4294967295,E=S+(A<<22&4294967295|A>>>10),A=g+(N^E&(S^N))+I[4]+4118548399&4294967295,g=E+(A<<7&4294967295|A>>>25),A=N+(S^g&(E^S))+I[5]+1200080426&4294967295,N=g+(A<<12&4294967295|A>>>20),A=S+(E^N&(g^E))+I[6]+2821735955&4294967295,S=N+(A<<17&4294967295|A>>>15),A=E+(g^S&(N^g))+I[7]+4249261313&4294967295,E=S+(A<<22&4294967295|A>>>10),A=g+(N^E&(S^N))+I[8]+1770035416&4294967295,g=E+(A<<7&4294967295|A>>>25),A=N+(S^g&(E^S))+I[9]+2336552879&4294967295,N=g+(A<<12&4294967295|A>>>20),A=S+(E^N&(g^E))+I[10]+4294925233&4294967295,S=N+(A<<17&4294967295|A>>>15),A=E+(g^S&(N^g))+I[11]+2304563134&4294967295,E=S+(A<<22&4294967295|A>>>10),A=g+(N^E&(S^N))+I[12]+1804603682&4294967295,g=E+(A<<7&4294967295|A>>>25),A=N+(S^g&(E^S))+I[13]+4254626195&4294967295,N=g+(A<<12&4294967295|A>>>20),A=S+(E^N&(g^E))+I[14]+2792965006&4294967295,S=N+(A<<17&4294967295|A>>>15),A=E+(g^S&(N^g))+I[15]+1236535329&4294967295,E=S+(A<<22&4294967295|A>>>10),A=g+(S^N&(E^S))+I[1]+4129170786&4294967295,g=E+(A<<5&4294967295|A>>>27),A=N+(E^S&(g^E))+I[6]+3225465664&4294967295,N=g+(A<<9&4294967295|A>>>23),A=S+(g^E&(N^g))+I[11]+643717713&4294967295,S=N+(A<<14&4294967295|A>>>18),A=E+(N^g&(S^N))+I[0]+3921069994&4294967295,E=S+(A<<20&4294967295|A>>>12),A=g+(S^N&(E^S))+I[5]+3593408605&4294967295,g=E+(A<<5&4294967295|A>>>27),A=N+(E^S&(g^E))+I[10]+38016083&4294967295,N=g+(A<<9&4294967295|A>>>23),A=S+(g^E&(N^g))+I[15]+3634488961&4294967295,S=N+(A<<14&4294967295|A>>>18),A=E+(N^g&(S^N))+I[4]+3889429448&4294967295,E=S+(A<<20&4294967295|A>>>12),A=g+(S^N&(E^S))+I[9]+568446438&4294967295,g=E+(A<<5&4294967295|A>>>27),A=N+(E^S&(g^E))+I[14]+3275163606&4294967295,N=g+(A<<9&4294967295|A>>>23),A=S+(g^E&(N^g))+I[3]+4107603335&4294967295,S=N+(A<<14&4294967295|A>>>18),A=E+(N^g&(S^N))+I[8]+1163531501&4294967295,E=S+(A<<20&4294967295|A>>>12),A=g+(S^N&(E^S))+I[13]+2850285829&4294967295,g=E+(A<<5&4294967295|A>>>27),A=N+(E^S&(g^E))+I[2]+4243563512&4294967295,N=g+(A<<9&4294967295|A>>>23),A=S+(g^E&(N^g))+I[7]+1735328473&4294967295,S=N+(A<<14&4294967295|A>>>18),A=E+(N^g&(S^N))+I[12]+2368359562&4294967295,E=S+(A<<20&4294967295|A>>>12),A=g+(E^S^N)+I[5]+4294588738&4294967295,g=E+(A<<4&4294967295|A>>>28),A=N+(g^E^S)+I[8]+2272392833&4294967295,N=g+(A<<11&4294967295|A>>>21),A=S+(N^g^E)+I[11]+1839030562&4294967295,S=N+(A<<16&4294967295|A>>>16),A=E+(S^N^g)+I[14]+4259657740&4294967295,E=S+(A<<23&4294967295|A>>>9),A=g+(E^S^N)+I[1]+2763975236&4294967295,g=E+(A<<4&4294967295|A>>>28),A=N+(g^E^S)+I[4]+1272893353&4294967295,N=g+(A<<11&4294967295|A>>>21),A=S+(N^g^E)+I[7]+4139469664&4294967295,S=N+(A<<16&4294967295|A>>>16),A=E+(S^N^g)+I[10]+3200236656&4294967295,E=S+(A<<23&4294967295|A>>>9),A=g+(E^S^N)+I[13]+681279174&4294967295,g=E+(A<<4&4294967295|A>>>28),A=N+(g^E^S)+I[0]+3936430074&4294967295,N=g+(A<<11&4294967295|A>>>21),A=S+(N^g^E)+I[3]+3572445317&4294967295,S=N+(A<<16&4294967295|A>>>16),A=E+(S^N^g)+I[6]+76029189&4294967295,E=S+(A<<23&4294967295|A>>>9),A=g+(E^S^N)+I[9]+3654602809&4294967295,g=E+(A<<4&4294967295|A>>>28),A=N+(g^E^S)+I[12]+3873151461&4294967295,N=g+(A<<11&4294967295|A>>>21),A=S+(N^g^E)+I[15]+530742520&4294967295,S=N+(A<<16&4294967295|A>>>16),A=E+(S^N^g)+I[2]+3299628645&4294967295,E=S+(A<<23&4294967295|A>>>9),A=g+(S^(E|~N))+I[0]+4096336452&4294967295,g=E+(A<<6&4294967295|A>>>26),A=N+(E^(g|~S))+I[7]+1126891415&4294967295,N=g+(A<<10&4294967295|A>>>22),A=S+(g^(N|~E))+I[14]+2878612391&4294967295,S=N+(A<<15&4294967295|A>>>17),A=E+(N^(S|~g))+I[5]+4237533241&4294967295,E=S+(A<<21&4294967295|A>>>11),A=g+(S^(E|~N))+I[12]+1700485571&4294967295,g=E+(A<<6&4294967295|A>>>26),A=N+(E^(g|~S))+I[3]+2399980690&4294967295,N=g+(A<<10&4294967295|A>>>22),A=S+(g^(N|~E))+I[10]+4293915773&4294967295,S=N+(A<<15&4294967295|A>>>17),A=E+(N^(S|~g))+I[1]+2240044497&4294967295,E=S+(A<<21&4294967295|A>>>11),A=g+(S^(E|~N))+I[8]+1873313359&4294967295,g=E+(A<<6&4294967295|A>>>26),A=N+(E^(g|~S))+I[15]+4264355552&4294967295,N=g+(A<<10&4294967295|A>>>22),A=S+(g^(N|~E))+I[6]+2734768916&4294967295,S=N+(A<<15&4294967295|A>>>17),A=E+(N^(S|~g))+I[13]+1309151649&4294967295,E=S+(A<<21&4294967295|A>>>11),A=g+(S^(E|~N))+I[4]+4149444226&4294967295,g=E+(A<<6&4294967295|A>>>26),A=N+(E^(g|~S))+I[11]+3174756917&4294967295,N=g+(A<<10&4294967295|A>>>22),A=S+(g^(N|~E))+I[2]+718787259&4294967295,S=N+(A<<15&4294967295|A>>>17),A=E+(N^(S|~g))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+g&4294967295,R.g[1]=R.g[1]+(S+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+S&4294967295,R.g[3]=R.g[3]+N&4294967295}r.prototype.u=function(R,g){g===void 0&&(g=R.length);for(var E=g-this.blockSize,I=this.B,S=this.h,N=0;N<g;){if(S==0)for(;N<=E;)i(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<g;)if(I[S++]=R.charCodeAt(N++),S==this.blockSize){i(this,I),S=0;break}}else for(;N<g;)if(I[S++]=R[N++],S==this.blockSize){i(this,I),S=0;break}}this.h=S,this.o+=g},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var g=1;g<R.length-8;++g)R[g]=0;var E=8*this.o;for(g=R.length-8;g<R.length;++g)R[g]=E&255,E/=256;for(this.u(R),R=Array(16),g=E=0;4>g;++g)for(var I=0;32>I;I+=8)R[E++]=this.g[g]>>>I&255;return R};function o(R,g){var E=l;return Object.prototype.hasOwnProperty.call(E,R)?E[R]:E[R]=g(R)}function s(R,g){this.h=g;for(var E=[],I=!0,S=R.length-1;0<=S;S--){var N=R[S]|0;I&&N==g||(E[S]=N,I=!1)}this.g=E}var l={};function u(R){return-128<=R&&128>R?o(R,function(g){return new s([g|0],0>g?-1:0)}):new s([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return p;if(0>R)return k(c(-R));for(var g=[],E=1,I=0;R>=E;I++)g[I]=R/E|0,E*=4294967296;return new s(g,0)}function f(R,g){if(R.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(R.charAt(0)=="-")return k(f(R.substring(1),g));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(g,8)),I=p,S=0;S<R.length;S+=8){var N=Math.min(8,R.length-S),A=parseInt(R.substring(S,S+N),g);8>N?(N=c(Math.pow(g,N)),I=I.j(N).add(c(A))):(I=I.j(E),I=I.add(c(A)))}return I}var p=u(0),v=u(1),T=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-k(this).m();for(var R=0,g=1,E=0;E<this.g.length;E++){var I=this.i(E);R+=(0<=I?I:4294967296+I)*g,g*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(C(this))return"0";if(P(this))return"-"+k(this).toString(R);for(var g=c(Math.pow(R,6)),E=this,I="";;){var S=x(E,g).g;E=m(E,S.j(g));var N=((0<E.g.length?E.g[0]:E.h)>>>0).toString(R);if(E=S,C(E))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function C(R){if(R.h!=0)return!1;for(var g=0;g<R.g.length;g++)if(R.g[g]!=0)return!1;return!0}function P(R){return R.h==-1}t.l=function(R){return R=m(this,R),P(R)?-1:C(R)?0:1};function k(R){for(var g=R.g.length,E=[],I=0;I<g;I++)E[I]=~R.g[I];return new s(E,~R.h).add(v)}t.abs=function(){return P(this)?k(this):this},t.add=function(R){for(var g=Math.max(this.g.length,R.g.length),E=[],I=0,S=0;S<=g;S++){var N=I+(this.i(S)&65535)+(R.i(S)&65535),A=(N>>>16)+(this.i(S)>>>16)+(R.i(S)>>>16);I=A>>>16,N&=65535,A&=65535,E[S]=A<<16|N}return new s(E,E[E.length-1]&-2147483648?-1:0)};function m(R,g){return R.add(k(g))}t.j=function(R){if(C(this)||C(R))return p;if(P(this))return P(R)?k(this).j(k(R)):k(k(this).j(R));if(P(R))return k(this.j(k(R)));if(0>this.l(T)&&0>R.l(T))return c(this.m()*R.m());for(var g=this.g.length+R.g.length,E=[],I=0;I<2*g;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var S=0;S<R.g.length;S++){var N=this.i(I)>>>16,A=this.i(I)&65535,ee=R.i(S)>>>16,ue=R.i(S)&65535;E[2*I+2*S]+=A*ue,y(E,2*I+2*S),E[2*I+2*S+1]+=N*ue,y(E,2*I+2*S+1),E[2*I+2*S+1]+=A*ee,y(E,2*I+2*S+1),E[2*I+2*S+2]+=N*ee,y(E,2*I+2*S+2)}for(I=0;I<g;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=g;I<2*g;I++)E[I]=0;return new s(E,0)};function y(R,g){for(;(R[g]&65535)!=R[g];)R[g+1]+=R[g]>>>16,R[g]&=65535,g++}function _(R,g){this.g=R,this.h=g}function x(R,g){if(C(g))throw Error("division by zero");if(C(R))return new _(p,p);if(P(R))return g=x(k(R),g),new _(k(g.g),k(g.h));if(P(g))return g=x(R,k(g)),new _(k(g.g),g.h);if(30<R.g.length){if(P(R)||P(g))throw Error("slowDivide_ only works with positive integers.");for(var E=v,I=g;0>=I.l(R);)E=D(E),I=D(I);var S=j(E,1),N=j(I,1);for(I=j(I,2),E=j(E,2);!C(I);){var A=N.add(I);0>=A.l(R)&&(S=S.add(E),N=A),I=j(I,1),E=j(E,1)}return g=m(R,S.j(g)),new _(S,g)}for(S=p;0<=R.l(g);){for(E=Math.max(1,Math.floor(R.m()/g.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=c(E),A=N.j(g);P(A)||0<A.l(R);)E-=I,N=c(E),A=N.j(g);C(N)&&(N=v),S=S.add(N),R=m(R,A)}return new _(S,R)}t.A=function(R){return x(this,R).h},t.and=function(R){for(var g=Math.max(this.g.length,R.g.length),E=[],I=0;I<g;I++)E[I]=this.i(I)&R.i(I);return new s(E,this.h&R.h)},t.or=function(R){for(var g=Math.max(this.g.length,R.g.length),E=[],I=0;I<g;I++)E[I]=this.i(I)|R.i(I);return new s(E,this.h|R.h)},t.xor=function(R){for(var g=Math.max(this.g.length,R.g.length),E=[],I=0;I<g;I++)E[I]=this.i(I)^R.i(I);return new s(E,this.h^R.h)};function D(R){for(var g=R.g.length+1,E=[],I=0;I<g;I++)E[I]=R.i(I)<<1|R.i(I-1)>>>31;return new s(E,R.h)}function j(R,g){var E=g>>5;g%=32;for(var I=R.g.length-E,S=[],N=0;N<I;N++)S[N]=0<g?R.i(N+E)>>>g|R.i(N+E+1)<<32-g:R.i(N+E);return new s(S,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uv=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,lr=s}).apply(typeof Bp<"u"?Bp:typeof self<"u"?self:typeof window<"u"?window:{});var Ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cv,hv,Yi,dv,Js,Sc,fv,pv,mv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ls=="object"&&Ls];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var d=r;a=a.split(".");for(var w=0;w<a.length-1;w++){var V=a[w];if(!(V in d))break e;d=d[V]}a=a[a.length-1],w=d[a],h=h(w),h!=w&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var d=0,w=!1,V={next:function(){if(!w&&d<a.length){var O=d++;return{value:h(O,a[O]),done:!1}}return w=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return o(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,d){return a.call.apply(a.bind,arguments)}function p(a,h,d){if(!a)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,w),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function v(a,h,d){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,v.apply(null,arguments)}function T(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var w=d.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function C(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(w,V,O){for(var B=Array(arguments.length-2),le=2;le<arguments.length;le++)B[le-2]=arguments[le];return h.prototype[V].apply(w,B)}}function P(a){const h=a.length;if(0<h){const d=Array(h);for(let w=0;w<h;w++)d[w]=a[w];return d}return[]}function k(a,h){for(let d=1;d<arguments.length;d++){const w=arguments[d];if(u(w)){const V=a.length||0,O=w.length||0;a.length=V+O;for(let B=0;B<O;B++)a[V+B]=w[B]}else a.push(w)}}class m{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function _(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function x(a){return x[" "](a),a}x[" "]=function(){};var D=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function j(a,h,d){for(const w in a)h.call(d,a[w],w,a)}function R(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function g(a){const h={};for(const d in a)h[d]=a[d];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,h){let d,w;for(let V=1;V<arguments.length;V++){w=arguments[V];for(d in w)a[d]=w[d];for(let O=0;O<E.length;O++)d=E[O],Object.prototype.hasOwnProperty.call(w,d)&&(a[d]=w[d])}}function S(a){var h=1;a=a.split(":");const d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function N(a){l.setTimeout(()=>{throw a},0)}function A(){var a=Q;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class ee{constructor(){this.h=this.g=null}add(h,d){const w=ue.get();w.set(h,d),this.h?this.h.next=w:this.g=w,this.h=w}}var ue=new m(()=>new Rt,a=>a.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Pt,z=!1,Q=new ee,X=()=>{const a=l.Promise.resolve(void 0);Pt=()=>{a.then(ye)}};var ye=()=>{for(var a;a=A();){try{a.h.call(a.g)}catch(d){N(d)}var h=ue;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}z=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var Kt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return a}();function Qt(a,h){if(Se.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(D){e:{try{x(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Gt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Qt.aa.h.call(this)}}C(Qt,Se);var Gt={2:"touch",3:"pen",4:"mouse"};Qt.prototype.h=function(){Qt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Yt="closure_listenable_"+(1e6*Math.random()|0),L_=0;function b_(a,h,d,w,V){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!w,this.ha=V,this.key=++L_,this.da=this.fa=!1}function ns(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function rs(a){this.src=a,this.g={},this.h=0}rs.prototype.add=function(a,h,d,w,V){var O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);var B=vl(a,h,w,V);return-1<B?(h=a[B],d||(h.fa=!1)):(h=new b_(h,this.src,O,!!w,V),h.fa=d,a.push(h)),h};function yl(a,h){var d=h.type;if(d in a.g){var w=a.g[d],V=Array.prototype.indexOf.call(w,h,void 0),O;(O=0<=V)&&Array.prototype.splice.call(w,V,1),O&&(ns(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function vl(a,h,d,w){for(var V=0;V<a.length;++V){var O=a[V];if(!O.da&&O.listener==h&&O.capture==!!d&&O.ha==w)return V}return-1}var _l="closure_lm_"+(1e6*Math.random()|0),wl={};function md(a,h,d,w,V){if(Array.isArray(h)){for(var O=0;O<h.length;O++)md(a,h[O],d,w,V);return null}return d=vd(d),a&&a[Yt]?a.K(h,d,c(w)?!!w.capture:!!w,V):F_(a,h,d,!1,w,V)}function F_(a,h,d,w,V,O){if(!h)throw Error("Invalid event type");var B=c(V)?!!V.capture:!!V,le=Tl(a);if(le||(a[_l]=le=new rs(a)),d=le.add(h,d,w,B,O),d.proxy)return d;if(w=j_(),d.proxy=w,w.src=a,w.listener=d,a.addEventListener)Kt||(V=B),V===void 0&&(V=!1),a.addEventListener(h.toString(),w,V);else if(a.attachEvent)a.attachEvent(yd(h.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return d}function j_(){function a(d){return h.call(a.src,a.listener,d)}const h=U_;return a}function gd(a,h,d,w,V){if(Array.isArray(h))for(var O=0;O<h.length;O++)gd(a,h[O],d,w,V);else w=c(w)?!!w.capture:!!w,d=vd(d),a&&a[Yt]?(a=a.i,h=String(h).toString(),h in a.g&&(O=a.g[h],d=vl(O,d,w,V),-1<d&&(ns(O[d]),Array.prototype.splice.call(O,d,1),O.length==0&&(delete a.g[h],a.h--)))):a&&(a=Tl(a))&&(h=a.g[h.toString()],a=-1,h&&(a=vl(h,d,w,V)),(d=-1<a?h[a]:null)&&El(d))}function El(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Yt])yl(h.i,a);else{var d=a.type,w=a.proxy;h.removeEventListener?h.removeEventListener(d,w,a.capture):h.detachEvent?h.detachEvent(yd(d),w):h.addListener&&h.removeListener&&h.removeListener(w),(d=Tl(h))?(yl(d,a),d.h==0&&(d.src=null,h[_l]=null)):ns(a)}}}function yd(a){return a in wl?wl[a]:wl[a]="on"+a}function U_(a,h){if(a.da)a=!0;else{h=new Qt(h,this);var d=a.listener,w=a.ha||a.src;a.fa&&El(a),a=d.call(w,h)}return a}function Tl(a){return a=a[_l],a instanceof rs?a:null}var Il="__closure_events_fn_"+(1e9*Math.random()>>>0);function vd(a){return typeof a=="function"?a:(a[Il]||(a[Il]=function(h){return a.handleEvent(h)}),a[Il])}function qe(){ae.call(this),this.i=new rs(this),this.M=this,this.F=null}C(qe,ae),qe.prototype[Yt]=!0,qe.prototype.removeEventListener=function(a,h,d,w){gd(this,a,h,d,w)};function tt(a,h){var d,w=a.F;if(w)for(d=[];w;w=w.F)d.push(w);if(a=a.M,w=h.type||h,typeof h=="string")h=new Se(h,a);else if(h instanceof Se)h.target=h.target||a;else{var V=h;h=new Se(w,a),I(h,V)}if(V=!0,d)for(var O=d.length-1;0<=O;O--){var B=h.g=d[O];V=is(B,w,!0,h)&&V}if(B=h.g=a,V=is(B,w,!0,h)&&V,V=is(B,w,!1,h)&&V,d)for(O=0;O<d.length;O++)B=h.g=d[O],V=is(B,w,!1,h)&&V}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],w=0;w<d.length;w++)ns(d[w]);delete a.g[h],a.h--}}this.F=null},qe.prototype.K=function(a,h,d,w){return this.i.add(String(a),h,!1,d,w)},qe.prototype.L=function(a,h,d,w){return this.i.add(String(a),h,!0,d,w)};function is(a,h,d,w){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,O=0;O<h.length;++O){var B=h[O];if(B&&!B.da&&B.capture==d){var le=B.listener,be=B.ha||B.src;B.fa&&yl(a.i,B),V=le.call(be,w)!==!1&&V}}return V&&!w.defaultPrevented}function _d(a,h,d){if(typeof a=="function")d&&(a=v(a,d));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function wd(a){a.g=_d(()=>{a.g=null,a.i&&(a.i=!1,wd(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class B_ extends ae{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:wd(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ii(a){ae.call(this),this.h=a,this.g={}}C(Ii,ae);var Ed=[];function Td(a){j(a.g,function(h,d){this.g.hasOwnProperty(d)&&El(h)},a),a.g={}}Ii.prototype.N=function(){Ii.aa.N.call(this),Td(this)},Ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sl=l.JSON.stringify,z_=l.JSON.parse,$_=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Al(){}Al.prototype.h=null;function Id(a){return a.h||(a.h=a.i())}function Sd(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cl(){Se.call(this,"d")}C(Cl,Se);function Rl(){Se.call(this,"c")}C(Rl,Se);var Kn={},Ad=null;function os(){return Ad=Ad||new qe}Kn.La="serverreachability";function Cd(a){Se.call(this,Kn.La,a)}C(Cd,Se);function Ai(a){const h=os();tt(h,new Cd(h))}Kn.STAT_EVENT="statevent";function Rd(a,h){Se.call(this,Kn.STAT_EVENT,a),this.stat=h}C(Rd,Se);function nt(a){const h=os();tt(h,new Rd(h,a))}Kn.Ma="timingevent";function Pd(a,h){Se.call(this,Kn.Ma,a),this.size=h}C(Pd,Se);function Ci(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function q_(a,h,d,w,V,O){a.info(function(){if(a.g)if(O)for(var B="",le=O.split("&"),be=0;be<le.length;be++){var ie=le[be].split("=");if(1<ie.length){var We=ie[0];ie=ie[1];var He=We.split("_");B=2<=He.length&&He[1]=="type"?B+(We+"="+ie+"&"):B+(We+"=redacted&")}}else B=null;else B=O;return"XMLHTTP REQ ("+w+") [attempt "+V+"]: "+h+`
`+d+`
`+B})}function W_(a,h,d,w,V,O,B){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+V+"]: "+h+`
`+d+`
`+O+" "+B})}function Ir(a,h,d,w){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+K_(a,d)+(w?" "+w:"")})}function H_(a,h){a.info(function(){return"TIMEOUT: "+h})}Ri.prototype.info=function(){};function K_(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var w=d[a];if(!(2>w.length)){var V=w[1];if(Array.isArray(V)&&!(1>V.length)){var O=V[0];if(O!="noop"&&O!="stop"&&O!="close")for(var B=1;B<V.length;B++)V[B]=""}}}}return Sl(d)}catch{return h}}var ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pl;function as(){}C(as,Al),as.prototype.g=function(){return new XMLHttpRequest},as.prototype.i=function(){return{}},Pl=new as;function pn(a,h,d,w){this.j=a,this.i=h,this.l=d,this.R=w||1,this.U=new Ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xd}function xd(){this.i=null,this.g="",this.h=!1}var Nd={},kl={};function xl(a,h,d){a.L=1,a.v=hs(Xt(h)),a.m=d,a.P=!0,Vd(a,null)}function Vd(a,h){a.F=Date.now(),ls(a),a.A=Xt(a.v);var d=a.A,w=a.R;Array.isArray(w)||(w=[String(w)]),Hd(d.i,"t",w),a.C=0,d=a.j.J,a.h=new xd,a.g=hf(a.j,d?h:null,!a.m),0<a.O&&(a.M=new B_(v(a.Y,a,a.g),a.O)),h=a.U,d=a.g,w=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(Ed[0]=V.toString()),V=Ed);for(var O=0;O<V.length;O++){var B=md(d,V[O],w||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Ai(),q_(a.i,a.u,a.A,a.l,a.R,a.m)}pn.prototype.ca=function(a){a=a.target;const h=this.M;h&&Jt(a)==3?h.j():this.Y(a)},pn.prototype.Y=function(a){try{if(a==this.g)e:{const He=Jt(this.g);var h=this.g.Ba();const Cr=this.g.Z();if(!(3>He)&&(He!=3||this.g&&(this.h.h||this.g.oa()||Zd(this.g)))){this.J||He!=4||h==7||(h==8||0>=Cr?Ai(3):Ai(2)),Nl(this);var d=this.g.Z();this.X=d;t:if(Dd(this)){var w=Zd(this.g);a="";var V=w.length,O=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Pi(this);var B="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(w[h],{stream:!(O&&h==V-1)});w.length=0,this.h.g+=a,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=d==200,W_(this.i,this.u,this.A,this.l,this.R,He,d),this.o){if(this.T&&!this.K){t:{if(this.g){var le,be=this.g;if((le=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(le)){var ie=le;break t}}ie=null}if(d=ie)Ir(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vl(this,d);else{this.o=!1,this.s=3,nt(12),Qn(this),Pi(this);break e}}if(this.P){d=!0;let kt;for(;!this.J&&this.C<B.length;)if(kt=Q_(this,B),kt==kl){He==4&&(this.s=4,nt(14),d=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Nd){this.s=4,nt(15),Ir(this.i,this.l,B,"[Invalid Chunk]"),d=!1;break}else Ir(this.i,this.l,kt,null),Vl(this,kt);if(Dd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||B.length!=0||this.h.h||(this.s=1,nt(16),d=!1),this.o=this.o&&d,!d)Ir(this.i,this.l,B,"[Invalid Chunked Response]"),Qn(this),Pi(this);else if(0<B.length&&!this.W){this.W=!0;var We=this.j;We.g==this&&We.ba&&!We.M&&(We.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Fl(We),We.M=!0,nt(11))}}else Ir(this.i,this.l,B,null),Vl(this,B);He==4&&Qn(this),this.o&&!this.J&&(He==4?af(this.j,this):(this.o=!1,ls(this)))}else h0(this.g),d==400&&0<B.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Qn(this),Pi(this)}}}catch{}finally{}};function Dd(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Q_(a,h){var d=a.C,w=h.indexOf(`
`,d);return w==-1?kl:(d=Number(h.substring(d,w)),isNaN(d)?Nd:(w+=1,w+d>h.length?kl:(h=h.slice(w,w+d),a.C=w+d,h)))}pn.prototype.cancel=function(){this.J=!0,Qn(this)};function ls(a){a.S=Date.now()+a.I,Od(a,a.I)}function Od(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ci(v(a.ba,a),h)}function Nl(a){a.B&&(l.clearTimeout(a.B),a.B=null)}pn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(H_(this.i,this.A),this.L!=2&&(Ai(),nt(17)),Qn(this),this.s=2,Pi(this)):Od(this,this.S-a)};function Pi(a){a.j.G==0||a.J||af(a.j,a)}function Qn(a){Nl(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Td(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Vl(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||Dl(d.h,a))){if(!a.K&&Dl(d.h,a)&&d.G==3){try{var w=d.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var V=w;if(V[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)gs(d),ps(d);else break e;bl(d),nt(18)}}else d.za=V[1],0<d.za-d.T&&37500>V[2]&&d.F&&d.v==0&&!d.C&&(d.C=Ci(v(d.Za,d),6e3));if(1>=bd(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Yn(d,11)}else if((a.K||d.g==a)&&gs(d),!y(h))for(V=d.Da.g.parse(h),h=0;h<V.length;h++){let ie=V[h];if(d.T=ie[0],ie=ie[1],d.G==2)if(ie[0]=="c"){d.K=ie[1],d.ia=ie[2];const We=ie[3];We!=null&&(d.la=We,d.j.info("VER="+d.la));const He=ie[4];He!=null&&(d.Aa=He,d.j.info("SVER="+d.Aa));const Cr=ie[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(w=1.5*Cr,d.L=w,d.j.info("backChannelRequestTimeoutMs_="+w)),w=d;const kt=a.g;if(kt){const vs=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var O=w.h;O.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Ol(O,O.h),O.h=null))}if(w.D){const jl=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(w.ya=jl,de(w.I,w.D,jl))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),w=d;var B=a;if(w.qa=cf(w,w.J?w.ia:null,w.W),B.K){Fd(w.h,B);var le=B,be=w.L;be&&(le.I=be),le.B&&(Nl(le),ls(le)),w.g=B}else of(w);0<d.i.length&&ms(d)}else ie[0]!="stop"&&ie[0]!="close"||Yn(d,7);else d.G==3&&(ie[0]=="stop"||ie[0]=="close"?ie[0]=="stop"?Yn(d,7):Ll(d):ie[0]!="noop"&&d.l&&d.l.ta(ie),d.v=0)}}Ai(4)}catch{}}var G_=class{constructor(a,h){this.g=a,this.map=h}};function Md(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ld(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function bd(a){return a.h?1:a.g?a.g.size:0}function Dl(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Ol(a,h){a.g?a.g.add(h):a.h=h}function Fd(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Md.prototype.cancel=function(){if(this.i=jd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function jd(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.D);return h}return P(a.i)}function Y_(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],d=a.length,w=0;w<d;w++)h.push(a[w]);return h}h=[],d=0;for(w in a)h[d++]=a[w];return h}function X_(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(const w in a)h[d++]=w;return h}}}function Ud(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=X_(a),w=Y_(a),V=w.length,O=0;O<V;O++)h.call(void 0,w[O],d&&d[O],a)}var Bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function J_(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var w=a[d].indexOf("="),V=null;if(0<=w){var O=a[d].substring(0,w);V=a[d].substring(w+1)}else O=a[d];h(O,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Gn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Gn){this.h=a.h,us(this,a.j),this.o=a.o,this.g=a.g,cs(this,a.s),this.l=a.l;var h=a.i,d=new Ni;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),zd(this,d),this.m=a.m}else a&&(h=String(a).match(Bd))?(this.h=!1,us(this,h[1]||"",!0),this.o=ki(h[2]||""),this.g=ki(h[3]||"",!0),cs(this,h[4]),this.l=ki(h[5]||"",!0),zd(this,h[6]||"",!0),this.m=ki(h[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}Gn.prototype.toString=function(){var a=[],h=this.j;h&&a.push(xi(h,$d,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(xi(h,$d,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(xi(d,d.charAt(0)=="/"?t0:e0,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",xi(d,r0)),a.join("")};function Xt(a){return new Gn(a)}function us(a,h,d){a.j=d?ki(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function cs(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function zd(a,h,d){h instanceof Ni?(a.i=h,i0(a.i,a.h)):(d||(h=xi(h,n0)),a.i=new Ni(h,a.h))}function de(a,h,d){a.i.set(h,d)}function hs(a){return de(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ki(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function xi(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,Z_),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Z_(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var $d=/[#\/\?@]/g,e0=/[#\?:]/g,t0=/[#\?]/g,n0=/[#\?@]/g,r0=/#/g;function Ni(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function mn(a){a.g||(a.g=new Map,a.h=0,a.i&&J_(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Ni.prototype,t.add=function(a,h){mn(this),this.i=null,a=Sr(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function qd(a,h){mn(a),h=Sr(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Wd(a,h){return mn(a),h=Sr(a,h),a.g.has(h)}t.forEach=function(a,h){mn(this),this.g.forEach(function(d,w){d.forEach(function(V){a.call(h,V,w,this)},this)},this)},t.na=function(){mn(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let w=0;w<h.length;w++){const V=a[w];for(let O=0;O<V.length;O++)d.push(h[w])}return d},t.V=function(a){mn(this);let h=[];if(typeof a=="string")Wd(this,a)&&(h=h.concat(this.g.get(Sr(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},t.set=function(a,h){return mn(this),this.i=null,a=Sr(this,a),Wd(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Hd(a,h,d){qd(a,h),0<d.length&&(a.i=null,a.g.set(Sr(a,h),P(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var w=h[d];const O=encodeURIComponent(String(w)),B=this.V(w);for(w=0;w<B.length;w++){var V=O;B[w]!==""&&(V+="="+encodeURIComponent(String(B[w]))),a.push(V)}}return this.i=a.join("&")};function Sr(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function i0(a,h){h&&!a.j&&(mn(a),a.i=null,a.g.forEach(function(d,w){var V=w.toLowerCase();w!=V&&(qd(this,w),Hd(this,V,d))},a)),a.j=h}function o0(a,h){const d=new Ri;if(l.Image){const w=new Image;w.onload=T(gn,d,"TestLoadImage: loaded",!0,h,w),w.onerror=T(gn,d,"TestLoadImage: error",!1,h,w),w.onabort=T(gn,d,"TestLoadImage: abort",!1,h,w),w.ontimeout=T(gn,d,"TestLoadImage: timeout",!1,h,w),l.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else h(!1)}function s0(a,h){const d=new Ri,w=new AbortController,V=setTimeout(()=>{w.abort(),gn(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:w.signal}).then(O=>{clearTimeout(V),O.ok?gn(d,"TestPingServer: ok",!0,h):gn(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),gn(d,"TestPingServer: error",!1,h)})}function gn(a,h,d,w,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),w(d)}catch{}}function a0(){this.g=new $_}function l0(a,h,d){const w=d||"";try{Ud(a,function(V,O){let B=V;c(V)&&(B=Sl(V)),h.push(w+O+"="+encodeURIComponent(B))})}catch(V){throw h.push(w+"type="+encodeURIComponent("_badmap")),V}}function Vi(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Vi,Al),Vi.prototype.g=function(){return new ds(this.l,this.j)},Vi.prototype.i=function(a){return function(){return a}}({});function ds(a,h){qe.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ds,qe),t=ds.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Oi(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kd(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kd(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Di(this):Oi(this),this.readyState==3&&Kd(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Di(this))},t.Qa=function(a){this.g&&(this.response=a,Di(this))},t.ga=function(){this.g&&Di(this)};function Di(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Oi(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function Oi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Qd(a){let h="";return j(a,function(d,w){h+=w,h+=":",h+=d,h+=`\r
`}),h}function Ml(a,h,d){e:{for(w in d){var w=!1;break e}w=!0}w||(d=Qd(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):de(a,h,d))}function Te(a){qe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Te,qe);var u0=/^https?$/i,c0=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,d,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pl.g(),this.v=this.o?Id(this.o):Id(Pl),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(O){Gd(this,O);return}if(a=d||"",d=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var V in w)d.set(V,w[V]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const O of w.keys())d.set(O,w.get(O));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(d.keys()).find(O=>O.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(c0,h,void 0))||w||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,B]of d)this.g.setRequestHeader(O,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jd(this),this.u=!0,this.g.send(a),this.u=!1}catch(O){Gd(this,O)}};function Gd(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Yd(a),fs(a)}function Yd(a){a.A||(a.A=!0,tt(a,"complete"),tt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,tt(this,"complete"),tt(this,"abort"),fs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xd(this):this.bb())},t.bb=function(){Xd(this)};function Xd(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Jt(a)!=4||a.Z()!=2)){if(a.u&&Jt(a)==4)_d(a.Ea,0,a);else if(tt(a,"readystatechange"),Jt(a)==4){a.h=!1;try{const B=a.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var w;if(w=B===0){var V=String(a.D).match(Bd)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),w=!u0.test(V?V.toLowerCase():"")}d=w}if(d)tt(a,"complete"),tt(a,"success");else{a.m=6;try{var O=2<Jt(a)?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.Z()+"]",Yd(a)}}finally{fs(a)}}}}function fs(a,h){if(a.g){Jd(a);const d=a.g,w=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||tt(a,"ready");try{d.onreadystatechange=w}catch{}}}function Jd(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Jt(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),z_(h)}};function Zd(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function h0(a){const h={};a=(a.g&&2<=Jt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(y(a[w]))continue;var d=S(a[w]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const O=h[V]||[];h[V]=O,O.push(d)}R(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function ef(a){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mi("baseRetryDelayMs",5e3,a),this.cb=Mi("retryDelaySeedMs",1e4,a),this.Wa=Mi("forwardChannelMaxRetries",2,a),this.wa=Mi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Md(a&&a.concurrentRequestLimit),this.Da=new a0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ef.prototype,t.la=8,t.G=1,t.connect=function(a,h,d,w){nt(0),this.W=a,this.H=h||{},d&&w!==void 0&&(this.H.OSID=d,this.H.OAID=w),this.F=this.X,this.I=cf(this,null,this.W),ms(this)};function Ll(a){if(tf(a),a.G==3){var h=a.U++,d=Xt(a.I);if(de(d,"SID",a.K),de(d,"RID",h),de(d,"TYPE","terminate"),Li(a,d),h=new pn(a,a.j,h),h.L=2,h.v=hs(Xt(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=hf(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ls(h)}uf(a)}function ps(a){a.g&&(Fl(a),a.g.cancel(),a.g=null)}function tf(a){ps(a),a.u&&(l.clearTimeout(a.u),a.u=null),gs(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ms(a){if(!Ld(a.h)&&!a.s){a.s=!0;var h=a.Ga;Pt||X(),z||(Pt(),z=!0),Q.add(h,a),a.B=0}}function d0(a,h){return bd(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ci(v(a.Ga,a,h),lf(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new pn(this,this.j,a);let O=this.o;if(this.S&&(O?(O=g(O),I(O,this.S)):O=this.S),this.m!==null||this.O||(V.H=O,O=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var w=this.i[d];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=rf(this,V,h),d=Xt(this.I),de(d,"RID",a),de(d,"CVER",22),this.D&&de(d,"X-HTTP-Session-Id",this.D),Li(this,d),O&&(this.O?h="headers="+encodeURIComponent(String(Qd(O)))+"&"+h:this.m&&Ml(d,this.m,O)),Ol(this.h,V),this.Ua&&de(d,"TYPE","init"),this.P?(de(d,"$req",h),de(d,"SID","null"),V.T=!0,xl(V,d,null)):xl(V,d,h),this.G=2}}else this.G==3&&(a?nf(this,a):this.i.length==0||Ld(this.h)||nf(this))};function nf(a,h){var d;h?d=h.l:d=a.U++;const w=Xt(a.I);de(w,"SID",a.K),de(w,"RID",d),de(w,"AID",a.T),Li(a,w),a.m&&a.o&&Ml(w,a.m,a.o),d=new pn(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=rf(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ol(a.h,d),xl(d,w,h)}function Li(a,h){a.H&&j(a.H,function(d,w){de(h,w,d)}),a.l&&Ud({},function(d,w){de(h,w,d)})}function rf(a,h,d){d=Math.min(a.i.length,d);var w=a.l?v(a.l.Na,a.l,a):null;e:{var V=a.i;let O=-1;for(;;){const B=["count="+d];O==-1?0<d?(O=V[0].g,B.push("ofs="+O)):O=0:B.push("ofs="+O);let le=!0;for(let be=0;be<d;be++){let ie=V[be].g;const We=V[be].map;if(ie-=O,0>ie)O=Math.max(0,V[be].g-100),le=!1;else try{l0(We,B,"req"+ie+"_")}catch{w&&w(We)}}if(le){w=B.join("&");break e}}}return a=a.i.splice(0,d),h.D=a,w}function of(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Pt||X(),z||(Pt(),z=!0),Q.add(h,a),a.v=0}}function bl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ci(v(a.Fa,a),lf(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,sf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ci(v(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),ps(this),sf(this))};function Fl(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function sf(a){a.g=new pn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Xt(a.qa);de(h,"RID","rpc"),de(h,"SID",a.K),de(h,"AID",a.T),de(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&de(h,"TO",a.ja),de(h,"TYPE","xmlhttp"),Li(a,h),a.m&&a.o&&Ml(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=hs(Xt(h)),d.m=null,d.P=!0,Vd(d,a)}t.Za=function(){this.C!=null&&(this.C=null,ps(this),bl(this),nt(19))};function gs(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function af(a,h){var d=null;if(a.g==h){gs(a),Fl(a),a.g=null;var w=2}else if(Dl(a.h,h))d=h.D,Fd(a.h,h),w=1;else return;if(a.G!=0){if(h.o)if(w==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;w=os(),tt(w,new Pd(w,d)),ms(a)}else of(a);else if(V=h.s,V==3||V==0&&0<h.X||!(w==1&&d0(a,h)||w==2&&bl(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),V){case 1:Yn(a,5);break;case 4:Yn(a,10);break;case 3:Yn(a,6);break;default:Yn(a,2)}}}function lf(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function Yn(a,h){if(a.j.info("Error code "+h),h==2){var d=v(a.fb,a),w=a.Xa;const V=!w;w=new Gn(w||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||us(w,"https"),hs(w),V?o0(w.toString(),d):s0(w.toString(),d)}else nt(2);a.G=0,a.l&&a.l.sa(h),uf(a),tf(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function uf(a){if(a.G=0,a.ka=[],a.l){const h=jd(a.h);(h.length!=0||a.i.length!=0)&&(k(a.ka,h),k(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function cf(a,h,d){var w=d instanceof Gn?Xt(d):new Gn(d);if(w.g!="")h&&(w.g=h+"."+w.g),cs(w,w.s);else{var V=l.location;w=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var O=new Gn(null);w&&us(O,w),h&&(O.g=h),V&&cs(O,V),d&&(O.l=d),w=O}return d=a.D,h=a.ya,d&&h&&de(w,d,h),de(w,"VER",a.la),Li(a,w),w}function hf(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Te(new Vi({eb:d})):new Te(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function df(){}t=df.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ys(){}ys.prototype.g=function(a,h){return new dt(a,h)};function dt(a,h){qe.call(this),this.g=new ef(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ar(this)}C(dt,qe),dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dt.prototype.close=function(){Ll(this.g)},dt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=Sl(a),a=d);h.i.push(new G_(h.Ya++,a)),h.G==3&&ms(h)},dt.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,dt.aa.N.call(this)};function ff(a){Cl.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}C(ff,Cl);function pf(){Rl.call(this),this.status=1}C(pf,Rl);function Ar(a){this.g=a}C(Ar,df),Ar.prototype.ua=function(){tt(this.g,"a")},Ar.prototype.ta=function(a){tt(this.g,new ff(a))},Ar.prototype.sa=function(a){tt(this.g,new pf)},Ar.prototype.ra=function(){tt(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,dt.prototype.send=dt.prototype.o,dt.prototype.open=dt.prototype.m,dt.prototype.close=dt.prototype.close,mv=function(){return new ys},pv=function(){return os()},fv=Kn,Sc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Js=ss,kd.COMPLETE="complete",dv=kd,Sd.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",qe.prototype.listen=qe.prototype.K,Yi=Sd,hv=Vi,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,cv=Te}).apply(typeof Ls<"u"?Ls:typeof self<"u"?self:typeof window<"u"?window:{});const zp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vi="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new rv("@firebase/firestore");function Wi(){return mr.logLevel}function W(t,...e){if(mr.logLevel<=ne.DEBUG){const n=e.map(bh);mr.debug(`Firestore (${vi}): ${t}`,...n)}}function hn(t,...e){if(mr.logLevel<=ne.ERROR){const n=e.map(bh);mr.error(`Firestore (${vi}): ${t}`,...n)}}function oi(t,...e){if(mr.logLevel<=ne.WARN){const n=e.map(bh);mr.warn(`Firestore (${vi}): ${t}`,...n)}}function bh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${vi}) INTERNAL ASSERTION FAILED: `+t;throw hn(e),new Error(e)}function he(t,e){t||K()}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class II{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class SI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AI{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new on;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new on,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new on)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string"),new gv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string"),new Ye(e)}}class CI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class RI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new CI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string"),this.R=n.token,new PI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=xI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function si(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new De(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new De(0,0))}static max(){return new G(new De(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends Mo{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const NI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ue extends Mo{construct(e,n,r){return new Ue(e,n,r)}static isValidIdentifier(e){return NI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ue.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ue(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new q(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new q(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ue(n)}static emptyPath(){return new Ue([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(pe.fromString(e))}static fromName(e){return new H(pe.fromString(e).popFirst(5))}static empty(){return new H(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new pe(e.slice()))}}function VI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=G.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new Un(i,H.empty(),e)}function DI(t){return new Un(t.readTime,t.key,-1)}class Un{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Un(G.min(),H.empty(),-1)}static max(){return new Un(G.max(),H.empty(),-1)}}function OI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==MI)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(f=>{s[c]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new b((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function bI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fh.oe=-1;function il(t){return t==null}function Va(t){return t===0&&1/t==-1/0}function FI(t){return typeof t=="number"&&Number.isInteger(t)&&!Va(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _i(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,n){this.comparator=e,this.root=n||je.EMPTY}insert(e,n){return new Ee(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new Ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bs(this.root,e,this.comparator,!0)}}class bs{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??je.RED,this.left=i??je.EMPTY,this.right=o??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new je(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return je.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,o){return this}insert(e,n,r){return new je(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new Ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qp(this.data.getIterator())}getIteratorFrom(e){return new qp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ze(this.comparator);return n.data=e,n}}class qp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.fields=e,e.sort(Ue.comparator)}static empty(){return new Ot([])}unionWith(e){let n=new ze(Ue.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ot(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return si(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _v("Invalid base64 string: "+o):o}}(e);return new et(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}et.EMPTY_BYTE_STRING=new et("");const jI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bn(t){if(he(!!t),typeof t=="string"){let e=0;const n=jI.exec(t);if(he(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gr(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uh(t){const e=t.mapValue.fields.__previous_value__;return jh(e)?Uh(e):e}function Lo(t){const e=Bn(t.mapValue.fields.__local_write_time__.timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,r,i,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class bo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jh(t)?4:BI(t)?9007199254740991:10:K()}function Ht(t,e){if(t===e)return!0;const n=yr(t);if(n!==yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lo(t).isEqual(Lo(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Bn(i.timestampValue),l=Bn(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return gr(i.bytesValue).isEqual(gr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Re(i.doubleValue),l=Re(o.doubleValue);return s===l?Va(s)===Va(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return si(t.arrayValue.values||[],e.arrayValue.values||[],Ht);case 10:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if($p(s)!==$p(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Ht(s[u],l[u])))return!1;return!0}(t,e);default:return K()}}function Fo(t,e){return(t.values||[]).find(n=>Ht(n,e))!==void 0}function ai(t,e){if(t===e)return 0;const n=yr(t),r=yr(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Re(o.integerValue||o.doubleValue),u=Re(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Wp(t.timestampValue,e.timestampValue);case 4:return Wp(Lo(t),Lo(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(o,s){const l=gr(o),u=gr(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=oe(l[c],u[c]);if(f!==0)return f}return oe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=oe(Re(o.latitude),Re(s.latitude));return l!==0?l:oe(Re(o.longitude),Re(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const l=o.values||[],u=s.values||[];for(let c=0;c<l.length&&c<u.length;++c){const f=ai(l[c],u[c]);if(f)return f}return oe(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Fs.mapValue&&s===Fs.mapValue)return 0;if(o===Fs.mapValue)return 1;if(s===Fs.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const v=oe(u[p],f[p]);if(v!==0)return v;const T=ai(l[u[p]],c[f[p]]);if(T!==0)return T}return oe(u.length,f.length)}(t.mapValue,e.mapValue);default:throw K()}}function Wp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Bn(t),r=Bn(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function li(t){return Ac(t)}function Ac(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Ac(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Ac(n.fields[s])}`;return i+"}"}(t.mapValue):K()}function Hp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cc(t){return!!t&&"integerValue"in t}function Bh(t){return!!t&&"arrayValue"in t}function Kp(t){return!!t&&"nullValue"in t}function Qp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zs(t){return!!t&&"mapValue"in t}function uo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _i(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.value=e}static empty(){return new Tt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zs(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uo(n)}setAll(e){let n=Ue.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=uo(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Zs(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ht(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zs(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_i(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Tt(uo(this.value))}}function wv(t){const e=[];return _i(t.fields,(n,r)=>{const i=new Ue([n]);if(Zs(r)){const o=wv(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ot(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Je(e,0,G.min(),G.min(),G.min(),Tt.empty(),0)}static newFoundDocument(e,n,r,i){return new Je(e,1,n,G.min(),r,i,0)}static newNoDocument(e,n){return new Je(e,2,n,G.min(),G.min(),Tt.empty(),0)}static newUnknownDocument(e,n){return new Je(e,3,n,G.min(),G.min(),Tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.position=e,this.inclusive=n}}function Gp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=ai(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ht(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n="asc"){this.field=e,this.dir=n}}function zI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{}class ke extends Ev{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qI(e,n,r):n==="array-contains"?new KI(e,r):n==="in"?new QI(e,r):n==="not-in"?new GI(e,r):n==="array-contains-any"?new YI(e,r):new ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WI(e,r):new HI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ai(n,this.value)):n!==null&&yr(this.value)===yr(n)&&this.matchesComparison(ai(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ft extends Ev{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ft(e,n)}matches(e){return Tv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Tv(t){return t.op==="and"}function Iv(t){return $I(t)&&Tv(t)}function $I(t){for(const e of t.filters)if(e instanceof Ft)return!1;return!0}function Rc(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+li(t.value);if(Iv(t))return t.filters.map(e=>Rc(e)).join(",");{const e=t.filters.map(n=>Rc(n)).join(",");return`${t.op}(${e})`}}function Sv(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&Ht(r.value,i.value)}(t,e):t instanceof Ft?function(r,i){return i instanceof Ft&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&Sv(s,i.filters[l]),!0):!1}(t,e):void K()}function Av(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${li(n.value)}`}(t):t instanceof Ft?function(n){return n.op.toString()+" {"+n.getFilters().map(Av).join(" ,")+"}"}(t):"Filter"}class qI extends ke{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class WI extends ke{constructor(e,n){super(e,"in",n),this.keys=Cv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HI extends ke{constructor(e,n){super(e,"not-in",n),this.keys=Cv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class KI extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bh(n)&&Fo(n.arrayValue,this.value)}}class QI extends ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fo(this.value.arrayValue,n)}}class GI extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fo(this.value.arrayValue,n)}}class YI extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function Xp(t,e=null,n=[],r=[],i=null,o=null,s=null){return new XI(t,e,n,r,i,o,s)}function zh(t){const e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),il(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>li(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>li(r)).join(",")),e.ue=n}return e.ue}function $h(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Sv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yp(t.startAt,e.startAt)&&Yp(t.endAt,e.endAt)}function Pc(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function JI(t,e,n,r,i,o,s,l){return new Xo(t,e,n,r,i,o,s,l)}function qh(t){return new Xo(t)}function Jp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Rv(t){return t.collectionGroup!==null}function co(t){const e=Y(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new ze(Ue.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Oa(o,r))}),n.has(Ue.keyField().canonicalString())||e.ce.push(new Oa(Ue.keyField(),r))}return e.ce}function qt(t){const e=Y(t);return e.le||(e.le=ZI(e,co(t))),e.le}function ZI(t,e){if(t.limitType==="F")return Xp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Oa(i.field,o)});const n=t.endAt?new Da(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Da(t.startAt.position,t.startAt.inclusive):null;return Xp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kc(t,e){const n=t.filters.concat([e]);return new Xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xc(t,e,n){return new Xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ol(t,e){return $h(qt(t),qt(e))&&t.limitType===e.limitType}function Pv(t){return`${zh(qt(t))}|lt:${t.limitType}`}function Pr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Av(i)).join(", ")}]`),il(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>li(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>li(i)).join(",")),`Target(${r})`}(qt(t))}; limitType=${t.limitType})`}function sl(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of co(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=Gp(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,co(r),i)||r.endAt&&!function(s,l,u){const c=Gp(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,co(r),i))}(t,e)}function eS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kv(t){return(e,n)=>{let r=!1;for(const i of co(t)){const o=tS(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function tS(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?ai(u,c):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return vv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Ee(H.comparator);function dn(){return nS}const xv=new Ee(H.comparator);function Xi(...t){let e=xv;for(const n of t)e=e.insert(n.key,n);return e}function Nv(t){let e=xv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function or(){return ho()}function Vv(){return ho()}function ho(){return new wi(t=>t.toString(),(t,e)=>t.isEqual(e))}const rS=new Ee(H.comparator),iS=new ze(H.comparator);function Z(...t){let e=iS;for(const n of t)e=e.add(n);return e}const oS=new ze(oe);function sS(){return oS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Va(e)?"-0":e}}function Ov(t){return{integerValue:""+t}}function aS(t,e){return FI(e)?Ov(e):Dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this._=void 0}}function lS(t,e,n){return t instanceof jo?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jh(o)&&(o=Uh(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Uo?Lv(t,e):t instanceof Bo?bv(t,e):function(i,o){const s=Mv(i,o),l=Zp(s)+Zp(i.Pe);return Cc(s)&&Cc(i.Pe)?Ov(l):Dv(i.serializer,l)}(t,e)}function uS(t,e,n){return t instanceof Uo?Lv(t,e):t instanceof Bo?bv(t,e):n}function Mv(t,e){return t instanceof Ma?function(r){return Cc(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class jo extends al{}class Uo extends al{constructor(e){super(),this.elements=e}}function Lv(t,e){const n=Fv(e);for(const r of t.elements)n.some(i=>Ht(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bo extends al{constructor(e){super(),this.elements=e}}function bv(t,e){let n=Fv(e);for(const r of t.elements)n=n.filter(i=>!Ht(i,r));return{arrayValue:{values:n}}}class Ma extends al{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Zp(t){return Re(t.integerValue||t.doubleValue)}function Fv(t){return Bh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.field=e,this.transform=n}}function hS(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Uo&&i instanceof Uo||r instanceof Bo&&i instanceof Bo?si(r.elements,i.elements,Ht):r instanceof Ma&&i instanceof Ma?Ht(r.Pe,i.Pe):r instanceof jo&&i instanceof jo}(t.transform,e.transform)}class dS{constructor(e,n){this.version=e,this.transformResults=n}}class sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ea(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ll{}function jv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bv(t.key,sn.none()):new Jo(t.key,t.data,sn.none());{const n=t.data,r=Tt.empty();let i=new ze(Ue.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Er(t.key,r,new Ot(i.toArray()),sn.none())}}function fS(t,e,n){t instanceof Jo?function(i,o,s){const l=i.value.clone(),u=tm(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Er?function(i,o,s){if(!ea(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=tm(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Uv(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function fo(t,e,n,r){return t instanceof Jo?function(o,s,l,u){if(!ea(o.precondition,s))return l;const c=o.value.clone(),f=nm(o.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Er?function(o,s,l,u){if(!ea(o.precondition,s))return l;const c=nm(o.fieldTransforms,u,s),f=s.data;return f.setAll(Uv(o)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return ea(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function pS(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Mv(r.transform,i||null);o!=null&&(n===null&&(n=Tt.empty()),n.set(r.field,o))}return n||null}function em(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&si(r,i,(o,s)=>hS(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jo extends ll{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Er extends ll{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Uv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tm(t,e,n){const r=new Map;he(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,uS(s,l,n[i]))}return r}function nm(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,lS(o,s,e))}return r}class Bv extends ll{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mS extends ll{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&fS(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Vv();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=jv(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&si(this.mutations,e.mutations,(n,r)=>em(n,r))&&si(this.baseMutations,e.baseMutations,(n,r)=>em(n,r))}}class Wh{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){he(e.mutations.length===r.length);let i=function(){return rS}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Wh(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,te;function _S(t){switch(t){default:return K();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function zv(t){if(t===void 0)return hn("GRPC error has no .code"),L.UNKNOWN;switch(t){case Ce.OK:return L.OK;case Ce.CANCELLED:return L.CANCELLED;case Ce.UNKNOWN:return L.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return L.INTERNAL;case Ce.UNAVAILABLE:return L.UNAVAILABLE;case Ce.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ce.NOT_FOUND:return L.NOT_FOUND;case Ce.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ce.ABORTED:return L.ABORTED;case Ce.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ce.DATA_LOSS:return L.DATA_LOSS;default:return K()}}(te=Ce||(Ce={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new lr([4294967295,4294967295],0);function rm(t){const e=wS().encode(t),n=new uv;return n.update(e),new Uint8Array(n.digest())}function im(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new lr([n,r],0),new lr([i,o],0)]}class Hh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ji(`Invalid padding: ${n}`);if(r<0)throw new Ji(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ji(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ji(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=lr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(lr.fromNumber(r)));return i.compare(ES)===1&&(i=new lr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=rm(e),[r,i]=im(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Hh(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=rm(e),[r,i]=im(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ji extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ul(G.min(),i,new Ee(oe),dn(),Z())}}class Zo{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zo(r,n,Z(),Z(),Z())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class $v{constructor(e,n){this.targetId=e,this.me=n}}class qv{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class om{constructor(){this.fe=0,this.ge=am(),this.pe=et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Z(),n=Z(),r=Z();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new Zo(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=am()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,he(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class TS{constructor(e){this.Le=e,this.Be=new Map,this.ke=dn(),this.qe=sm(),this.Qe=new Ee(oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Pc(o))if(r===0){const s=new H(o.path);this.Ue(n,s,Je.newNoDocument(s,G.min()))}else he(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=gr(r).toUint8Array()}catch(u){if(u instanceof _v)return oi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Hh(s,i,o)}catch(u){return oi(u instanceof Ji?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&Pc(l.target)){const u=new H(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Je.newNoDocument(u,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=Z();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new ul(e,n,this.Qe,this.ke,r);return this.ke=dn(),this.qe=sm(),this.Qe=new Ee(oe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new om,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ze(oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new om),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function sm(){return new Ee(H.comparator)}function am(){return new Ee(H.comparator)}const IS={asc:"ASCENDING",desc:"DESCENDING"},SS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AS={and:"AND",or:"OR"};class CS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nc(t,e){return t.useProto3Json||il(e)?e:{value:e}}function La(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RS(t,e){return La(t,e.toTimestamp())}function Wt(t){return he(!!t),G.fromTimestamp(function(n){const r=Bn(n);return new De(r.seconds,r.nanos)}(t))}function Kh(t,e){return Vc(t,e).canonicalString()}function Vc(t,e){const n=function(i){return new pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Hv(t){const e=pe.fromString(t);return he(Xv(e)),e}function Dc(t,e){return Kh(t.databaseId,e.path)}function yu(t,e){const n=Hv(e);if(n.get(1)!==t.databaseId.projectId)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(Qv(n))}function Kv(t,e){return Kh(t.databaseId,e)}function PS(t){const e=Hv(t);return e.length===4?pe.emptyPath():Qv(e)}function Oc(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qv(t){return he(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lm(t,e,n){return{name:Dc(t,e),fields:n.value.mapValue.fields}}function kS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,f){return c.useProto3Json?(he(f===void 0||typeof f=="string"),et.fromBase64String(f||"")):(he(f===void 0||f instanceof Buffer||f instanceof Uint8Array),et.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const f=c.code===void 0?L.UNKNOWN:zv(c.code);return new q(f,c.message||"")}(s);n=new qv(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yu(t,r.document.name),o=Wt(r.document.updateTime),s=r.document.createTime?Wt(r.document.createTime):G.min(),l=new Tt({mapValue:{fields:r.document.fields}}),u=Je.newFoundDocument(i,o,s,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new ta(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yu(t,r.document),o=r.readTime?Wt(r.readTime):G.min(),s=Je.newNoDocument(i,o),l=r.removedTargetIds||[];n=new ta([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yu(t,r.document),o=r.removedTargetIds||[];n=new ta([],o,i,null)}else{if(!("filter"in e))return K();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new vS(i,o),l=r.targetId;n=new $v(l,s)}}return n}function xS(t,e){let n;if(e instanceof Jo)n={update:lm(t,e.key,e.value)};else if(e instanceof Bv)n={delete:Dc(t,e.key)};else if(e instanceof Er)n={update:lm(t,e.key,e.data),updateMask:jS(e.fieldMask)};else{if(!(e instanceof mS))return K();n={verify:Dc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof jo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Uo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ma)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:RS(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K()}(t,e.precondition)),n}function NS(t,e){return t&&t.length>0?(he(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Wt(i.updateTime):Wt(o);return s.isEqual(G.min())&&(s=Wt(o)),new dS(s,i.transformResults||[])}(n,e))):[]}function VS(t,e){return{documents:[Kv(t,e.path)]}}function DS(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Kv(t,i);const o=function(c){if(c.length!==0)return Yv(Ft.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(f=>function(v){return{field:kr(v.field),direction:LS(v.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Nc(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function OS(t){let e=PS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){he(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){const v=Gv(p);return v instanceof Ft&&Iv(v)?v.getFilters():[v]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(v=>function(C){return new Oa(xr(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(n.orderBy));let l=null;n.limit&&(l=function(p){let v;return v=typeof p=="object"?p.value:p,il(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(p){const v=!!p.before,T=p.values||[];return new Da(T,v)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const v=!p.before,T=p.values||[];return new Da(T,v)}(n.endAt)),JI(e,i,s,o,l,"F",u,c)}function MS(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Gv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xr(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xr(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xr(n.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xr(n.unaryFilter.field);return ke.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(xr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ft.create(n.compositeFilter.filters.map(r=>Gv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function LS(t){return IS[t]}function bS(t){return SS[t]}function FS(t){return AS[t]}function kr(t){return{fieldPath:t.canonicalString()}}function xr(t){return Ue.fromServerFormat(t.fieldPath)}function Yv(t){return t instanceof ke?function(n){if(n.op==="=="){if(Qp(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NAN"}};if(Kp(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qp(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NOT_NAN"}};if(Kp(n.value))return{unaryFilter:{field:kr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kr(n.field),op:bS(n.op),value:n.value}}}(t):t instanceof Ft?function(n){const r=n.getFilters().map(i=>Yv(i));return r.length===1?r[0]:{compositeFilter:{op:FS(n.op),filters:r}}}(t):K()}function jS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Xv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,i,o=G.min(),s=G.min(),l=et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new An(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new An(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new An(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new An(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.ct=e}}function BS(t){const e=OS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this._n=new $S}addToCollectionParentIndex(e,n){return this._n.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Un.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class $S{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(pe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ui(0)}static Ln(){return new ui(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.changes=new wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fo(r.mutation,i,Ot.empty(),De.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){const i=or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Xi();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=dn();const s=ho(),l=function(){return ho()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Er)?o=o.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),fo(f.mutation,c,f.mutation.getFieldMask(),De.now())):s.set(c.key,Ot.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>{var p;return l.set(c,new WS(f,(p=s.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ho();let i=new Ee((s,l)=>s-l),o=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||Ot.empty();f=l.applyToLocalView(c,f),r.set(u,f);const p=(i.get(l.batchId)||Z()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=Vv();f.forEach(v=>{if(!o.has(v)){const T=jv(n.get(v),r.get(v));T!==null&&p.set(v,T),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return b.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Rv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):b.resolve(or());let l=-1,u=o;return s.next(c=>b.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(f)?b.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{u=u.insert(f,v)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,Z())).next(f=>({batchId:l,changes:Nv(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Xi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Xi();return this.indexManager.getCollectionParents(e,o).next(l=>b.forEach(l,u=>{const c=function(p,v){return new Xo(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,Je.newInvalidDocument(f)))});let l=Xi();return s.forEach((u,c)=>{const f=o.get(u);f!==void 0&&fo(f.mutation,c,Ot.empty(),De.now()),sl(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return b.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wt(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:BS(i.bundledQuery),readTime:Wt(i.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.overlays=new Ee(H.comparator),this.hr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=or();return b.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=or(),o=n.length+1,s=new H(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ee((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=o.get(c.largestBatchId);f===null&&(f=or(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=or(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return b.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yS(n,r));let o=this.hr.get(n);o===void 0&&(o=Z(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this.Pr=new ze(Oe.Ir),this.Tr=new ze(Oe.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Oe(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Oe(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new H(new pe([])),r=new Oe(n,e),i=new Oe(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new H(new pe([])),r=new Oe(n,e),i=new Oe(n,e+1);let o=Z();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Oe(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Oe{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return H.comparator(e.key,n.key)||oe(e.pr,n.pr)}static Er(e,n){return oe(e.pr,n.pr)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ze(Oe.Ir)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new gS(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.wr=this.wr.add(new Oe(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return b.resolve(s)}lookupMutationBatch(e,n){return b.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const l=this.Sr(s.pr);o.push(l)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(oe);return n.forEach(i=>{const o=new Oe(i,0),s=new Oe(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],l=>{r=r.add(l.pr)})}),b.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;H.isDocumentKey(o)||(o=o.child(""));const s=new Oe(new H(o),0);let l=new ze(oe);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.pr)),!0)},s),b.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){he(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return b.forEach(n.mutations,i=>{const o=new Oe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Oe(n,0),i=this.wr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.vr=e,this.docs=function(){return new Ee(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(e,n){let r=dn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Je.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=dn();const s=n.path,l=new H(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||OI(DI(f),r)<=0||(i.has(f.key)||sl(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return b.resolve(o)}getAllFromCollectionGroup(e,n,r,i){K()}Fr(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XS(this)}getSize(e){return b.resolve(this.size)}}class XS extends qS{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.persistence=e,this.Mr=new wi(n=>zh(n),$h),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Qh,this.targetCount=0,this.Lr=ui.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),b.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ui(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.qn(n),b.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),b.waitFor(o).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),b.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.Br={},this.overlays={},this.kr=new Fh(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new JS(this),this.indexManager=new zS,this.remoteDocumentCache=function(i){return new YS(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new US(n),this.$r=new KS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new GS(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new eA(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return b.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class eA extends LI{constructor(e){super(),this.currentSequenceNumber=e}}class Gh{constructor(e){this.persistence=e,this.zr=new Qh,this.jr=null}static Hr(e){return new Gh(e)}get Jr(){if(this.jr)return this.jr;throw K()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),b.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Jr,r=>{const i=H.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,G.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return b.or([()=>b.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Z(),i=Z();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Yh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return lT()?8:bI(sT())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new tA;return this.Ji(e,n,s).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,s,l.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Wi()<=ne.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Pr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),b.resolve()):(Wi()<=ne.DEBUG&&W("QueryEngine","Query:",Pr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Wi()<=ne.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Pr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qt(n))):b.resolve())}ji(e,n){if(Jp(n))return b.resolve(null);let r=qt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xc(n,null,"F"),r=qt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Z(...o);return this.zi.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,l);return this.Xi(n,c,s,u.readTime)?this.ji(e,xc(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return Jp(n)||i.isEqual(G.min())?b.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?b.resolve(null):(Wi()<=ne.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pr(n)),this.es(e,s,n,VI(i,-1)).next(l=>l))})}Zi(e,n){let r=new ze(kv(e));return n.forEach((i,o)=>{sl(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Wi()<=ne.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Pr(n)),this.zi.getDocumentsMatchingQuery(e,n,Un.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ee(oe),this.rs=new wi(o=>zh(o),$h),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HS(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function iA(t,e,n,r){return new rA(t,e,n,r)}async function Jv(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=Z();for(const c of i){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of o){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:l}))})})}function oA(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,v=p.keys();let T=b.resolve();return v.forEach(C=>{T=T.next(()=>f.getEntry(u,C)).next(P=>{const k=c.docVersions.get(C);he(k!==null),P.version.compareTo(k)<0&&(p.applyToRemoteDocument(P,c),P.isValidDocument()&&(P.setReadTime(c.commitVersion),f.addEntry(P)))})}),T.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Z();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Zv(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function sA(t,e){const n=Y(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((f,p)=>{const v=i.get(p);if(!v)return;l.push(n.Qr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,f.addedDocuments,p)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(et.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,r)),i=i.insert(p,T),function(P,k,m){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(v,T,f)&&l.push(n.Qr.updateTargetData(o,T))});let u=dn(),c=Z();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(aA(o,s,e.documentUpdates).next(f=>{u=f.cs,c=f.ls})),!r.isEqual(G.min())){const f=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return b.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ns=i,o))}function aA(t,e,n){let r=Z(),i=Z();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=dn();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(G.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):W("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}function lA(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uA(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,b.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new An(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Mc(t,e,n){const r=Y(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Yo(s))throw s;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function um(t,e,n){const r=Y(t);let i=G.min(),o=Z();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const p=Y(u),v=p.rs.get(f);return v!==void 0?b.resolve(p.ns.get(v)):p.Qr.getTargetData(c,f)}(r,s,qt(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:G.min(),n?o:Z())).next(l=>(cA(r,eS(e),l),{documents:l,hs:o})))}function cA(t,e,n){let r=t.ss.get(e)||G.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class cm{constructor(){this.activeTargetIds=sS()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hA{constructor(){this.no=new cm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new cm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js=null;function vu(){return js===null?js=function(){return 268435456+Math.round(2147483648*Math.random())}():js++,"0x"+js.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class mA extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const l=vu(),u=this.vo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,o,s),this.Mo(n,u,c,i).then(f=>(W("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw oi("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}xo(n,r,i,o,s,l){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){const i=fA[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=vu();return new Promise((s,l)=>{const u=new cv;u.setWithCredentials(!0),u.listenOnce(dv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Js.NO_ERROR:const f=u.getResponseJson();W(Ge,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Js.TIMEOUT:W(Ge,`RPC '${e}' ${o} timed out`),l(new q(L.DEADLINE_EXCEEDED,"Request time out"));break;case Js.HTTP_ERROR:const p=u.getStatus();if(W(Ge,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const C=function(k){const m=k.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(m)>=0?m:L.UNKNOWN}(T.status);l(new q(C,T.message))}else l(new q(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new q(L.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{W(Ge,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);W(Ge,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=vu(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mv(),l=pv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new hv({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");W(Ge,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=s.createWebChannel(f,u);let v=!1,T=!1;const C=new pA({lo:k=>{T?W(Ge,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(v||(W(Ge,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),W(Ge,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},ho:()=>p.close()}),P=(k,m,y)=>{k.listen(m,_=>{try{y(_)}catch(x){setTimeout(()=>{throw x},0)}})};return P(p,Yi.EventType.OPEN,()=>{T||(W(Ge,`RPC '${e}' stream ${i} transport opened.`),C.mo())}),P(p,Yi.EventType.CLOSE,()=>{T||(T=!0,W(Ge,`RPC '${e}' stream ${i} transport closed`),C.po())}),P(p,Yi.EventType.ERROR,k=>{T||(T=!0,oi(Ge,`RPC '${e}' stream ${i} transport errored:`,k),C.po(new q(L.UNAVAILABLE,"The operation could not be completed")))}),P(p,Yi.EventType.MESSAGE,k=>{var m;if(!T){const y=k.data[0];he(!!y);const _=y,x=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(x){W(Ge,`RPC '${e}' stream ${i} received error:`,x);const D=x.status;let j=function(E){const I=Ce[E];if(I!==void 0)return zv(I)}(D),R=x.message;j===void 0&&(j=L.INTERNAL,R="Unknown error status: "+D+" with message "+x.message),T=!0,C.po(new q(j,R)),p.close()}else W(Ge,`RPC '${e}' stream ${i} received:`,y),C.yo(y)}}),P(l,fv.STAT_EVENT,k=>{k.stat===Sc.PROXY?W(Ge,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Sc.NOPROXY&&W(Ge,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}}function _u(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){return new CS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n,r,i,o,s,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new e_(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(hn(n.toString()),hn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new q(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gA extends t_{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=kS(this.serializer,e),r=function(o){if(!("targetChange"in o))return G.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?Wt(s.readTime):G.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Oc(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=Pc(u)?{documents:VS(o,u)}:{query:DS(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=Wv(o,s.resumeToken);const c=Nc(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(G.min())>0){l.readTime=La(o,s.snapshotVersion.toTimestamp());const c=Nc(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=MS(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Oc(this.serializer),n.removeTarget=e,this.i_(n)}}class yA extends t_{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(he(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=NS(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.A_(r,n)}return he(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Oc(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xS(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,Vc(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(L.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.xo(e,Vc(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(L.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class _A{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(hn(n),this.y_=!1):W("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{Tr(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Y(u);c.M_.add(4),await es(c),c.N_.set("Unknown"),c.M_.delete(4),await hl(c)}(this))})}),this.N_=new _A(r,i)}}async function hl(t){if(Tr(t))for(const e of t.x_)await e(!0)}async function es(t){for(const e of t.x_)await e(!1)}function n_(t,e){const n=Y(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),ed(n)?Zh(n):Ei(n).Xo()&&Jh(n,e))}function Xh(t,e){const n=Y(t),r=Ei(n);n.F_.delete(e),r.Xo()&&r_(n,e),n.F_.size===0&&(r.Xo()?r.n_():Tr(n)&&n.N_.set("Unknown"))}function Jh(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ei(t).P_(e)}function r_(t,e){t.L_.xe(e),Ei(t).I_(e)}function Zh(t){t.L_=new TS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ei(t).start(),t.N_.w_()}function ed(t){return Tr(t)&&!Ei(t).Zo()&&t.F_.size>0}function Tr(t){return Y(t).M_.size===0}function i_(t){t.L_=void 0}async function EA(t){t.N_.set("Online")}async function TA(t){t.F_.forEach((e,n)=>{Jh(t,e)})}async function IA(t,e){i_(t),ed(t)?(t.N_.D_(e),Zh(t)):t.N_.set("Unknown")}async function SA(t,e,n){if(t.N_.set("Online"),e instanceof qv&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ba(t,r)}else if(e instanceof ta?t.L_.Ke(e):e instanceof $v?t.L_.He(e):t.L_.We(e),!n.isEqual(G.min()))try{const r=await Zv(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.L_.rt(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.F_.get(c);f&&o.F_.set(c,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const f=o.F_.get(u);if(!f)return;o.F_.set(u,f.withResumeToken(et.EMPTY_BYTE_STRING,f.snapshotVersion)),r_(o,u);const p=new An(f.target,u,c,f.sequenceNumber);Jh(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await ba(t,r)}}async function ba(t,e,n){if(!Yo(e))throw e;t.M_.add(1),await es(t),t.N_.set("Offline"),n||(n=()=>Zv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await hl(t)})}function o_(t,e){return e().catch(n=>ba(t,n,e))}async function dl(t){const e=Y(t),n=zn(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;AA(e);)try{const i=await lA(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,CA(e,i)}catch(i){await ba(e,i)}s_(e)&&a_(e)}function AA(t){return Tr(t)&&t.v_.length<10}function CA(t,e){t.v_.push(e);const n=zn(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function s_(t){return Tr(t)&&!zn(t).Zo()&&t.v_.length>0}function a_(t){zn(t).start()}async function RA(t){zn(t).V_()}async function PA(t){const e=zn(t);for(const n of t.v_)e.d_(n.mutations)}async function kA(t,e,n){const r=t.v_.shift(),i=Wh.from(r,e,n);await o_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dl(t)}async function xA(t,e){e&&zn(t).E_&&await async function(r,i){if(function(s){return _S(s)&&s!==L.ABORTED}(i.code)){const o=r.v_.shift();zn(r).t_(),await o_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await dl(r)}}(t,e),s_(t)&&a_(t)}async function dm(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Tr(n);n.M_.add(3),await es(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await hl(n)}async function NA(t,e){const n=Y(t);e?(n.M_.delete(2),await hl(n)):e||(n.M_.add(2),await es(n),n.N_.set("Unknown"))}function Ei(t){return t.B_||(t.B_=function(n,r,i){const o=Y(n);return o.f_(),new gA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:EA.bind(null,t),To:TA.bind(null,t),Ao:IA.bind(null,t),h_:SA.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),ed(t)?Zh(t):t.N_.set("Unknown")):(await t.B_.stop(),i_(t))})),t.B_}function zn(t){return t.k_||(t.k_=function(n,r,i){const o=Y(n);return o.f_(),new yA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:RA.bind(null,t),Ao:xA.bind(null,t),R_:PA.bind(null,t),A_:kA.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await dl(t)):(await t.k_.stop(),t.v_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new td(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nd(t,e){if(hn("AsyncQueue",`${e}: ${t}`),Yo(t))return new q(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Xi(),this.sortedSet=new Ee(this.comparator)}static emptySet(e){return new Yr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.q_=new Ee(H.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):K():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ci{constructor(e,n,r,i,o,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new ci(e,n,Yr.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ol(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class DA{constructor(){this.queries=new wi(e=>Pv(e),ol),this.onlineState="Unknown",this.z_=new Set}}async function l_(t,e){const n=Y(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new VA,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=nd(s,`Initialization of query '${Pr(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&rd(n)}async function u_(t,e){const n=Y(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OA(t,e){const n=Y(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.U_)l.H_(i)&&(r=!0);s.K_=i}}r&&rd(n)}function MA(t,e,n){const r=Y(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function rd(t){t.z_.forEach(e=>{e.next()})}var Lc,pm;(pm=Lc||(Lc={})).J_="default",pm.Cache="cache";class c_{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ci(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ci.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Lc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this.key=e}}class d_{constructor(e){this.key=e}}class LA{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Z(),this.mutatedKeys=Z(),this.Ia=kv(e),this.Ta=new Yr(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new fm,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const v=i.get(f),T=sl(this.query,p)?p:null,C=!!v&&this.mutatedKeys.has(v.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let k=!1;v&&T?v.data.isEqual(T.data)?C!==P&&(r.track({type:3,doc:T}),k=!0):this.Ra(v,T)||(r.track({type:2,doc:T}),k=!0,(u&&this.Ia(T,u)>0||c&&this.Ia(T,c)<0)&&(l=!0)):!v&&T?(r.track({type:0,doc:T}),k=!0):v&&!T&&(r.track({type:1,doc:v}),k=!0,(u||c)&&(l=!0)),k&&(T?(s=s.add(T),o=P?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ta:s,Aa:r,Xi:l,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((f,p)=>function(T,C){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return P(T)-P(C)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,s.length!==0||c?{snapshot:new ci(this.query,e.Ta,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new fm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Z(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new d_(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new h_(r))}),n}pa(e){this.la=e.hs,this.Pa=Z();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ci.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class bA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FA{constructor(e){this.key=e,this.wa=!1}}class jA{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new wi(l=>Pv(l),ol),this.Da=new Map,this.Ca=new Set,this.va=new Ee(H.comparator),this.Fa=new Map,this.Ma=new Qh,this.xa={},this.Oa=new Map,this.Na=ui.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function UA(t,e,n=!0){const r=v_(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await f_(r,e,n,!0),i}async function BA(t,e){const n=v_(t);await f_(n,e,!0,!1)}async function f_(t,e,n,r){const i=await uA(t.localStore,qt(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let l;return r&&(l=await zA(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&n_(t.remoteStore,i),l}async function zA(t,e,n,r,i){t.Ba=(p,v,T)=>async function(P,k,m,y){let _=k.view.da(m);_.Xi&&(_=await um(P.localStore,k.query,!1).then(({documents:R})=>k.view.da(R,_)));const x=y&&y.targetChanges.get(k.targetId),D=y&&y.targetMismatches.get(k.targetId)!=null,j=k.view.applyChanges(_,P.isPrimaryClient,x,D);return gm(P,k.targetId,j.fa),j.snapshot}(t,p,v,T);const o=await um(t.localStore,e,!0),s=new LA(e,o.hs),l=s.da(o.documents),u=Zo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);gm(t,n,c.fa);const f=new bA(e,n,s);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function $A(t,e,n){const r=Y(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!ol(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Mc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xh(r.remoteStore,i.targetId),bc(r,i.targetId)}).catch(Go)):(bc(r,i.targetId),await Mc(r.localStore,i.targetId,!0))}async function qA(t,e){const n=Y(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xh(n.remoteStore,r.targetId))}async function WA(t,e,n){const r=JA(t);try{const i=await function(s,l){const u=Y(s),c=De.now(),f=l.reduce((T,C)=>T.add(C.key),Z());let p,v;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=dn(),P=Z();return u.os.getEntries(T,f).next(k=>{C=k,C.forEach((m,y)=>{y.isValidDocument()||(P=P.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,C)).next(k=>{p=k;const m=[];for(const y of l){const _=pS(y,p.get(y.key).overlayedDocument);_!=null&&m.push(new Er(y.key,_,wv(_.value.mapValue),sn.exists(!0)))}return u.mutationQueue.addMutationBatch(T,c,m,l)}).next(k=>{v=k;const m=k.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(T,k.batchId,m)})}).then(()=>({batchId:v.batchId,changes:Nv(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.xa[s.currentUser.toKey()];c||(c=new Ee(oe)),c=c.insert(l,u),s.xa[s.currentUser.toKey()]=c}(r,i.batchId,n),await ts(r,i.changes),await dl(r.remoteStore)}catch(i){const o=nd(i,"Failed to persist write");n.reject(o)}}async function p_(t,e){const n=Y(t);try{const r=await sA(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(he(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?he(s.wa):i.removedDocuments.size>0&&(he(s.wa),s.wa=!1))}),await ts(n,r,e)}catch(r){await Go(r)}}function mm(t,e,n){const r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const l=s.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=Y(s);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const v of p.U_)v.j_(l)&&(c=!0)}),c&&rd(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HA(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Ee(H.comparator);s=s.insert(o,Je.newNoDocument(o,G.min()));const l=Z().add(o),u=new ul(G.min(),new Map,new Ee(oe),s,l);await p_(r,u),r.va=r.va.remove(o),r.Fa.delete(e),id(r)}else await Mc(r.localStore,e,!1).then(()=>bc(r,e,n)).catch(Go)}async function KA(t,e){const n=Y(t),r=e.batch.batchId;try{const i=await oA(n.localStore,e);g_(n,r,null),m_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ts(n,i)}catch(i){await Go(i)}}async function QA(t,e,n){const r=Y(t);try{const i=await function(s,l){const u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(he(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);g_(r,e,n),m_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ts(r,i)}catch(i){await Go(i)}}function m_(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function g_(t,e,n){const r=Y(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function bc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||y_(t,r)})}function y_(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Xh(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),id(t))}function gm(t,e,n){for(const r of n)r instanceof h_?(t.Ma.addReference(r.key,e),GA(t,r)):r instanceof d_?(W("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||y_(t,r.key)):K()}function GA(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(W("SyncEngine","New document in limbo: "+n),t.Ca.add(r),id(t))}function id(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new H(pe.fromString(e)),r=t.Na.next();t.Fa.set(r,new FA(n)),t.va=t.va.insert(n,r),n_(t.remoteStore,new An(qt(qh(n.path)),r,"TargetPurposeLimboResolution",Fh.oe))}}async function ts(t,e,n){const r=Y(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{s.push(r.Ba(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const f=c&&!c.fromCache;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Yh.Ki(u.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(u,c){const f=Y(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>b.forEach(c,v=>b.forEach(v.qi,T=>f.persistence.referenceDelegate.addReference(p,v.targetId,T)).next(()=>b.forEach(v.Qi,T=>f.persistence.referenceDelegate.removeReference(p,v.targetId,T)))))}catch(p){if(!Yo(p))throw p;W("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const v=p.targetId;if(!p.fromCache){const T=f.ns.get(v),C=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(C);f.ns=f.ns.insert(v,P)}}}(r.localStore,o))}async function YA(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await Jv(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(l=>{l.forEach(u=>{u.reject(new q(L.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ts(n,r.us)}}function XA(t,e){const n=Y(t),r=n.Fa.get(e);if(r&&r.wa)return Z().add(r.key);{let i=Z();const o=n.Da.get(e);if(!o)return i;for(const s of o){const l=n.ba.get(s);i=i.unionWith(l.view.Ea)}return i}}function v_(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=p_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HA.bind(null,e),e.Sa.h_=OA.bind(null,e.eventManager),e.Sa.ka=MA.bind(null,e.eventManager),e}function JA(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QA.bind(null,e),e}class ym{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return iA(this.persistence,new nA,e.initialUser,this.serializer)}createPersistence(e){return new ZS(Gh.Hr,this.serializer)}createSharedClientState(e){return new hA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ZA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YA.bind(null,this.syncEngine),await NA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DA}()}createDatastore(e){const n=cl(e.databaseInfo.databaseId),r=function(o){return new mA(o)}(e.databaseInfo);return function(o,s,l,u){return new vA(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new wA(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>mm(this.syncEngine,n,0),function(){return hm.D()?new hm:new dA}())}createSyncEngine(e,n){return function(i,o,s,l,u,c,f){const p=new jA(i,o,s,l,u,c);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Y(r);W("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await es(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):hn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=yv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{W("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wu(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Jv(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function vm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nC(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>dm(e.remoteStore,i)),t._onlineComponents=e}function tC(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function nC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await wu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!tC(n))throw n;oi("Error using user provided cache. Falling back to memory cache: "+n),await wu(t,new ym)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await wu(t,new ym);return t._offlineComponents}async function w_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await vm(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await vm(t,new ZA))),t._onlineComponents}function rC(t){return w_(t).then(e=>e.syncEngine)}async function E_(t){const e=await w_(t),n=e.eventManager;return n.onListen=UA.bind(null,e.syncEngine),n.onUnlisten=$A.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qA.bind(null,e.syncEngine),n}function iC(t,e,n={}){const r=new on;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new __({next:v=>{s.enqueueAndForget(()=>u_(o,p));const T=v.docs.has(l);!T&&v.fromCache?c.reject(new q(L.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&u&&u.source==="server"?c.reject(new q(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(v)},error:v=>c.reject(v)}),p=new c_(qh(l.path),f,{includeMetadataChanges:!0,ra:!0});return l_(o,p)}(await E_(t),t.asyncQueue,e,n,r)),r.promise}function oC(t,e,n={}){const r=new on;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new __({next:v=>{s.enqueueAndForget(()=>u_(o,p)),v.fromCache&&u.source==="server"?c.reject(new q(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(v)},error:v=>c.reject(v)}),p=new c_(l,f,{includeMetadataChanges:!0,ra:!0});return l_(o,p)}(await E_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e,n){if(!n)throw new q(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sC(t,e,n,r){if(e===!0&&r===!0)throw new q(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wm(t){if(!H.isDocumentKey(t))throw new q(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Em(t){if(H.isDocumentKey(t))throw new q(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fl(t);throw new q(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new II;switch(r.type){case"firstParty":return new RI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_m.get(n);r&&(W("ComponentProvider","Removing Datastore"),_m.delete(n),r.terminate())}(this),Promise.resolve()}}function aC(t,e,n,r={}){var i;const o=(t=hi(t,pl))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Ye.MOCK_USER;else{l=oT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ye(c)}t._authCredentials=new SI(new gv(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ti(this.firestore,e,this._query)}}class gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}}class bn extends Ti{constructor(e,n,r){super(e,n,qh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new H(e))}withConverter(e){return new bn(this.firestore,e,this._path)}}function Fc(t,e,...n){if(t=ii(t),I_("collection","path",e),t instanceof pl){const r=pe.fromString(e,...n);return Em(r),new bn(t,null,r)}{if(!(t instanceof gt||t instanceof bn))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Em(r),new bn(t.firestore,null,r)}}function S_(t,e,...n){if(t=ii(t),arguments.length===1&&(e=yv.newId()),I_("doc","path",e),t instanceof pl){const r=pe.fromString(e,...n);return wm(r),new gt(t,null,new H(r))}{if(!(t instanceof gt||t instanceof bn))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return wm(r),new gt(t.firestore,t instanceof bn?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new e_(this,"async_queue_retry"),this.hu=()=>{const n=_u();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=_u();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=_u();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new on;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Yo(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw hn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=td.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&K()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class ml extends pl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new lC}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||A_(this),this._firestoreClient.terminate()}}function uC(t,e){const n=typeof t=="object"?t:fI(),r=typeof t=="string"?t:"(default)",i=uI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=rT("firestore");o&&aC(i,...o)}return i}function od(t){return t._firestoreClient||A_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function A_(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,c,f){return new UI(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,T_(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new eC(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(et.fromBase64String(e))}catch(n){throw new q(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new di(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ue(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=/^__.*__$/;class hC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jo(e,this.data,n,this.fieldTransforms)}}function C_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class ud{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new ud(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Fa(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(C_(this.fu)&&cC.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class dC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cl(e)}Fu(e,n,r,i=!1){return new ud({fu:e,methodName:n,vu:r,path:Ue.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R_(t){const e=t._freezeSettings(),n=cl(t._databaseId);return new dC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fC(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);x_("Data must be an object, but it was:",s,r);const l=P_(r,s);let u,c;if(o.merge)u=new Ot(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const p of o.mergeFields){const v=mC(e,p,n);if(!s.contains(v))throw new q(L.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);yC(f,v)||f.push(v)}u=new Ot(f),c=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=s.fieldTransforms;return new hC(new Tt(l),u,c)}class cd extends ad{_toFieldTransform(e){return new cS(e.path,new jo)}isEqual(e){return e instanceof cd}}function pC(t,e,n,r=!1){return hd(n,t.Fu(r?4:3,e))}function hd(t,e){if(k_(t=ii(t)))return x_("Unsupported field value:",e,t),P_(t,e);if(t instanceof ad)return function(r,i){if(!C_(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=hd(l,i.bu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aS(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=De.fromDate(r);return{timestampValue:La(i.serializer,o)}}if(r instanceof De){const o=new De(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:La(i.serializer,o)}}if(r instanceof ld)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof di)return{bytesValue:Wv(i.serializer,r._byteString)};if(r instanceof gt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Kh(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${fl(r)}`)}(t,e)}function P_(t,e){const n={};return vv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(t,(r,i)=>{const o=hd(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function k_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof ld||t instanceof di||t instanceof gt||t instanceof ad)}function x_(t,e,n){if(!k_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=fl(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function mC(t,e,n){if((e=ii(e))instanceof sd)return e._internalPath;if(typeof e=="string")return N_(t,e);throw Fa("Field path arguments must be of type string or ",t,!1,void 0,n)}const gC=new RegExp("[~\\*/\\[\\]]");function N_(t,e,n){if(e.search(gC)>=0)throw Fa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sd(...e.split("."))._internalPath}catch{throw Fa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fa(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new q(L.INVALID_ARGUMENT,l+t+u)}function yC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vC extends V_{data(){return super.data()}}function dd(t,e){return typeof e=="string"?N_(t,e):e instanceof sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fd{}class wC extends fd{}function EC(t,e,...n){let r=[];e instanceof fd&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof pd).length,l=o.filter(u=>u instanceof gl).length;if(s>1||s>0&&l>0)throw new q(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class gl extends wC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gl(e,n,r)}_apply(e){const n=this._parse(e);return D_(e._query,n),new Ti(e.firestore,e.converter,kc(e._query,n))}_parse(e){const n=R_(e.firestore);return function(o,s,l,u,c,f,p){let v;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Sm(p,f);const T=[];for(const C of p)T.push(Im(u,o,C));v={arrayValue:{values:T}}}else v=Im(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Sm(p,f),v=pC(l,s,p,f==="in"||f==="not-in");return ke.create(c,f,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function TC(t,e,n){const r=e,i=dd("where",t);return gl._create(i,r,n)}class pd extends fd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ft.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)D_(s,u),s=kc(s,u)}(e._query,n),new Ti(e.firestore,e.converter,kc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Im(t,e,n){if(typeof(n=ii(n))=="string"){if(n==="")throw new q(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rv(e)&&n.indexOf("/")!==-1)throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pe.fromString(n));if(!H.isDocumentKey(r))throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hp(t,new H(r))}if(n instanceof gt)return Hp(t,n._key);throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fl(n)}.`)}function Sm(t,e){if(!Array.isArray(t)||t.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D_(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class IC{convertValue(e,n="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _i(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ld(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lo(e));default:return null}}convertTimestamp(e){const n=Bn(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);he(Xv(r));const i=new bo(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||hn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class O_ extends V_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new na(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class na extends O_{data(e={}){return super.data(e)}}class AC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new na(this._firestore,this._userDataWriter,r.key,r,new Zi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new na(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zi(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new na(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zi(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:CC(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){t=hi(t,gt);const e=hi(t.firestore,ml);return iC(od(e),t._key).then(n=>NC(e,t,n))}class M_ extends IC{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function PC(t){t=hi(t,Ti);const e=hi(t.firestore,ml),n=od(e),r=new M_(e);return _C(t._query),oC(n,t._query).then(i=>new AC(e,r,t,i))}function kC(t,e){const n=hi(t.firestore,ml),r=S_(t),i=SC(t.converter,e);return xC(n,[fC(R_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,sn.exists(!1))]).then(()=>r)}function xC(t,e){return function(r,i){const o=new on;return r.asyncQueue.enqueueAndForget(async()=>WA(await rC(r),i,o)),o.promise}(od(t),e)}function NC(t,e,n){const r=n.docs.get(e._key),i=new M_(t);return new O_(t,i,e._key,r,new Zi(n.hasPendingWrites,n.fromCache),e.converter)}function VC(){return new cd("serverTimestamp")}(function(e,n=!0){(function(i){vi=i})(dI),Na(new Do("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new ml(new AI(r.getProvider("auth-internal")),new kI(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(c.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Gr(zp,"4.6.3",e),Gr(zp,"4.6.3","esm2017")})();var DC="firebase",OC="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(DC,OC,"app");const MC={apiKey:"AIzaSyCBoRismOzh9P_t-Awi2nfjpgSdtqf-MO0",authDomain:"proyecto-final--reactjs.firebaseapp.com",projectId:"proyecto-final--reactjs",storageBucket:"proyecto-final--reactjs.appspot.com",messagingSenderId:"36567792706",appId:"1:36567792706:web:697338c0636cd518a4c1db"},LC=sv(MC),ja=uC(LC),Am=({greeting:t})=>{const{category:e}=Qy(),[n,r]=U.useState([]),[i,o]=U.useState(!0),s=l=>{const u=l?EC(Fc(ja,"products"),TC("category","==",l)):Fc(ja,"products");PC(u).then(c=>{const f=c.docs.map(p=>({id:p.id,...p.data()}));r(f),o(!1)})};return U.useEffect(()=>{o(!0),s(e)},[e]),M.jsx(M.Fragment,{children:i?M.jsxs("div",{children:[M.jsx("h2",{children:"Cargando Productos..."}),M.jsx("div",{className:"spinner-border",role:"status"})]}):M.jsxs(M.Fragment,{children:[n.length===0&&M.jsx("h2",{children:"Categoria sin productos"}),n.length>0&&M.jsx("div",{className:"productsFlex",children:M.jsx(K1,{products:n})})]})})},bC=({stock:t,initial:e=1,onAdd:n})=>{const[r,i]=U.useState(e),o=()=>{if(r<t)return i(r+1);i(r)},s=()=>{if(r===1)return i(1);i(r-1)};return M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"button-container",children:[M.jsx("button",{className:"action-button",onClick:s,children:"-"}),M.jsx("p",{children:r}),M.jsx("button",{className:"action-button",onClick:o,children:"+"})]}),M.jsx("br",{}),M.jsx("button",{className:"btn btn-primary",onClick:()=>n(r),children:"Agregar al carrito"})]})},FC=({id:t,name:e,description:n,img:r,price:i,stock:o})=>{const{addItem:s}=U.useContext(Qo),l=u=>{s({id:t,price:i,name:e},u),yc.fire({icon:"success",title:"Se agrego el producto al carrito"})};return M.jsx(M.Fragment,{children:M.jsxs("div",{className:"custom-container",children:[M.jsx("div",{className:"image-container",children:M.jsx("img",{src:r,alt:e})}),M.jsxs("div",{className:"info",children:[M.jsxs("h5",{children:[M.jsxs("b",{children:[e," "]})," "]}),M.jsxs("p",{children:[" ",n," "]}),M.jsxs("p",{children:["Precio: $",i]}),M.jsx(bC,{stock:o,onAdd:l})]})]})})},jC=()=>{const{id:t}=Qy(),[e,n]=U.useState(null),[r,i]=U.useState(!0),[o,s]=U.useState(null),l=u=>{const c=S_(ja,"products",u);RC(c).then(f=>{if(f.exists()){const p={id:f.id,...f.data()};n(p)}else s("No se encontr el producto")}).catch(f=>{console.error("Error al obtener el producto:",f),s("Error al obtener el producto")}).finally(()=>{i(!1)})};return U.useEffect(()=>{i(!0),l(t)},[]),M.jsx(M.Fragment,{children:r?M.jsxs("div",{children:[M.jsx("h2",{children:"Cargando detalles del producto..."}),M.jsx("div",{className:"spinner-border",role:"status"})]}):M.jsxs(M.Fragment,{children:[o&&M.jsx("h2",{children:"No se encontr el producto"}),e&&M.jsx(FC,{...e})]})})},UC=()=>{const{cart:t,totalPrice:e,clearCart:n}=U.useContext(Qo),[r,i]=U.useState({name:"",phone:0,email:""}),[o,s]=U.useState(null),l=p=>{i({...r,name:p.target.value})},u=p=>{i({...r,phone:p.target.value})},c=p=>{i({...r,email:p.target.value})},f=async p=>{p.preventDefault();const v={buyer:r,items:t,totalPrice:e,date:VC()},T=await kC(Fc(ja,"orders"),v);i({name:"",phone:0,email:""}),n(),s(T.id)};return o?M.jsxs(M.Fragment,{children:[M.jsx("h3",{children:"Su ID de orden de compra es..."}),M.jsx("br",{}),M.jsx("h3",{children:o})]}):M.jsx("div",{className:"container d-flex justify-content-center m-5",children:M.jsxs("form",{onSubmit:f,children:[M.jsx("label",{htmlFor:"",children:"Nombre"}),M.jsx("input",{type:"text",className:"form-control",value:r.name,onChange:l}),M.jsx("label",{htmlFor:"",children:"Telfono"}),M.jsx("input",{type:"number",className:"form-control",value:r.phone,onChange:u}),M.jsx("label",{htmlFor:"",children:"Email"}),M.jsx("input",{type:"email",className:"form-control",value:r.email,onChange:c}),M.jsx("input",{type:"submit",className:"mt-3 btn btn-success",value:"Terminar la compra"})]})})};function BC(){return M.jsx(M.Fragment,{children:M.jsx(B1,{children:M.jsxs(b1,{children:[M.jsx($1,{}),M.jsx("main",{children:M.jsxs(x1,{children:[M.jsx(Zn,{path:"/",element:M.jsx(Am,{greeting:"Bienvenidos"})}),M.jsx(Zn,{path:"/category/:category",element:M.jsx(Am,{})}),M.jsx(Zn,{path:"/cart",element:M.jsx(W1,{})}),M.jsx(Zn,{path:"/checkout",element:M.jsx(UC,{})}),M.jsx(Zn,{path:"/item/:id",element:M.jsx(jC,{})}),M.jsx(Zn,{path:"*",element:M.jsx("h1",{children:"Error 404"})})]})})]})})})}Eu.createRoot(document.getElementById("root")).render(M.jsx(bm.StrictMode,{children:M.jsx(BC,{})}));
